(function(){function setCookie(name,value,expires){var Days=expires||7;var exp=new Date();exp.setTime(exp.getTime()+Days*24*60*60*1000);document.cookie=name+'='+escape(value)+';expires='+exp.toGMTString()}function getCookie(name){var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");if(arr=document.cookie.match(reg)){return unescape(arr[2])}else{return null}}var now=function(){if(typeof window.GET_SERVER_TIME==='function'){return window.GET_SERVER_TIME()}else{return new Date()}};function showPopup(html,opt){var onClose=opt.close;var onShow=opt.show;var timeout=opt.timeout;var autoCloseTimer;if(typeof timeout!=='undefined'){autoCloseTimer=setTimeout(function(){close()},timeout)}var happyDiv=''+html+'';var div=document.createElement('div');div.innerHTML=happyDiv;div.onclick=function(){close()};if(window.attachEvent){window.attachEvent('onload',show)}else{window.addEventListener('load',show)}function close(){autoCloseTimer&&clearTimeout(autoCloseTimer);document.querySelector('body').removeChild(div);if(typeof onClose==='function'){onClose()}}function show(){document.querySelector('body').appendChild(div);if(typeof onShow==='function'){onShow()}}}window.POP_1AD1_Mobile=function(opt){var key=opt.key;var html=opt.html;var expires=opt.expires;var startTime=opt.startTime;var endTime=opt.endTime;var showPop=opt.showPop;var showCallback=opt.showCallback;var preLoadImages=opt.preLoadImages;if(typeof showPop==='undefined'){showPop=true}var show=false;var setShow=true;if(typeof expires!=='undefined'){show=setShow=getCookie(key)!='1'}if(typeof startTime!=='undefined'){show=setShow=setShow&&now().getTime()>=startTime}if(typeof endTime!=='undefined'){show=setShow=setShow&&now().getTime()<endTime}if(show){if(typeof showCallback==='function'){showCallback()}var run=function(){showPopup(html,{close:function(pop){var onClose=opt.close;if(typeof onClose==='function'){onClose(pop)}if(typeof expires!=='undefined'){setCookie(key,'1',expires)}},timeout:opt.timeout,show:opt.show})};if(showPop){if(preLoadImages){new ImageLoader(preLoadImages,run)}else{run()}}}}}());