<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link media="all" href="http://i.gtimg.cn/vipstyle/frozenui/1.2.1/css/global.css?_bid=306" rel="stylesheet">
    <style>

.ui-label {
    display: inline-block;
    position: relative;
    line-height: 30px;
    height: 30px;
    padding: 0 15px;
    border: 1px solid #cacccd;
    border-radius: 15px
}

@media screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-label {
        position:relative;
        border: 0
    }

    .ui-label:before {
        content: "";
        width: 200%;
        height: 200%;
        position: absolute;
        top: 0;
        left: 0;
        border: 1px solid #cacccd;
        -webkit-transform: scale(0.5);
        -webkit-transform-origin: 0 0;
        padding: 1px;
        -webkit-box-sizing: border-box;
        border-radius: 30px
    }
}

.ui-label:active {
    background-color: #f3f2f2
}

.ui-label-list {
    margin: 0 10px
}

.ui-label-list .ui-label {
    margin: 0 10px 10px 0
}

.ui-label-s {
    font-size: 11px;
    line-height: 13px;
    display: inline-block;
    position: relative;
    padding: 0 1px;
    color: #ff7f0d;
    border: 1px solid #ff7f0d;
    border-radius: 2px
}

@media screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-label-s {
        position:relative;
        border: 0
    }

    .ui-label-s:before {
        content: "";
        width: 200%;
        height: 200%;
        position: absolute;
        top: 0;
        left: 0;
        border: 1px solid #ff7f0d;
        -webkit-transform: scale(0.5);
        -webkit-transform-origin: 0 0;
        padding: 1px;
        -webkit-box-sizing: border-box;
        border-radius: 4px
    }
}

.ui-label-s:active {
    background-color: #f3f2f2
}

.ui-label-s:after {
    content: "";
    position: absolute;
    top: -5px;
    bottom: -5px;
    left: -5px;
    right: -5px
}
</style>
	<style>

.strategy-icon {
    position: relative;
    padding-left: 20px
}

.strategy-icon:after,.strategy-icon.strategy-icon-star-big:before {
    background: url(../../img/icons_f65d86.png?) 0 0 no-repeat;
    -webkit-background-size: 18px auto;
    position: absolute;
    content: "";
    width: 15px;
    height: 15px;
    top: 0;
    left: 2px
}

.strategy-icon.strategy-icon-zan:after {
    background-position: 0 -16px
}

.strategy-icon.strategy-icon-zan-small:after {
    background-position: 0 -97px
}

.strategy-icon.strategy-icon-star:after {
    background-position: 0 0
}

.strategy-icon.strategy-icon-watch:after {
    background-position: 0 -32px;
    top: 3px;
    height: 9px
}

.strategy-icon.strategy-icon-comment:after {
    background-position: 0 -82px;
    height: 13px
}

.strategy-icon.strategy-icon-star-big:after {
    background-position: 0 -43px;
    height: 18px;
    width: 18px;
    top: -1px
}

.strategy-icon.strategy-icon-star-big:before {
    background-position: 0 -63px;
    height: 18px;
    width: 18px;
    z-index: 2;
    top: -1px;
    left: 1px;
    -webkit-transform: scale(0);
    -webkit-transition: all .3s;
    -webkit-transition: all .3s cubic-bezier(0,.58,.8,1.67);
    -webkit-transform-origin: 9px 9px
}

.attention .strategy-icon.strategy-icon-star-big:before {
    -webkit-transform: scale(1)
}
</style>
    <style>

.ui-border-t {
    border-top: 1px solid #eee
}

.ui-border-b {
    border-bottom: 1px solid #eee
}

.ui-border-tb {
    border-top: #eee 1px solid;
    border-bottom: #eee 1px solid;
    background-image: none
}

.ui-border-l {
    border-left: 1px solid #eee
}

.ui-border-r {
    border-right: 1px solid #eee
}

.ui-border {
    border: 1px solid #eee
}

.ui-border-radius {
    border: 1px solid #eee;
    border-radius: 4px
}

@media screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-border-radius {
        position:relative;
        border: 0
    }

    .ui-border-radius:before {
        content: "";
        width: 200%;
        height: 200%;
        position: absolute;
        top: 0;
        left: 0;
        border: 1px solid #eee;
        -webkit-transform: scale(0.5);
        -webkit-transform-origin: 0 0;
        padding: 1px;
        -webkit-box-sizing: border-box;
        border-radius: 8px;
        pointer-events: none
    }
}

@media screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-border {
        position:relative;
        border: 0
    }

    .ui-border-t,.ui-border-b,.ui-border-l,.ui-border-r,.ui-border-tb {
        border: 0
    }

    .ui-border-t {
        background-position: left top;
        background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee))
    }

    .ui-border-b {
        background-position: left bottom;
        background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee))
    }

    .ui-border-t,.ui-border-b,.ui-border-tb {
        background-repeat: repeat-x;
        -webkit-background-size: 100% 1px
    }

    .ui-border-tb {
        background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee)),-webkit-gradient(linear,left top,left bottom,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee));
        background-position: top,bottom
    }

    .ui-border-l {
        background-position: left top;
        background-image: -webkit-gradient(linear,right top,left top,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee))
    }

    .ui-border-r {
        background-position: right top;
        background-image: -webkit-gradient(linear,left top,right top,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee))
    }

    .ui-border-l,.ui-border-r {
        background-repeat: repeat-y;
        -webkit-background-size: 1px 100%
    }

    .ui-border:after {
        content: "";
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee)),-webkit-gradient(linear,left top,right top,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee)),-webkit-gradient(linear,left top,left bottom,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee)),-webkit-gradient(linear,right top,left top,color-stop(0.5,transparent),color-stop(0.5,#eee),to(#eee));
        -webkit-background-size: 100% 1px,1px 100%,100% 1px,1px 100%;
        background-size: 100% 1px,1px 100%,100% 1px,1px 100%;
        background-size: 100% 1px,1px 100%,100% 1px,1px 100%;
        background-repeat: no-repeat;
        background-position: top,right,bottom,left;
        padding: 1px;
        -webkit-box-sizing: border-box;
        z-index: 10;
        pointer-events: none
    }
}

@font-face {
    font-family: icon-normal;
    src: url(http://i.gtimg.cn/vipstyle/mobile/client/gamecenter/frozenui/font/icon-normal.ttf?bid=2162) format("truetype")
}

.gc-icon-normal {
    font-family: icon-normal!important;
    font-size: 32px;
    line-height: 44px;
    -webkit-font-smoothing: antialiased;
    -webkit-text-stroke-width: .2px
}

.gc-icon-newgame:before {
    content: "\f00b"
}

.gc-icon-cat:before {
    content: "\f006"
}

.gc-icon-rank:before {
    content: "\f00c"
}

.gc-icon-gift:before {
    content: "\f009"
}

.gc-icon-my:before {
    content: "\f00a"
}

.gc-icon-find:before {
    content: "\f007"
}

.gc-icon-game:before {
    content: "\f008"
}

.bottom-menu li.current {
    color: #e72424
}

.bottom-menu li.current .gc-icon-game:before {
    content: "\f00e"
}

.bottom-menu li.current .gc-icon-gift:before {
    content: "\f005"
}

.bottom-menu li.current .gc-icon-find:before {
    content: "\f00d"
}

.bottom-menu li.current .gc-icon-my:before {
    content: "\f004"
}

.gc-icon-buluo:before {
    content: "\f00f"
}

.gc-icon-video:before {
    content: "\f010"
}

.gc-icon-guild:before {
    content: "\f011"
}

.gc-icon-pk:before {
    content: "\f012"
}

.gc-icon-strategy:before {
    content: "\f013"
}

.gc-icon-like:before {
    content: "\f002"
}

.gc-icon-comment:before {
    content: "\f003"
}

.gc-icon-storage:before {
    content: "\f014"
}

.gc-icon-star:before {
    content: "\f015"
}

.gc-icon-star-block:before {
    content: "\f01f"
}

.gc-icon-img-ph:before {
    content: "\f020"
}

.ui-gameicon-ph,.ui-gameicon-ph-s,.ui-gameicon-ph-m,.ui-img-ph {
    font-size: 64px
}

.ui-gameicon-ph>span,.ui-gameicon-ph-s>span,.ui-gameicon-ph-m>span,.ui-img-ph>span,.ui-gameicon-ph>img,.ui-gameicon-ph-s>img,.ui-gameicon-ph-m>img,.ui-img-ph>img {
    position: relative;
    z-index: 2
}

.ui-gameicon-ph>i,.ui-gameicon-ph-s>i,.ui-gameicon-ph-m>i,.ui-img-ph>i {
    position: absolute;
    z-index: 9
}

.ui-gameicon-ph:after,.ui-gameicon-ph-s:after,.ui-gameicon-ph-m:after,.ui-img-ph:after {
    font-family: icon-normal!important;
    font-size: .5em;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -webkit-text-stroke-width: .2px;
    content: "\f008";
    z-index: 0;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    text-align: center;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-pack: center;
    -webkit-box-align: center;
    background-color: #eee;
    color: #fff;
    border-radius: 12px
}

.ui-gameicon-ph-s {
    font-size: 30px
}

.ui-gameicon-ph-m {
    font-size: 50px
}

.ui-img-ph {
    border-radius: 0
}

.ui-img-ph:after {
    content: "\f020";
    border-radius: 0
}

.ui-tab-nav li.current {
    color: #f44444;
    border-bottom: 2px #f44444 solid
}

.ui-btn,.ui-btn-s {
    color: #5b5b5b
}

.ui-btn-progress .ui-btn-inner {
    background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0.5,#54565d),to(#54565d))
}

.ui-btn-lg.ui-btn-progress .ui-btn-inner {
    background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0.5,#1fbaf3),to(#18b4ed))
}

.ui-btn-wrap {
    text-align: center;
    padding: 15px 10px;
    background-color: #fff
}

.ui-btn-more {
    position: relative;
    padding: 0 22px 0 15px;
    line-height: 25px;
    height: 25px;
    border-radius: 25px;
    border-color: #cacccd;
    color: #777;
    background: 0 0
}

.ui-btn-more:before {
    border-radius: 25px;
    border-color: #cacccd
}

.ui-btn-more:disabled:after {
    color: #ccc
}

.ui-btn-more:after {
    background: url(http://i.gtimg.cn/vipstyle/frozenui/1.2.0/img/icon.png?_bid=306&max_age=31536000) no-repeat 0 -75px;
    -webkit-background-size: 150px auto;
    content: "";
    display: block;
    width: 9px;
    height: 15px;
    position: absolute;
    right: 10px;
    top: 50%;
    margin-top: -7px;
    -webkit-transform: rotate(90deg);
    left: initial
}

.ui-btn-more.up:after {
    -webkit-transform: rotate(270deg);
    right: 10px
}

.ui-btn-more:not(.disabled):not(:disabled):active,.ui-btn-more:not(.disabled):not(:disabled).active {
    color: rgba(202,204,205,.9)
}

.ui-btn-more:not(.disabled):not(:disabled):active:after,.ui-btn-more:not(.disabled):not(:disabled).active:after {
    color: rgba(202,204,205,.9)
}

.ui-arrowlink:before {
    right: 0
}

.ui-arrowlink:after {
    content: "";
    position: absolute;
    top: -12px;
    bottom: -12px;
    left: 0;
    right: 0
}

.ui-border-tr {
    position: relative
}

.ui-border-tr:after {
    content: "";
    border-top: #eee 1px solid;
    -webkit-box-sizing: border-box;
    z-index: 10;
    pointer-events: none;
    position: absolute;
    top: 0;
    left: 0;
    right: 0
}

@media screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-border-tr:after {
        -webkit-transform:scaleY(0.5);
        -webkit-transform-origin: 0 0
    }
}

.ui-border-tr:before {
    content: "";
    border-right: #eee 1px solid;
    -webkit-box-sizing: border-box;
    z-index: 10;
    pointer-events: none;
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0
}

@media screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-border-tr:before {
        -webkit-transform:scaleX(0.5);
        -webkit-transform-origin: 0 0
    }
}

.ui-text-red {
    color: #ff4222
}

.strategy .ui-searchbar-wrap {
    background-color: #ebeced
}

.strategy .header {
    padding-left: 15px;
    position: relative
}

.strategy .header .more {
    color: gray;
    font-size: 14px;
    position: absolute;
    right: 15px;
    top: 16px;
    line-height: 1;
    padding-right: 10px
}

.strategy h3 {
    font-size: 17px;
    line-height: 47px
}

.strategy-bg {
    background-color: #efeff4;
    padding-bottom: 30px
}

.strategy-bg .mb10 {
    margin-bottom: 10px
}

.strategy-tab .ui-tab-nav {
    position: inherit
}

.strategy-tab .ui-tab-content {
    margin-top: 0
}

.strategy-list-normal li {
    height: 110px
}

.strategy-list-normal .ui-list-info {
    -webkit-box-pack: start;
    position: relative;
    padding-top: 10px;
    padding-bottom: 10px;
    padding-right: 0;
    margin-right: 15px
}

.strategy-list-normal .info-wrap {
    height: 65px;
    overflow: hidden
}

.strategy-list-normal h4 {
    font-size: 16px;
    color: #000;
    line-height: 19px;
    margin-bottom: 7px;
    padding-top: 4px
}

.strategy-list-normal p.sub-info {
    line-height: 18px
}

.strategy-list-normal .ui-list-thumb {
    width: 80px;
    height: 80px;
    margin: 15px 15px 15px 0
}

.ui-label-s {
    vertical-align: middle;
    padding: 2px 4px
}

.ui-label-s.new {
    color: #00c795;
    border-color: #00c795
}

@media screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-label-s.new:before,.ui-label-s.new {
        color:#00c795;
        border-color: #00c795
    }
}

.ui-label-s.advance {
    color: #5ec3f0;
    border-color: #5ec3f0
}

@media screen and (-webkit-min-device-pixel-ratio: 2) {
    .ui-label-s.advance:before,.ui-label-s.advance {
        color:#5ec3f0;
        border-color: #5ec3f0
    }
}

.heightlight {
    color: #f28c48
}
</style>
    <style>

.strategy-body-index section {
    background-color: #fff
}

.strategy-body-index .ui-list-text>li {
    padding-right: 15px
}

.strategy-banner .banner-content {
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    position: relative;
    padding-top: 25.07%
}

.strategy-banner .attention-item {
    position: absolute;
    top: 0;
    height: 100%;
    width: 100%;
    background-color: rgba(0,0,0,.5)
}

.strategy-banner .attention-item>li {
    height: 100%
}

.strategy-banner .ui-list-thumb {
    width: 64px;
    height: 100%;
    display: -webkit-box;
    -webkit-box-pack: center;
    -webkit-box-orient: horizontal;
    -webkit-box-align: center;
    margin: 0 10px 0 0
}

.strategy-banner .ui-list-thumb>span {
    width: 64px;
    height: 64px;
    position: relative
}

.strategy-banner .ui-list-info {
    padding-right: 90px
}

.strategy-banner .ui-list-info>h4 {
    color: #fff
}

.strategy-banner .ui-list-info>p {
    color: #ccc
}

.strategy-banner .ui-btn {
    width: 70px;
    text-align: center;
    color: #fff;
    padding: 0
}

.strategy-banner .ui-btn .add {
    margin-right: 3px
}

.strategy-banner .ui-btn.attented {
    color: #00a5e0
}

.strategy-slider {
    background-color: #fff;
    padding: 15px 0;
    width: 100%;
    overflow: hidden
}

.strategy-slider .slider-list {
    height: 75px
}

.strategy-slider .slider-list li {
    margin-left: 15px;
    position: relative;
    width: 130px;
    height: 75px;
    overflow: hidden;
    float: left
}

.strategy-slider .slider-list li:last-child {
    margin-right: 15px
}

.strategy-slider .thumb {
    width: 130px;
    height: 75px;
    position: relative
}

.strategy-slider .thumb span {
    width: 100%;
    height: 100%;
    -webkit-background-size: 100% 100%;
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 1;
    border-radius: 5px
}

.strategy-slider .text-mask {
    position: absolute;
    left: 0;
    bottom: 0;
    z-index: 2;
    height: 25px;
    width: 100%;
    background: -webkit-linear-gradient(transparent,rgba(0,0,0,.6));
    text-align: center;
    color: #fff;
    font-size: 13px;
    line-height: 25px;
    font-weight: 700;
    -webkit-border-bottom-left-radius: 5px;
    -webkit-border-bottom-right-radius: 5px
}

.strategy-list-dynamic .list-cont p {
    font-size: 16px;
    color: #000
}

.strategy-list-dynamic .list-cont p .info {
    color: gray;
    padding-right: 8px
}

.strategy-list-dynamic .list-cont p.hot {
    max-width: 90%
}

@media screen and (max-width: 320px) {
    .strategy-list-dynamic .list-cont p {
        font-size:14px
    }
}

.strategy-list-dynamic .list-cont li.active {
    background-color: #e5e6e7;
    padding-left: 15px;
    margin-left: 0
}

.strategy-list-baike .baike-list {
    text-align: center;
    padding-bottom: 15px
}

.strategy-list-baike .baike-list:after {
    content: "";
    width: 100%;
    clear: both;
    display: block
}

.strategy-list-baike .baike-list li {
    padding-top: 15px;
    position: relative;
    width: 33.33%;
    float: left
}

.strategy-list-baike .baike-item {
    width: 60px;
    margin: 0 auto
}

.strategy-list-baike .baike-item img {
    width: 100%;
    height: 60px;
    border-radius: 50%
}

.strategy-list-category {
    margin-bottom: 34px
}

.strategy-list-category .cate-wrap {
    padding-top: 7px
}

.strategy-list-category .cate-list {
    overflow: hidden;
    text-align: center;
    padding-right: 10px
}

.strategy-list-category .cate-list li {
    line-height: 1;
    font-size: 14px;
    padding: 6px 0;
    border: 1px solid #dedfe0;
    border-radius: 20px;
    margin-left: 10px;
    margin-top: 8px;
    width: 85px;
    float: left
}

.strategy-list-category .cate-list .current {
    border: 1px solid #f44444
}

.strategy-list-category .cate-list-bd {
    background-color: #fff
}

.strategy-list-category .cate-list-bd .strategy-list-normal>li.no-pic .ui-list-thumb {
    display: none
}

.strategy-list-category .cate-list-bd .sub-info {
    font-size: 14px;
    color: #777
}

.strategy-list-category .cate-list-bd .watch-info {
    color: #bbb;
    font-size: 12px;
    position: absolute;
    bottom: 15px;
    line-height: 1;
    width: 100%
}

.strategy-list-category .cate-list-bd .watch-info .strategy-icon-warp {
    float: right;
    position: relative;
    margin-left: 16px
}

.strategy-list-category .cate-list-bd .watch-info .strategy-icon {
    padding-left: 16px;
    position: absolute;
    left: -16px;
    top: 50%;
    margin-top: -8px
}

.strategy-list-category .cate-list-bd .watch-info .ui-nowrap {
    display: inline-block;
    max-width: 70%
}

.strategy-list-category .cate-list-bd .watch-info .count-info {
    position: absolute;
    right: 0;
    top: 0
}

.strategy-list-category .cate-list-bd .watch-info .info-label {
    position: relative;
    margin-left: 16px
}

.strategy-list-category .cate-list-bd li.visited {
    color: gray
}

.strategy-list-category .cate-list-bd li.active {
    background-color: #eee;
    padding-left: 15px;
    margin-left: 0
}

.strategy-action {
    position: fixed;
    bottom: 0;
    z-index: 9999;
    width: 100%
}

.strategy-action .btn-wrap {
    width: 100%;
    box-sizing: border-box;
    padding: 10px 15px;
    background-color: #efeff4
}

.strategy-action .btn-wrap .ui-btn-progress.ui-btn-lg {
    width: 2.9rem
}

.strategy-action .btn-wrap .ui-btn-progress .ui-btn-inner span {
    width: 2.9rem
}

.strategy-body-index.wipe-bottom-btn .strategy-list-category {
    margin-bottom: 0
}

.strategy-body-index.wipe-bottom-btn .strategy-action {
    display: none
}

@media screen and (max-width: 319px) {
    html {
        font-size:100px
    }
}

@media screen and (min-width: 320px) and (max-width:359px) {
    html {
        font-size:100px
    }
}

@media screen and (min-width: 360px) and (max-width:374px) {
    html {
        font-size:112.5px
    }
}

@media screen and (min-width: 375px) and (max-width:383px) {
    html {
        font-size:117.19px
    }
}

@media screen and (min-width: 384px) and (max-width:399px) {
    html {
        font-size:120px
    }
}

@media screen and (min-width: 400px) and (max-width:413px) {
    html {
        font-size:125px
    }
}

@media screen and (min-width: 414px) {
    html {
        font-size:129.38px
    }
}

@media screen and (min-width: 359px) and (max-width:374px) {
    .strategy-list-category .cate-list li {
        width:75px
    }
}

@media screen and (min-width: 375px) and (max-width:399px) {
    .strategy-list-category .cate-list li {
        width:78px
    }
}

@media screen and (min-width: 480px) and (max-width:799px) {
    .strategy-list-category .cate-list li {
        width:80px
    }
}
</style>
	<style>

.loading-all {
    width: 100%;
    height: 100%;
    background: #fff;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-pack: center;
    -webkit-box-align: center;
    position: absolute;
    text-align: center
}

.loading-all i {
    display: block;
    background-size: 166px auto;
    width: 100px;
    height: 100px
}

.loading-all i.la-loading {
    background-image: url(../../img/global/loading_main_b21220.png?);
    background-size: 166px auto;
    position: relative
}

.loading-all i.la-loading .loading {
    background-image: none;
    position: absolute;
    bottom: 0;
    left: 0;
    padding: 0;
    margin: 0;
    -webkit-transform: translate(0,0,0);
    -webkit-transform: translate3d(0,0,0);
    overflow: hidden;
    height: 0;
    -webkit-animation: loading 1.5s linear infinite
}

.loading-all i.la-loading .loading:after {
    background-image: url(../../img/global/loading_main_b21220.png?);
    content: "";
    display: block;
    width: 100px;
    height: 100px;
    background-size: 166px auto;
    background-position: 0 -100px;
    position: absolute;
    bottom: 0;
    left: 0;
    padding: 0;
    margin: 0
}

.loading-all p {
    font-size: 16px;
    line-height: 20px;
    color: #ababab;
    text-align: center
}

@-webkit-keyframes loading {
    0% {
        -webkit-transform: translate(0,0,0);
        -webkit-transform: translate3d(0,0,0);
        height: 0
    }

    90% {
        -webkit-transform: translate(0,0,0);
        -webkit-transform: translate3d(0,0,0);
        height: 100px
    }

    100% {
        -webkit-transform: translate(0,0,0);
        -webkit-transform: translate3d(0,0,0);
        height: 100px
    }
}

.loading-text {
    position: relative;
    width: 100%
}

.loading-text span {
    background-image: url(../../img/global/loading_main_b21220.png?);
    display: inline-block;
    background-repeat: no-repeat;
    background-size: 166px auto;
    height: 15px;
    text-align: center
}

.loading-text .step1 span {
    background-position: 0 -200px;
    width: 106px
}

.loading-text .step2 span {
    background-position: 0 -223px;
    width: 116px
}

.loading-text .step3 span {
    background-position: 0 -246px;
    width: 166px
}

.loading-text .step {
    opacity: 0;
    width: 100%;
    position: absolute;
    -webkit-transition: all .5s ease-out
}

.loading-text .step.default-show {
    opacity: 1
}

.loading-text .step.show {
    -webkit-animation: show 2000ms ease-in-out forwards
}

@-webkit-keyframes show {
    0% {
        opacity: 0
    }

    100% {
        opacity: 1
    }
}
</style>
	<script>
window._timePoints && (_timePoints[18] = Date.now()),
function() {
    var i = '	<section class="loading-all" id="loading-wrap"><i class="la-loading"><i class="loading"></i></i><div class="loading-text"><div class="step step' + Math.ceil(3 * Math.random()) + ' default-show"><span></span></div></div></section>'
      , a = /(iPad|iPhone|iPod).*? (IPad)?QQ\/([\d\.]+)/
      , e = /\bV1_AND_SQI?_([\d\.]+)(.*? QQ\/([\d\.]+))?/
      , d = navigator.userAgent
      , n = e.test(d)
      , s = a.test(d);
    n ? document.write('<iframe src="jsbridge://publicAccount/hideLoading#" style="display:none;"></iframe>') : s && document.write('<iframe src="jsbridge://nav/hideLoading#" style="display:none;"></iframe>'),
    document.write(i)
}();
</script>
    <title></title>
</head>
<body ontouchstart="" class="strategy strategy-body-index strategy-bg">
    <div class="wrapper" id="main_frame" style="display:none;">
    	<section class="strategy-banner mb10" id="top_banner" style="display:none">
            <div class="banner-content" id="top_banner_content" style="">
		        <ul class="attention-item ui-list ui-list-function">
		            <li>
		                <div class="ui-list-thumb">
		                    <span id="top_banner_icon" style=""></span>
		                </div>
		                <div class="ui-list-info">
		                    <h4 class="ui-nowrap" id="top_banner_title"></h4>
		                    <p class="ui-nowrap" id="top_banner_detail"></p>
		                </div>
		                <button class="ui-btn ui-btn-primary" id="btn_follow" _event="subscribe_game" style="display:none"><span class="add">+</span>&#x5173;&#x6CE8;</button>
		                <button class="ui-btn attented" id="btn_cancel_follow" _event="unsubscribe_game" style="display:none">&#x53D6;&#x6D88;&#x5173;&#x6CE8;</button>
		            </li>
		        </ul>
		    </div>
        </section>
        <section class="strategy-slider mb10" id="top_ad_main">
            <ul class="slider-list" style="" id="top_ad_container"></ul>
        </section>
        <section class="strategy-list-dynamic mb10 ui-border-t" id="dynamic_main">
            <header class="header ui-border-b">
                <h3>&#x6700;&#x65B0;&#x52A8;&#x6001;</h3>
                <div class="more ui-arrowlink" style="display:none;">&#x66F4;&#x591A;</div>
            </header>
            <div class="list-cont">
                <ul class="ui-list ui-list-text  ui-border-b" id="dynamic_container">
                </ul>
            </div>
        </section>
        <section class="strategy-list-baike mb10 ui-border-tb" id="wiki_main">
            <header class="header ui-border-b">
                <h3>&#x6E38;&#x620F;&#x767E;&#x79D1;</h3>
            </header>
            <div class="baike-wrap">
                <ul class="baike-list" id="wiki_container">
                </ul>
            </div>
        </section>
        <section class="strategy-list-category ui-border-t">
            <header class="header ui-border-b">
                <h3>&#x5206;&#x7C7B;&#x653B;&#x7565;</h3>
            </header>
            <div class="cate-wrap" id="sort_container">
            </div>
            <div class="cate-list-bd">
                <ul class="strategy-list-normal ui-list  ui-border-b" id="strategy_container">
                </ul>
				<div id="button_stgy_more" class="ui-btn-wrap" style="display:none;" _event="stgy_more">
					<button class="ui-btn ui-btn-more">&#x5C55;&#x5F00;&#x66F4;&#x591A;</button>
				</div>
            </div>
        </section>
		<section class="strategy-action">
			<div class="btn-wrap" id="btn_con" style="display: none;">
				<button class="ui-btn-lg ui-btn-progress " id="bottom_btn">
					<span class="ui-btn-inner" style="width:100%"><span>&#x4E0B;&#x8F7D;</span></span>
				</button>
			</div>
		</section>
    </div>
</body> 
<script type="text/tpl" id="top_ad_tpl">

	<%for(var i = 0 ,item ; item = list[i] ; i++){%>
		<li _event="click_top_ad" url="<%=item.url%>" aid="<%=(item.id)%>" <%if(i==0){%>data-qta="openUrl"<%}%>>
			<div class="thumb">
				<span style="background-image:url(<%=item.image%>)"></span>
			</div>
			<div class="text-mask">
				<label><%=item.title%></label>
			</div>
		</li>
	<%}%>
</script>
<script type="text/tpl" id="dynamic_tmpl">

	<%for(var i=0 ,item;item = list[i] ; i++){%>
		<li class="ui-border-t" _event="view_dynamic" stgyid="<%=item.id%>" <%if(i==0){%>data-qta="openUrl"<%}%>>
			<p class="ui-nowrap hot">
			<label class="info"><%=item.category||"其他"%></label>
			<label><%=item.title%></label></p>
		</li>
	<%}%>
</script>
<script type="text/tpl" id="wiki_tmpl">

	<%for( var i = 0 ; i < Math.min( list.length , 3);i++){ var item = list[i];%>
		<li _event="view_wiki" url="<%=item.url%>" wid="<%=item.id%>" <%if(i==0){%>data-qta="openUrl"<%}%>>
			<div class="baike-item">
				<img src="<%=item.image%>">
				<h5><%=item.title%></h5>
			</div>
		</li>
	<%}%>
</script>
<script type="text/tpl" id="sort_tmpl">

	<ul class="cate-list">
		<li class="current" _event="switch_category" category="all" >全部</li>
		<%for(var i =0, item;  item=list[i];i++){ %>
			<li  _event="switch_category" category="<%=item%>">
				<%=item%>
			</li>
		<%}%>
	</ul>
</script>
<script type="text/tpl" id="strategy_tmpl">

<%for(var i = 0 ,item ; item = list[i] ;i++){%>
	<li class="ui-border-t <%=item.visited?"visited":""%>" _event="view_strategy" stgyid="<%=item.id%>" <%if(i==0){%>data-qta="openUrl"<%}%>>
		<div class="ui-list-info">
			<div class="info-wrap">
				<h4 class="ui-nowrap-multi">
					<!--<label class="ui-label-s strategy-text-tag new">最新</label>-->
					<%=item.title%>
				</h4>
				<p class="sub-info ui-nowrap-multi"><%=item.abstract%></p>
			</div>
			<div class="watch-info">
				<div class="ui-nowrap"><%=appName%></div>
				<label class="strategy-icon-warp">
					<div><%=(formatTime(parseDate(item.createTime).valueOf())||"")%></div>
				</label>
			</div>
		</div>
		<div class="ui-list-thumb ui-img-ph">
			<img class="image_avatar" src="<%=item.image%>" style="width:80px;height:80px;position:absolute;z-index: 1;">
		</div>
	</li>
<%}%>
</script>
<script>
var BJ_REPORT = function(e) {
    if (e.BJ_REPORT)
        return e.BJ_REPORT;
    var t = []
      , r = e.onerror;
    e.onerror = function(t, n, i, u, c) {
        var l = t;
        c && c.stack && (l = a(c)),
        o(l, "Event") && (l += l.type ? "--" + l.type + "--" + (l.target ? l.target.tagName + "--" + l.target.src : "") : ""),
        f.push({
            msg: l,
            target: n,
            rowNum: i,
            colNum: u
        }),
        d(),
        r && r.apply(e, arguments)
    }
    ;
    var n = {
        id: 0,
        uin: 0,
        url: "",
        combo: 1,
        ext: {},
        level: 4,
        ignore: [],
        random: 1,
        delay: 1e3,
        submit: null 
    }
      , o = function(e, t) {
        return Object.prototype.toString.call(e) === "[object " + (t || "Object") + "]"
    }
      , i = function(e) {
        var t = typeof e;
        return "object" === t && !!e
    }
      , u = function(e) {
        try {
            if (e.stack) {
                var t = e.stack.match("http://[^\n]+");
                t = t ? t[0] : "";
                var r = t.match(":([0-9]+):([0-9]+)");
                r || (r = [0, 0, 0]);
                var n = a(e);
                return {
                    msg: n,
                    rowNum: r[1],
                    colNum: r[2],
                    target: t.replace(r[0], "")
                }
            }
            return e
        } catch (o) {
            return e
        }
    }
      , a = function(e) {
        var t = e.stack.replace(/\n/gi, "").split(/\bat\b/).slice(0, 5).join("@").replace(/\?[^:]+/gi, "")
          , r = e.toString();
        return t.indexOf(r) < 0 && (t = r + "@" + t),
        t
    }
      , c = function(e, t) {
        var r = []
          , o = []
          , u = [];
        if (i(e)) {
            e.level = e.level || n.level;
            for (var a in e) {
                var c = e[a] || "";
                if (c) {
                    if (i(c))
                        try {
                            c = JSON.stringify(c)
                        } catch (l) {
                            c = "[BJ_REPORT detect value stringify error] " + l.toString()
                        }
                    u.push(a + ":" + c),
                    r.push(a + "=" + encodeURIComponent(c)),
                    o.push(a + "[" + t + "]=" + encodeURIComponent(c))
                }
            }
        }
        return [o.join("&"), u.join(","), r.join("&")]
    }
      , l = []
      , s = function(e) {
        if (n.submit)
            n.submit(e);
        else {
            var t = new Image;
            l.push(t),
            t.src = e,
            setTimeout(function() {
                window.mqq && window.mqq.debug && window.mqq.debug.detailLog ? mqq.debug.detailLog({
                    id: "gameCenter",
                    subid: "badjs",
                    content: e,
                    level: "error"
                }) : setTimeout(arguments.callee, 50)
            }, 50)
        }
    }
      , p = []
      , m = 0
      , d = function(e) {
        if (n.report) {
            for (; t.length; ) {
                for (var r = !1, i = t.shift(), u = c(i, p.length), a = 0, l = n.ignore.length; l > a; a++) {
                    var d = n.ignore[a];
                    if (o(d, "RegExp") && d.test(u[1]) || o(d, "Function") && d(i, u[1])) {
                        r = !0;
                        break
                    }
                }
                r || (n.combo ? p.push(u[0]) : s(n.report + u[2] + "&_t=" + +new Date),
                n.onReport && n.onReport(n.id, i))
            }
            var f = p.length;
            if (f) {
                var g = function() {
                    clearTimeout(m),
                    s(n.report + p.join("&") + "&count=" + f + "&_t=" + +new Date),
                    m = 0,
                    p = []
                }
                ;
                e ? g() : m || (m = setTimeout(g, n.delay))
            }
        }
    }
      , f = {
        push: function(e) {
            return Math.random() >= n.random ? f : (t.push(i(e) ? u(e) : {
                msg: e
            }),
            d(),
            f)
        },
        report: function(e) {
            return e && f.push(e),
            d(!0),
            f
        },
        info: function(e) {
            return e ? (i(e) ? e.level = 2 : e = {
                msg: e,
                level: 2
            },
            f.push(e),
            f) : f
        },
        debug: function(e) {
            return e ? (i(e) ? e.level = 1 : e = {
                msg: e,
                level: 1
            },
            f.push(e),
            f) : f
        },
        init: function(e) {
            if (i(e))
                for (var t in e)
                    n[t] = e[t];
            var r = parseInt(n.id, 10);
            return r && (n.report = (n.url || "http://badjs.vip.qq.com/badjs") + "?id=" + r + "&uin=" + parseInt(n.uin || (document.cookie.match(/\buin=\D+(\d+)/) || [])[1], 10) + "&from=" + encodeURIComponent(location.href) + "&ext=" + JSON.stringify(n.ext) + "&"),
            f
        },
        __onerror__: e.onerror
    };
    return f
}(window);
"undefined" != typeof exports && ("undefined" != typeof module && module.exports && (exports = module.exports = BJ_REPORT),
exports.BJ_REPORT = BJ_REPORT),
function() {
    var e = 1;
    "imgcache.qq.com" == window.location.host,
    BJ_REPORT && BJ_REPORT.init({
        id: 50,
        combo: 1,
        delay: 100,
        url: "http://badjs.vip.qq.com/badjs",
        random: e,
        ignore: [/Script error/i],
        level: 4
    })
}();
</script>
<script>
!function(e, r) {
    function t(e) {
        return function(r) {
            return {}.toString.call(r) == "[object " + e + "]"
        }
    }
    function n() {
        return S++
    }
    function i(e) {
        return e.match(T)[0]
    }
    function o(e) {
        for (e = e.replace(C, "/"),
        e = e.replace(I, "$1/"); e.match(U); )
            e = e.replace(U, "/");
        return e
    }
    function s(e) {
        var r = e.length - 1
          , t = e.charCodeAt(r);
        return 35 === t ? e.substring(0, r) : ".js" === e.substring(r - 2) || e.indexOf("?") > 0 || 47 === t ? e : e + ".js"
    }
    function a(e) {
        var r = A.alias;
        return r && w(r[e]) ? r[e] : e
    }
    function u(e) {
        var r, t = A.paths;
        return t && (r = e.match(G)) && w(t[r[1]]) && (e = t[r[1]] + r[2]),
        e
    }
    function c(e) {
        var r = A.vars;
        return r && e.indexOf("{") > -1 && (e = e.replace(R, function(e, t) {
            return w(r[t]) ? r[t] : e
        })),
        e
    }
    function f(e) {
        var r = A.map
          , t = e;
        if (r)
            for (var n = 0, i = r.length; i > n; n++) {
                var o = r[n];
                if (t = x(o) ? o(e) || e : e.replace(o[0], o[1]),
                t !== e)
                    break
            }
        return t
    }
    function l(e, r) {
        var t, n = e.charCodeAt(0);
        if (L.test(e))
            t = e;
        else if (46 === n)
            t = (r ? i(r) : A.cwd) + e;
        else if (47 === n) {
            var s = A.cwd.match(j);
            t = s ? s[0] + e.substring(1) : e
        } else
            t = A.base + e;
        return 0 === t.indexOf("//") && (t = location.protocol + t),
        o(t)
    }
    function d(e, r) {
        if (!e)
            return "";
        e = a(e),
        e = u(e),
        e = a(e),
        e = c(e),
        e = a(e),
        e = s(e),
        e = a(e);
        var t = l(e, r);
        return t = a(t),
        t = f(t)
    }
    function v(e) {
        return e.hasAttribute ? e.src : e.getAttribute("src", 4)
    }
    function h(e, r) {
        var t;
        try {
            importScripts(e)
        } catch (n) {
            t = n
        }
        r(t)
    }
    function p(e, r, t, n) {
        var i = W.createElement("script");
        t && (i.charset = t),
        D(n) || i.setAttribute("crossorigin", n),
        y(i, r, e),
        i.async = !0,
        i.src = e,
        er = i,
        tr ? rr.insertBefore(i, tr) : rr.appendChild(i),
        er = null 
    }
    function y(e, r, t) {
        function n(t) {
            e.onload = e.onerror = e.onreadystatechange = null ,
            A.debug || rr.removeChild(e),
            e = null ,
            r(t)
        }
        var i = "onload" in e;
        i ? (e.onload = n,
        e.onerror = function() {
            N("error", {
                uri: t,
                node: e
            }),
            n(!0)
        }
        ) : e.onreadystatechange = function() {
            /loaded|complete/.test(e.readyState) && n()
        }
    }
    function g() {
        if (er)
            return er;
        if (nr && "interactive" === nr.readyState)
            return nr;
        for (var e = rr.getElementsByTagName("script"), r = e.length - 1; r >= 0; r--) {
            var t = e[r];
            if ("interactive" === t.readyState)
                return nr = t
        }
    }
    function E(e) {
        var r = [];
        return e.replace(sr, "").replace(or, function(e, t, n) {
            n && r.push(n)
        }),
        r
    }
    function m(e, r) {
        this.uri = e,
        this.dependencies = r || [],
        this.deps = {},
        this.status = 0,
        this._entry = []
    }
    if (!e.seajs) {
        var b = e.seajs = {
            version: "3.0.1"
        }
          , A = b.data = {}
          , O = t("Object")
          , w = t("String")
          , _ = Array.isArray || t("Array")
          , x = t("Function")
          , D = t("Undefined")
          , S = 0
          , q = A.events = {};
        b.on = function(e, r) {
            var t = q[e] || (q[e] = []);
            return t.push(r),
            b
        }
        ,
        b.off = function(e, r) {
            if (!e && !r)
                return q = A.events = {},
                b;
            var t = q[e];
            if (t)
                if (r)
                    for (var n = t.length - 1; n >= 0; n--)
                        t[n] === r && t.splice(n, 1);
                else
                    delete q[e];
            return b
        }
        ;
        var N = b.emit = function(e, r) {
            var t = q[e];
            if (t) {
                t = t.slice();
                for (var n = 0, i = t.length; i > n; n++)
                    t[n](r)
            }
            return b
        }
          , T = /[^?#]*\//
          , C = /\/\.\//g
          , U = /\/[^/]+\/\.\.\//
          , I = /([^:/])\/+\//g
          , G = /^([^/:]+)(\/.+)$/
          , R = /{([^{]+)}/g
          , L = /^\/\/.|:\//
          , j = /^.*?\/\/.*?\//;
        b.resolve = d;
        var k, X, B = "undefined" == typeof window && "undefined" != typeof importScripts && x(importScripts), P = /^(about|blob):/, F = !location.href || P.test(location.href) ? "" : i(location.href);
        if (B) {
            var V;
            try {
                var $ = new Error;
                throw $
            } catch (H) {
                V = H.stack.split("\n")
            }
            V.shift();
            for (var M, z = /.*?((?:http|https|file)(?::\/{2}[\w]+)(?:[\/|\.]?)(?:[^\s"]*)).*?/i, J = /(.*?):\d+:\d+\)?$/; V.length > 0; ) {
                var K = V.shift();
                if (M = z.exec(K),
                null  != M)
                    break
            }
            var Q;
            if (null  != M)
                var Q = J.exec(M[1])[1];
            X = Q,
            k = i(Q || F),
            "" === F && (F = k)
        } else {
            var W = document
              , Y = W.scripts
              , Z = W.getElementById("seajsnode") || Y[Y.length - 1];
            X = v(Z),
            k = i(X || F)
        }
        if (B)
            b.request = h;
        else {
            var er, W = document, rr = W.head || W.getElementsByTagName("head")[0] || W.documentElement, tr = rr.getElementsByTagName("base")[0];
            b.request = p
        }
        var nr, ir, or = /"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g, sr = /\\\\/g, ar = b.cache = {}, ur = {}, cr = {}, fr = {}, lr = m.STATUS = {
            FETCHING: 1,
            SAVED: 2,
            LOADING: 3,
            LOADED: 4,
            EXECUTING: 5,
            EXECUTED: 6,
            ERROR: 7
        };
        m.prototype.resolve = function() {
            for (var e = this, r = e.dependencies, t = [], n = 0, i = r.length; i > n; n++)
                t[n] = m.resolve(r[n], e.uri);
            return t
        }
        ,
        m.prototype.pass = function() {
            for (var e = this, r = e.dependencies.length, t = 0; t < e._entry.length; t++) {
                for (var n = e._entry[t], i = 0, o = 0; r > o; o++) {
                    var s = e.deps[e.dependencies[o]];
                    s.status < lr.LOADED && !n.history.hasOwnProperty(s.uri) && (n.history[s.uri] = !0,
                    i++,
                    s._entry.push(n),
                    s.status === lr.LOADING && s.pass())
                }
                i > 0 && (n.remain += i - 1,
                e._entry.shift(),
                t--)
            }
        }
        ,
        m.prototype.load = function() {
            var e = this;
            if (!(e.status >= lr.LOADING)) {
                e.status = lr.LOADING;
                var r = e.resolve();
                N("load", r);
                for (var t = 0, n = r.length; n > t; t++)
                    e.deps[e.dependencies[t]] = m.get(r[t]);
                if (e.pass(),
                e._entry.length)
                    return void e.onload();
                var i, o = {};
                for (t = 0; n > t; t++)
                    i = ar[r[t]],
                    i.status < lr.FETCHING ? i.fetch(o) : i.status === lr.SAVED && i.load();
                for (var s in o)
                    o.hasOwnProperty(s) && o[s]()
            }
        }
        ,
        m.prototype.onload = function() {
            var e = this;
            e.status = lr.LOADED;
            for (var r = 0, t = (e._entry || []).length; t > r; r++) {
                var n = e._entry[r];
                0 === --n.remain && n.callback()
            }
            delete e._entry
        }
        ,
        m.prototype.error = function() {
            var e = this;
            e.onload(),
            e.status = lr.ERROR
        }
        ,
        m.prototype.exec = function() {
            function e(r) {
                var n = t.deps[r] || m.get(e.resolve(r));
                if (n.status == lr.ERROR)
                    throw new Error("module was broken: " + n.uri);
                return n.exec()
            }
            var t = this;
            if (t.status >= lr.EXECUTING)
                return t.exports;
            if (t.status = lr.EXECUTING,
            t._entry && !t._entry.length && delete t._entry,
            !t.hasOwnProperty("factory"))
                return void (t.non = !0);
            var i = t.uri;
            e.resolve = function(e) {
                return m.resolve(e, i)
            }
            ,
            e.async = function(r, t) {
                return m.use(r, t, i + "_async_" + n()),
                e
            }
            ;
            var o = t.factory
              , s = x(o) ? o.call(t.exports = {}, e, t.exports, t) : o;
            return s === r && (s = t.exports),
            delete t.factory,
            t.exports = s,
            t.status = lr.EXECUTED,
            N("exec", t),
            t.exports
        }
        ,
        m.prototype.fetch = function(e) {
            function r() {
                b.request(o.requestUri, o.onRequest, o.charset, o.crossorigin)
            }
            function t(e) {
                delete ur[s],
                cr[s] = !0,
                ir && (m.save(i, ir),
                ir = null );
                var r, t = fr[s];
                for (delete fr[s]; r = t.shift(); )
                    e === !0 ? r.error() : r.load()
            }
            var n = this
              , i = n.uri;
            n.status = lr.FETCHING;
            var o = {
                uri: i
            };
            N("fetch", o);
            var s = o.requestUri || i;
            return !s || cr.hasOwnProperty(s) ? void n.load() : ur.hasOwnProperty(s) ? void fr[s].push(n) : (ur[s] = !0,
            fr[s] = [n],
            N("request", o = {
                uri: i,
                requestUri: s,
                onRequest: t,
                charset: x(A.charset) ? A.charset(s) : A.charset,
                crossorigin: x(A.crossorigin) ? A.crossorigin(s) : A.crossorigin
            }),
            void (o.requested || (e ? e[o.requestUri] = r : r())))
        }
        ,
        m.resolve = function(e, r) {
            var t = {
                id: e,
                refUri: r
            };
            return N("resolve", t),
            t.uri || b.resolve(t.id, r)
        }
        ,
        m.define = function(e, t, n) {
            var i = arguments.length;
            1 === i ? (n = e,
            e = r) : 2 === i && (n = t,
            _(e) ? (t = e,
            e = r) : t = r),
            !_(t) && x(n) && (t = "undefined" == typeof E ? [] : E(n.toString()));
            var o = {
                id: e,
                uri: m.resolve(e),
                deps: t,
                factory: n
            };
            if (!B && !o.uri && W.attachEvent && "undefined" != typeof g) {
                var s = g();
                s && (o.uri = s.src)
            }
            N("define", o),
            o.uri ? m.save(o.uri, o) : ir = o
        }
        ,
        m.save = function(e, r) {
            var t = m.get(e);
            t.status < lr.SAVED && (t.id = r.id || e,
            t.dependencies = r.deps || [],
            t.factory = r.factory,
            t.status = lr.SAVED,
            N("save", t))
        }
        ,
        m.get = function(e, r) {
            return ar[e] || (ar[e] = new m(e,r))
        }
        ,
        m.use = function(r, t, n) {
            var i = m.get(n, _(r) ? r : [r]);
            i._entry.push(i),
            i.history = {},
            i.remain = 1,
            i.callback = function() {
                for (var r = [], n = i.resolve(), o = 0, s = n.length; s > o; o++)
                    r[o] = ar[n[o]].exec();
                t && t.apply(e, r),
                delete i.callback,
                delete i.history,
                delete i.remain,
                delete i._entry
            }
            ,
            i.load()
        }
        ,
        b.use = function(e, r) {
            return m.use(e, r, A.cwd + "_use_" + n()),
            b
        }
        ,
        m.define.cmd = {},
        e.define = m.define,
        b.Module = m,
        A.fetchedList = cr,
        A.cid = n,
        b.require = function(e) {
            var r = m.get(m.resolve(e));
            return r.status < lr.EXECUTING && (r.onload(),
            r.exec()),
            r.exports
        }
        ,
        A.base = k,
        A.dir = k,
        A.loader = X,
        A.cwd = F,
        A.charset = "utf-8",
        b.config = function(e) {
            for (var r in e) {
                var t = e[r]
                  , n = A[r];
                if (n && O(n))
                    for (var i in t)
                        n[i] = t[i];
                else
                    _(n) ? t = n.concat(t) : "base" === r && ("/" !== t.slice(-1) && (t += "/"),
                    t = l(t)),
                    A[r] = t
            }
            return N("config", e),
            b
        }
    }
}(this);
</script>
<script>
!function() {
    var t, e = location.host;
    e || (e = "m.gamecenter.qq.com"),
    t = "{SRC}" == window.PAGE_RELEASE ? -1 != window.location.pathname.indexOf("directout/") ? "3g.qq.com" == window.location.hostname.split(".").slice(-3).join(".") ? "http://" + e + "/gamecenterV2/src/js/" : "http://imgcache.qq.com/gc/gamecenterV2/src/js/" : "../../js/" : -1 != window.location.pathname.indexOf("directout/") ? /3g\.qq\.com|test\.gamecenter\.qq\.com/.test(window.location.hostname) ? "http://gconlytest.3g.qq.com/gc/gamecenterV2/dist/js/" : "http://imgcache.qq.com/gc/gamecenterV2/dist/js/" : "../../js/";
    var c = [];
    /[?&]_simulator=([\w]+)/.test(window.location.href) && (c = ["jsBridge/simulator/" + RegExp.$1]),
    seajs.config({
        base: t,
        preload: c,
        alias: {
            fastclick: "http://imgcache.qq.com/club/gamecenter/widgets/fastclick.js?max_age=31104000"
        }
    })
}();
</script>
<script>
define(function(e, n, i) {
    var o = null ;
    !function(e, n) {
        this[e] || (this[e] = n(),
        "function" == typeof o ? o(this[e]) : "object" == typeof i && (i.exports = this[e]))
    }("mqq", function(e) {
        "use strict";
        function n(e, n) {
            e = String(e).split("."),
            n = String(n).split(".");
            try {
                for (var i = 0, o = Math.max(e.length, n.length); o > i; i++) {
                    var t = isFinite(e[i]) && Number(e[i]) || 0
                      , a = isFinite(n[i]) && Number(n[i]) || 0;
                    if (a > t)
                        return -1;
                    if (t > a)
                        return 1
                }
            } catch (r) {
                return -1
            }
            return 0
        }
        function i(e) {
            var n = e.split(".")
              , i = window;
            return n.forEach(function(e) {
                !i[e] && (i[e] = {}),
                i = i[e]
            }),
            i
        }
        function o(e, n, i) {
            var o = "function" == typeof e ? e : window[e];
            if (o) {
                var r = t(e)
                  , c = "__GC_MQQ_CALLBACK_" + r;
                return window[c] = function() {
                    var e = w.call(arguments);
                    a(r, e, n, i)
                }
                ,
                c
            }
        }
        function t(e) {
            var n = y++;
            return e && (T[n] = e),
            n
        }
        function a(e, n, i, o) {
            {
                var t = "function" == typeof e ? e : T[e] || window[e];
                Date.now()
            }
            n = n || [],
            "function" == typeof t ? o ? setTimeout(function() {
                t.apply(null , n)
            }, 0) : t.apply(null , n) : console.log("mqqapi: not found such callback: " + e),
            i && (delete T[e],
            delete window["__GC_MQQ_CALLBACK_" + e],
            delete window[e])
        }
        function r(e) {
            C.debug("execGlobalCallback: " + JSON.stringify(arguments));
            var n = w.call(arguments, 1);
            O.android && n && n.length && n.forEach(function(e, i) {
                "object" == typeof e && "r" in e && "result" in e && (n[i] = e.result)
            }),
            a(e, n)
        }
        function c() {}
        function l(e, n) {
            var o = null 
              , t = e.lastIndexOf(".")
              , a = e.substring(0, t)
              , r = e.substring(t + 1)
              , l = i(a);
            n.iOS && O.iOS ? o = n.iOS : n.android && O.android ? o = n.android : n.browser && (o = n.browser),
            l[r] = o || c,
            E[e] = n.support
        }
        function q(e) {
            var n = E[e] || E[e.replace("qw.", "mqq.")]
              , i = O.iOS ? "iOS" : O.android ? "android" : "browser";
            return n && n[i] ? O.compare(n[i]) > -1 : !1
        }
        function d(n, i) {
            C.debug("openURL: " + n);
            var o = document.createElement("iframe");
            o.style.cssText = "display:none;width:0px;height:0px;";
            var t = function() {
                r(i, {
                    r: -201,
                    result: "error"
                })
            }
            ;
            O.iOS && (o.onload = t,
            o.src = n);
            var a = document.body || document.documentElement;
            a.appendChild(o),
            O.android && (o.onload = t,
            o.src = n);
            var c = O.__RETURN_VALUE;
            return O.__RETURN_VALUE = e,
            setTimeout(function() {
                o.parentNode.removeChild(o)
            }, 0),
            c
        }
        function u(e) {
            return O.iOS ? !0 : O.android && O.__supportAndroidNewJSBridge ? R[e] && O.compare(R[e]) < 0 ? !1 : !0 : !1
        }
        function s(e, n, i, o) {
            console.trace(),
            I++;
            var r = [e, n, I].join("_");
            if (console.time(r),
            !e || !n)
                return null ;
            var c, l;
            if (i = w.call(arguments, 2),
            o = i.length && i[i.length - 1],
            o && "function" == typeof o ? i.pop() : "undefined" == typeof o ? i.pop() : o = null ,
            l = t(o),
            O.android && !O.__supportAndroidJSBridge)
                if (window[e] && window[e][n]) {
                    var q = window[e][n].apply(window[e], i);
                    if (!o)
                        return console.timeEnd(r),
                        q;
                    a(l, [q])
                } else
                    o && a(l, [O.ERROR_NO_SUCH_METHOD]);
            else if (u(e, n)) {
                c = "jsbridge://" + encodeURIComponent(e) + "/" + encodeURIComponent(n),
                i.forEach(function(e, n) {
                    "object" == typeof e && (e = JSON.stringify(e)),
                    c += 0 === n ? "?p=" : "&p" + n + "=",
                    c += encodeURIComponent(String(e))
                }),
                c += "#" + l;
                var s = d(c);
                if (O.iOS) {
                    if (s = s ? s.result : null ,
                    !o)
                        return console.timeEnd(r),
                        s;
                    a(l, [s], !1, !0)
                }
            } else
                O.android && (c = "jsbridge://" + encodeURIComponent(e) + "/" + encodeURIComponent(n) + "/" + l,
                i.forEach(function(e) {
                    "object" == typeof e && (e = JSON.stringify(e)),
                    c += "/" + encodeURIComponent(String(e))
                }),
                d(c, l));
            return console.timeEnd(r),
            null 
        }
        function p(e, n, i, t, a) {
            if (!e || !n || !i)
                return null ;
            var r, c = w.call(arguments);
            "function" == typeof c[c.length - 1] ? (a = c[c.length - 1],
            c.pop()) : a = null ,
            t = 4 === c.length ? c[c.length - 1] : {},
            a && (t.callback_type = "javascript",
            r = o(a),
            t.callback_name = r),
            t.src_type = t.src_type || "web",
            t.version || (t.version = 1);
            var l = e + "://" + encodeURIComponent(n) + "/" + encodeURIComponent(i) + "?" + f(t);
            d(l)
        }
        function m(e) {
            var n, i, o, t = e.indexOf("?"), a = e.substring(t + 1).split("&"), r = {};
            for (n = 0; n < a.length; n++)
                t = a[n].indexOf("="),
                i = a[n].substring(0, t),
                o = a[n].substring(t + 1),
                r[i] = decodeURIComponent(o);
            return r
        }
        function f(e) {
            var n = [];
            for (var i in e)
                e.hasOwnProperty(i) && n.push(encodeURIComponent(String(i)) + "=" + encodeURIComponent(String(e[i])));
            return n.join("&")
        }
        function v(e, n) {
            var i = document.createElement("a");
            i.href = e;
            var o;
            return i.search && (o = m(String(i.search).substring(1)),
            n.forEach(function(e) {
                delete o[e]
            }),
            i.search = "?" + f(o)),
            i.hash && (o = m(String(i.hash).substring(1)),
            n.forEach(function(e) {
                delete o[e]
            }),
            i.hash = "#" + f(o)),
            e = i.href,
            i = null ,
            e
        }
        function b(e, n) {
            var i = "evt-" + e;
            return (T[i] = T[i] || []).push(n),
            !0
        }
        function k(e, n) {
            var i = "evt-" + e
              , o = T[i]
              , t = !1;
            if (!o)
                return !1;
            if (!n)
                return delete T[i],
                !0;
            for (var a = o.length - 1; a >= 0; a--)
                n === o[a] && (o.splice(a, 1),
                t = !0);
            return t
        }
        function g(e) {
            var n = "evt-" + e
              , i = T[n]
              , o = w.call(arguments, 1);
            i && i.forEach(function(e) {
                a(e, o, !1, !0)
            })
        }
        function h(e, n, i) {
            var o = {
                event: e,
                data: n || {},
                options: i || {}
            };
            O.android && o.options.broadcast === !1 && O.compare("5.2") < 0 && (o.options.domains = ["localhost"],
            o.options.broadcast = !0);
            var t = "jsbridge://event/dispatchEvent?p=" + encodeURIComponent(JSON.stringify(o) || "");
            d(t)
        }
        var O = {}
          , S = navigator.userAgent
          , w = Array.prototype.slice
          , A = /(iPad|iPhone|iPod).*? (IPad)?QQ\/([\d\.]+)/
          , _ = /\bV1_AND_SQI?_([\d\.]+)(.*? QQ\/([\d\.]+))?/
          , y = 100
          , T = {}
          , E = {}
          , R = {
            qbizApi: "5.0",
            pay: "999999",
            SetPwdJsInterface: "999999",
            GCApi: "999999",
            q_download: "999999",
            qqZoneAppList: "999999",
            qzone_app: "999999",
            qzone_http: "999999",
            qzone_imageCache: "999999",
            RoamMapJsPlugin: "999999"
        };
        O.debuging = !1,
        O.iOS = A.test(S),
        O.android = _.test(S),
        O.iOS && O.android && (O.iOS = !1),
        O.version = "20140826002",
        O.QQVersion = "0",
        O.ERROR_NO_SUCH_METHOD = "no such method",
        O.ERROR_PERMISSION_DENIED = "permission denied",
        O.android || O.iOS || console.log("mqqapi: not android or ios"),
        O.compare = function(e) {
            return n(O.QQVersion, e)
        }
        ,
        O.android && (O.QQVersion = function(e) {
            return e && (e[3] || e[1]) || 0
        }(S.match(_)),
        window.JsBridge || (window.JsBridge = {}),
        window.JsBridge.callMethod = s,
        window.JsBridge.callback = r,
        window.JsBridge.compareVersion = O.compare),
        O.iOS && (window.iOSQQApi = O,
        O.__RETURN_VALUE = e,
        O.QQVersion = function(e) {
            return e && e[3] || 0
        }(S.match(A))),
        O.platform = "GAMECENTER_" + (O.iOS ? "IPH" : O.android ? "AND" : "OTH");
        var C = function() {
            function e() {
                if (O.debuging) {
                    var e = w.call(arguments)
                      , n = [];
                    e.forEach(function(e) {
                        "object" == typeof e && (e = JSON.stringify(e)),
                        n.push(e)
                    }),
                    alert(n.join("\n"))
                }
            }
            return {
                debug: e
            }
        }();
        O.__androidForSamsung = /_NZ\b/.test(S),
        O.__supportAndroidJSBridge = O.android && (O.compare("4.5") > -1 || O.__androidForSamsung),
        O.__supportAndroidNewJSBridge = O.android && O.compare("4.7.2") > -1;
        var I = 0;
        return O.__aCallbacks = T,
        O.__aSupports = E,
        O.__fireCallback = a,
        O.build = l,
        O.support = q,
        O.invoke = s,
        O.invokeSchema = p,
        O.callback = o,
        O.execGlobalCallback = r,
        O.mapQuery = m,
        O.toQuery = f,
        O.removeQuery = v,
        O.addEventListener = b,
        O.removeEventListener = k,
        O.execEventCallback = g,
        O.dispatchEvent = h,
        O
    }),
    function() {
        "use strict";
        function e(e, n, o) {
            return o ? function() {
                var o = [e, n].concat(i.call(arguments));
                mqq.invoke.apply(mqq, o)
            }
             : function() {
                var o = i.call(arguments);
                return d[e][n].apply(d[e], o)
            }
        }
        function n(n, i) {
            if (i = i || 1,
            mqq.compare(i) < 0)
                return void console.info("jsbridge: version not match, apis ignored");
            for (var o in n) {
                var t = n[o];
                if (t && t.length && Array.isArray(t)) {
                    var a = window[o];
                    if (a)
                        "object" == typeof a && a.getClass && (d[o] = a,
                        window[o] = {});
                    else {
                        if (!q)
                            continue;window[o] = {}
                    }
                    var r = d[o];
                    a = window[o];
                    for (var c = 0, l = t.length; l > c; c++) {
                        var u = t[c];
                        a[u] || (r ? r[u] && (a[u] = e(o, u, !1)) : a[u] = e(o, u, !0))
                    }
                }
            }
        }
        var i = Array.prototype.slice
          , o = {
            QQApi: ["isAppInstalled", "isAppInstalledBatch", "startAppWithPkgName", "checkAppInstalled", "checkAppInstalledBatch", "getOpenidBatch", "startAppWithPkgNameAndOpenId"]
        }
          , t = {
            QQApi: ["lauchApp"]
        }
          , a = {
            publicAccount: ["close", "getJson", "getLocation", "hideLoading", "openInExternalBrowser", "showLoading", "viewAccount"]
        }
          , r = {
            publicAccount: ["getMemberCount", "getNetworkState", "getValue", "open", "openEmoji", "openUrl", "setRightButton", "setValue", "shareMessage", "showDialog"],
            qqZoneAppList: ["getCurrentVersion", "getSdPath", "getWebDisplay", "goUrl", "openMsgCenter", "showDialog", "setAllowCallBackEvent"],
            q_download: ["doDownloadAction", "getQueryDownloadAction", "registerDownloadCallBackListener", "cancelDownload", "cancelNotification"],
            qzone_http: ["httpRequest"],
            qzone_imageCache: ["downloadImage", "getImageRootPath", "imageIsExist", "sdIsMounted", "updateImage", "clearImage"],
            qzone_app: ["getAllDownAppInfo", "getAppInfo", "getAppInfoBatch", "startSystemApp", "uninstallApp"]
        }
          , c = {
            coupon: ["addCoupon", "addFavourBusiness", "gotoCoupon", "gotoCouponHome", "isCouponValid", "isFavourBusiness", "isFavourCoupon", "removeFavourBusiness"]
        }
          , l = navigator.userAgent
          , q = mqq.__supportAndroidJSBridge
          , d = {};
        window.JsBridge || (window.JsBridge = {}),
        window.JsBridge.restoreApis = n,
        n(o),
        n(t, "4.5"),
        q ? /\bPA\b/.test(l) || mqq.compare("4.6") >= 0 ? (n(a),
        n(r, "4.5"),
        n(c, "4.5")) : /\bQR\b/.test(l) && (n(c, "4.5"),
        mqq.compare("4.5") >= 0 && mqq.compare("4.6") < 0 && (window.publicAccount = {
            openUrl: function(e) {
                location.href = e
            }
        })) : n(a, "4.2")
    }(),
    mqq.build("mqq.ui.openUrl", {
        iOS: function(e) {
            switch (e || (e = {}),
            e.target) {
            case 0:
                window.open(e.url, "_self");
                break;
            case 1:
                e.styleCode = {
                    1: 4,
                    2: 2,
                    3: 5
                }[e.style] || 1,
                mqq.invoke("nav", "openLinkInNewWebView", {
                    url: e.url,
                    options: e
                });
                break;
            case 2:
                mqq.invoke("nav", "openLinkInSafari", {
                    url: e.url
                })
            }
        },
        android: function(e) {
            2 === e.target ? mqq.compare("4.6") >= 0 ? mqq.invoke("publicAccount", "openInExternalBrowser", e.url) : mqq.compare("4.5") >= 0 && mqq.invoke("openUrlApi", "openUrl", e.url) : 1 === e.target ? (e.style || (e.style = 0),
            mqq.compare("4.6") >= 0 ? mqq.invoke("qbizApi", "openLinkInNewWebView", e.url, e.style) : mqq.compare("4.5") >= 0 ? mqq.invoke("publicAccount", "openUrl", e.url) : location.href = e.url) : location.href = e.url
        },
        browser: function(e) {
            2 === e.target ? window.open(e.url, "_blank") : location.href = e.url
        },
        support: {
            iOS: "4.5",
            android: "4.6",
            browser: "0"
        }
    }),
    mqq.build("mqq.ui.refreshTitle", {
        iOS: function() {
            mqq.invoke("nav", "refreshTitle")
        },
        support: {
            iOS: "4.6"
        }
    }),
    mqq.build("mqq.app.launchAppWithTokens", {
        iOS: function(e) {
            return mqq.invoke("app", "launchApp", e)
        },
        android: function(e) {
            mqq.compare("4.6") >= 0 ? mqq.invoke("QQApi", "launchAppWithTokens", e.appID, e.paramsStr, e.packageName, e.flags || e.falgs || 0) : mqq.invoke("QQApi", "launchApp", e.appID, e.paramsStr, e.packageName)
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.app.downloadApp", {
        iOS: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("app", "downloadApp", e)
        },
        support: {
            iOS: "5.9.5"
        }
    }),
    mqq.build("mqq.device.qqVersion", {
        iOS: function(e) {
            return mqq.invoke("device", "qqVersion", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.qqBuild", {
        iOS: function(e) {
            return mqq.invoke("device", "qqBuild", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.getClientInfo", {
        iOS: function(e) {
            var n = {
                qqVersion: this.qqVersion(),
                qqBuild: this.qqBuild()
            }
              , i = mqq.callback(e, !1, !0);
            return "function" != typeof e ? n : void mqq.__fireCallback(i, [n])
        },
        android: function(e) {
            if (mqq.compare("4.6") >= 0) {
                var n = e;
                e = function(e) {
                    try {
                        e = JSON.parse(e)
                    } catch (i) {}
                    n && n(e)
                }
                ,
                mqq.invoke("qbizApi", "getClientInfo", e)
            } else
                e({
                    qqVersion: mqq.QQVersion,
                    qqBuild: function(e) {
                        return e = e && e[1] || 0,
                        e && e.slice(e.lastIndexOf(".") + 1) || 0
                    }(navigator.userAgent.match(/\bqq\/([\d\.]+)/i))
                })
        },
        support: {
            iOS: "4.5",
            android: "4.6"
        }
    }),
    mqq.build("mqq.device.systemName", {
        iOS: function(e) {
            return mqq.invoke("device", "systemName", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.systemVersion", {
        iOS: function(e) {
            return mqq.invoke("device", "systemVersion", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.model", {
        iOS: function(e) {
            return mqq.invoke("device", "model", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.modelVersion", {
        iOS: function(e) {
            return mqq.invoke("device", "modelVersion", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.getDeviceInfo", {
        iOS: function(e) {
            if (mqq.compare(4.7) >= 0)
                return mqq.invoke("device", "getDeviceInfo", e);
            var n = mqq.callback(e, !1, !0)
              , i = {
                isMobileQQ: this.isMobileQQ(),
                systemName: this.systemName(),
                systemVersion: this.systemVersion(),
                model: this.model(),
                modelVersion: this.modelVersion()
            };
            return "function" != typeof e ? i : void mqq.__fireCallback(n, [i])
        },
        android: function(e) {
            if (mqq.compare("4.6") >= 0) {
                var n = e;
                e = function(e) {
                    try {
                        e = JSON.parse(e)
                    } catch (i) {}
                    n && n(e)
                }
                ,
                mqq.invoke("qbizApi", "getDeviceInfo", e)
            } else {
                var i = navigator.userAgent;
                e({
                    isMobileQQ: !0,
                    systemName: "android",
                    systemVersion: function(e) {
                        return e && e[1] || 0
                    }(i.match(/\bAndroid ([\d\.]+)/i)),
                    model: function(e) {
                        return e && e[1] || null 
                    }(i.match(/;\s([^;]+)\s\bBuild\/\w+/i))
                })
            }
        },
        support: {
            iOS: "4.5",
            android: "4.5"
        }
    }),
    mqq.build("mqq.device.getNetworkType", {
        iOS: function(e) {
            var n = mqq.invoke("device", "networkStatus");
            return n = Number(n),
            "function" != typeof e ? n : void mqq.__fireCallback(e, [n], !1, !0)
        },
        android: function(e) {
            mqq.compare("4.6") >= 0 ? mqq.invoke("qbizApi", "getNetworkType", e) : mqq.invoke("publicAccount", "getNetworkState", function(n) {
                var i = {
                    "-1": 0,
                    0: 3,
                    1: 1
                }
                  , o = n in i ? i[n] : 4;
                e(o)
            })
        },
        support: {
            iOS: "4.5",
            android: "4.6"
        }
    }),
    mqq.build("mqq.device.networkStatus", {
        iOS: mqq.device.getNetworkType,
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.networkType", {
        iOS: mqq.device.getNetworkType,
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.ui.showProfile", {
        iOS: function(e) {
            mqq.compare("4.7") >= 0 ? mqq.invoke("nav", "showProfile", e) : mqq.compare("4.6") >= 0 && !e.uinType ? mqq.invoke("nav", "showProfile", e) : (1 === e.uinType && (e.card_type = "group"),
            mqq.invokeSchema("mqqapi", "card", "show_pslcard", e))
        },
        android: function(e) {
            mqq.compare("4.7") >= 0 ? mqq.invoke("publicAccount", "showProfile", e) : mqq.compare("4.6") >= 0 && !e.uinType ? mqq.invoke("publicAccount", "showProfile", e.uin) : (1 === e.uinType && (e.card_type = "group"),
            mqq.invokeSchema("mqqapi", "card", "show_pslcard", e))
        },
        support: {
            iOS: "4.5",
            android: "4.5"
        }
    }),
    mqq.build("mqq.ui.popBack", {
        iOS: function() {
            mqq.invoke("nav", "popBack")
        },
        android: function() {
            mqq.invoke("publicAccount", "close")
        },
        support: {
            iOS: "4.5",
            android: "4.6"
        }
    }),
    function() {
        var e = {}
          , n = {
            Abount: "com.tencent.mobileqq.activity.AboutActivity",
            GroupTribePublish: "com.tencent.mobileqq.troop.activity.TroopBarPublishActivity",
            GroupTribeReply: "com.tencent.mobileqq.troop.activity.TroopBarReplyActivity",
            GroupTribeComment: "com.tencent.mobileqq.troop.activity.TroopBarCommentActivity"
        };
        mqq.build("mqq.ui.openView", {
            iOS: function(n) {
                n.name = e[n.name] || n.name,
                "function" == typeof n.onclose && (n.onclose = mqq.callback(n.onclose)),
                mqq.invoke("nav", "openViewController", n)
            },
            android: function(e) {
                e.name = n[e.name] || e.name,
                "function" == typeof e.onclose && (e.onclose = mqq.callback(e.onclose)),
                mqq.compare("5.0") > -1 ? mqq.invoke("ui", "openView", e) : mqq.invoke("publicAccount", "open", e.name)
            },
            support: {
                iOS: "4.5",
                android: "4.6"
            }
        })
    }(),
    mqq.build("mqq.ui.setActionButton", {
        iOS: function(e, n) {
            "object" != typeof e && (e = {
                title: e
            });
            var i = mqq.callback(n, !1, !0);
            e.callback = i,
            mqq.invoke("nav", "setActionButton", e)
        },
        android: function(e, n) {
            var i = mqq.callback(n);
            e.hidden && (e.title = ""),
            mqq.compare("4.7") >= 0 ? (e.callback = i,
            mqq.invoke("ui", "setActionButton", e)) : mqq.invoke("publicAccount", "setRightButton", e.title, "", i)
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.ui.setWebViewBehavior", {
        iOS: function(e) {
            mqq.invoke("ui", "setWebViewBehavior", e)
        },
        android: function(e) {
            mqq.invoke("ui", "setWebViewBehavior", e)
        },
        support: {
            iOS: "4.7.2",
            android: "5.1"
        }
    }),
    mqq.build("mqq.device.isMobileQQ", {
        iOS: function(e) {
            var n = mqq.iOS;
            return e ? e(n) : n
        },
        android: function(e) {
            var n = mqq.android;
            return e ? e(n) : n
        },
        browser: function(e) {
            var n = mqq.android || mqq.iOS;
            return e ? e(n) : n
        },
        support: {
            iOS: "4.2",
            android: "4.2"
        }
    }),
    mqq.build("mqq.tenpay.openService", {
        android: function(e, n) {
            mqq.invoke("pay", "openService", JSON.stringify(e), n)
        },
        support: {
            android: "4.6.1"
        }
    }),
    mqq.build("mqq.ui.addShortcut", {
        iOS: function(e) {
            var n = "http://imgcache.qq.com/gc/gamecenterV2/dist/index/index/desk.html?";
            mqq.invoke("nav", "openLinkInSafari", {
                url: n + mqq.toQuery(e) + "#from=mqq"
            })
        },
        android: function(e) {
            e.data = {
                title: e.title,
                icon: e.icon,
                url: e.url
            },
            e.callback = mqq.callback(e.callback),
            mqq.invoke("ui", "addShortcut", e)
        },
        supportInvoke: !0,
        support: {
            iOS: "5.8",
            android: "5.8"
        }
    }),
    mqq.build("mqq.tenpay.rechargeQb", {
        android: function(e, n) {
            mqq.invoke("pay", "rechargeQb", JSON.stringify(e), n)
        },
        support: {
            android: "4.6.1"
        }
    }),
    mqq.build("mqq.ui.showDialog", {
        iOS: function(e, n) {
            e && (e.callback = mqq.callback(n, !0, !0),
            e.title = e.title + "",
            e.text = e.text + "",
            "needOkBtn" in e || (e.needOkBtn = !0),
            "needCancelBtn" in e || (e.needCancelBtn = !0),
            mqq.invoke("nav", "showDialog", e))
        },
        android: function(e, n) {
            if (mqq.compare("4.8.0") >= 0)
                e.callback = mqq.callback(n, !0),
                mqq.invoke("ui", "showDialog", e);
            else {
                var i = ""
                  , o = "";
                n && (i = mqq.callback(function() {
                    n({
                        button: 0
                    })
                }, !0),
                o = mqq.callback(function() {
                    n({
                        button: 1
                    })
                }, !0),
                i += "()",
                o += "()"),
                e.title = e.title + "",
                e.text = e.text + "",
                "needOkBtn" in e || (e.needOkBtn = !0),
                "needCancelBtn" in e || (e.needCancelBtn = !0),
                mqq.invoke("publicAccount", "showDialog", e.title, e.text, e.needOkBtn, e.needCancelBtn, i, o)
            }
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.ui.showTips", {
        iOS: function(e) {
            mqq.invoke("ui", "showTips", e)
        },
        android: function(e) {
            mqq.invoke("ui", "showTips", e)
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    mqq.build("mqq.ui.setLoading", {
        iOS: function(e) {
            e && (e.visible === !0 ? mqq.invoke("nav", "showLoading") : e.visible === !1 && mqq.invoke("nav", "hideLoading"),
            e.color && mqq.invoke("nav", "setLoadingColor", {
                r: e.color[0],
                g: e.color[1],
                b: e.color[2]
            }))
        },
        android: function(e) {
            "visible" in e && (e.visible ? mqq.invoke("publicAccount", "showLoading") : mqq.invoke("publicAccount", "hideLoading"))
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.ui.shareMessage", {
        iOS: function(e, n) {
            !("needPopBack" in e) && "back" in e && (e.needPopBack = e.back),
            e.share_url && (e.share_url = mqq.removeQuery(e.share_url, ["sid", "3g_sid"])),
            e.desc && (e.desc = e.desc.length > 50 ? e.desc.substring(0, 50) + "..." : e.desc),
            e.callback = mqq.callback(n, !0, !0),
            mqq.invoke("nav", "shareURLWebRichData", e)
        },
        android: function(e, n) {
            if (e.share_url && (e.share_url = mqq.removeQuery(e.share_url, ["sid", "3g_sid"])),
            e.callback = mqq.callback(function(e) {
                n && n({
                    retCode: e ? 0 : 1
                })
            }, !0),
            e.desc && (e.desc = e.desc.length > 50 ? e.desc.substring(0, 50) + "..." : e.desc),
            e.share_type && (2 === e.share_type || 3 === e.share_type) && mqq.compare("5.2") < 0 && mqq.support("mqq.app.isAppInstalled")) {
                var i = "您尚未安装微信，不可使用此功能";
                mqq.app.isAppInstalled("com.tencent.mm", function(n) {
                    n ? mqq.invoke("QQApi", "shareMsg", e) : mqq.support("mqq.ui.showTips") ? mqq.ui.showTips({
                        text: i
                    }) : alert(i)
                })
            } else
                mqq.invoke("QQApi", "shareMsg", e)
        },
        support: {
            iOS: "4.7.2",
            android: "4.7.2"
        }
    }),
    mqq.build("mqq.data.getUserInfo", {
        iOS: function(e) {
            return mqq.invoke("data", "userInfo", e)
        },
        android: function(e) {
            mqq.invoke("data", "userInfo", {
                callback: mqq.callback(e)
            })
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    function() {
        var e = function(e) {
            return function(n) {
                if (mqq.android && n && void 0 === n.result) {
                    try {
                        n = JSON.parse(n)
                    } catch (i) {}
                    n = {
                        result: 0,
                        data: n,
                        message: "成功"
                    }
                }
                e(n)
            }
        }
          , n = function(n) {
            if (mqq.compare("4.7.1") >= 0)
                mqq.invoke("qw_data", "getPerformance", e(n));
            else
                try {
                    common.getPerformance(e(n))
                } catch (i) {
                    n({
                        result: -1,
                        message: "该接口在手Q v4.7.1 或以上才支持！",
                        data: null 
                    })
                }
        }
        ;
        mqq.build("mqq.data.getPerformance", {
            iOS: n,
            android: n,
            support: {
                iOS: "4.7.1",
                android: "4.7.1"
            }
        })
    }(),
    function() {
        function e(e, i) {
            "string" == typeof e && /^{.*?}$/.test(e) && (e = JSON.parse(e)),
            e && "radio" in e && (e.radio = 1 === e.type ? "wifi" : e.type >= 2 ? n[e.radio] || "unknown" : "unknown"),
            i && i(e)
        }
        var n = {
            CTRadioAccessTechnologyGPRS: "gprs",
            CTRadioAccessTechnologyEdge: "edge",
            CTRadioAccessTechnologyWCDMA: "wcdma",
            CTRadioAccessTechnologyHSDPA: "hsdpa",
            CTRadioAccessTechnologyCDMA1x: "cdma",
            CTRadioAccessTechnologyCDMAEVDORev0: "evdo0",
            CTRadioAccessTechnologyCDMAEVDORevA: "evdoa",
            CTRadioAccessTechnologyCDMAEVDORevB: "evdob",
            CTRadioAccessTechnologyeHRPD: "ehrpd",
            CTRadioAccessTechnologyLTE: "lte",
            NETWORK_TYPE_GPRS: "gprs",
            NETWORK_TYPE_EDGE: "edge",
            NETWORK_TYPE_CDMA: "cdma",
            NETWORK_TYPE_1xRTT: "1xrtt",
            NETWORK_TYPE_EVDO_0: "evdo0",
            NETWORK_TYPE_EVDO_A: "evdoa",
            NETWORK_TYPE_EVDO_B: "evdob",
            NETWORK_TYPE_IDEN: "iden",
            NETWORK_TYPE_UMTS: "umts",
            NETWORK_TYPE_HSDPA: "hsdpa",
            NETWORK_TYPE_HSUPA: "hsupa",
            NETWORK_TYPE_HSPA: "hspa",
            NETWORK_TYPE_EHRPD: "ehrpd",
            NETWORK_TYPE_HSPAP: "hspap",
            NETWORK_TYPE_LTE: "lte",
            NETWORK_TYPE_WIFI: "wifi",
            NETWORK_TYPE_UNKNOWN: "unknown"
        };
        mqq.build("mqq.device.getNetworkInfo", {
            iOS: function(n) {
                mqq.invoke("device", "getNetworkInfo", {
                    callback: mqq.callback(function(i) {
                        e(i, n)
                    }, !1, !0)
                })
            },
            android: function(n) {
                mqq.invoke("qbizApi", "getNetworkInfo", function(i) {
                    e(i, n)
                })
            },
            support: {
                iOS: "5.2",
                android: "5.2"
            }
        })
    }(),
    mqq.build("mqq.app.isAppInstalledBatch", {
        iOS: function(e, n) {
            return mqq.invoke("app", "batchIsInstalled", {
                schemes: e
            }, n)
        },
        android: function(e, n) {
            e = e.join("|"),
            mqq.invoke("QQApi", "isAppInstalledBatch", e, function(e) {
                var i = [];
                e = (e + "").split("|");
                for (var o = 0; o < e.length; o++)
                    i.push(1 === parseInt(e[o]));
                n(i)
            })
        },
        support: {
            iOS: "4.2",
            android: "4.2"
        }
    }),
    mqq.build("mqq.app.isAppInstalled", {
        iOS: function(e, n) {
            return mqq.invoke("app", "isInstalled", {
                scheme: e
            }, n)
        },
        android: function(e, n) {
            mqq.invoke("QQApi", "isAppInstalled", e, n)
        },
        support: {
            iOS: "4.2",
            android: "4.2"
        }
    }),
    mqq.build("mqq.pay.pay", {
        iOS: function(e, n) {
            var i = n ? mqq.callback(n) : null ;
            mqq.invoke("pay", "pay", {
                params: e,
                callback: i
            })
        },
        support: {
            iOS: "4.6"
        }
    }),
    mqq.build("mqq.data.pbReport", {
        iOS: function(e, n) {
            mqq.invoke("data", "pbReport", {
                type: String(e),
                data: n
            })
        },
        android: function(e, n) {
            mqq.invoke("publicAccount", "pbReport", String(e), n)
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    function() {
        function e() {
            return "UID_" + ++i
        }
        var n = {}
          , i = 1;
        window.clientCallback = function(e, i) {
            var o = n[i];
            if (!o)
                return void console.log("this getJson no callbackToken!");
            if (o.callback) {
                if (clearTimeout(o.timer),
                "string" == typeof e)
                    try {
                        e = JSON.parse(e)
                    } catch (t) {
                        e = null 
                    }
                o.callback(e, o.context || window, 200),
                o.callback = null 
            }
        }
        ,
        mqq.build("mqq.data.fetchJson", {
            iOS: function(e, n) {
                var i = e.url
                  , o = e.params || {}
                  , t = e.options || {}
                  , a = e.context;
                o._t = +new Date;
                var r = n ? mqq.callback(function(e, i, o) {
                    if ("string" == typeof e)
                        try {
                            e = JSON.parse(e)
                        } catch (t) {
                            e = null 
                        }
                    n(e, i, o)
                }, !0, !0) : null ;
                mqq.invoke("data", "fetchJson", {
                    method: t.method || "GET",
                    timeout: t.timeout || -1,
                    options: t,
                    url: i,
                    params: mqq.toQuery(o),
                    callback: r,
                    context: JSON.stringify(a)
                })
            },
            android: function(i, o) {
                var t = i.options || {}
                  , a = t.method || "GET"
                  , r = {
                    param: i.params,
                    method: a
                };
                r = JSON.stringify(r);
                var c = e();
                i.callback = o,
                n[c] = i,
                t.timeout && (i.timer = setTimeout(function() {
                    i.callback && (i.callback("timeout", i.context || window, 0),
                    i.callback = null )
                }, t.timeout)),
                mqq.invoke("publicAccount", "getJson", i.url, r, "", c)
            },
            support: {
                iOS: "4.5",
                android: "4.6"
            }
        })
    }(),
    mqq.build("mqq.data.getPageLoadStamp", {
        iOS: function(e) {
            mqq.invoke("data", "getPageLoadStamp", {
                callback: mqq.callback(e)
            })
        },
        android: function(e) {
            mqq.invoke("publicAccount", "getPageLoadStamp", mqq.callback(e))
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.ui.shareMessage", {
        iOS: function(e, n) {
            !("needPopBack" in e) && "back" in e && (e.needPopBack = e.back),
            e.share_url && (e.share_url = mqq.removeQuery(e.share_url, ["sid", "3g_sid"])),
            e.desc && (e.desc = e.desc.length > 50 ? e.desc.substring(0, 50) + "..." : e.desc),
            e.callback = mqq.callback(n, !0, !0),
            mqq.invoke("nav", "shareURLWebRichData", e)
        },
        android: function(e, n) {
            if (e.share_url && (e.share_url = mqq.removeQuery(e.share_url, ["sid", "3g_sid"])),
            e.callback = mqq.callback(function(e) {
                n && n({
                    retCode: e ? 0 : 1
                })
            }, !0),
            e.desc && (e.desc = e.desc.length > 50 ? e.desc.substring(0, 50) + "..." : e.desc),
            e.share_type && (2 === e.share_type || 3 === e.share_type) && mqq.compare("5.2") < 0 && mqq.support("mqq.app.isAppInstalled")) {
                var i = "您尚未安装微信，不可使用此功能";
                mqq.app.isAppInstalled("com.tencent.mm", function(n) {
                    n ? mqq.invoke("QQApi", "shareMsg", e) : mqq.support("mqq.ui.showTips") ? mqq.ui.showTips({
                        text: i
                    }) : alert(i)
                })
            } else
                mqq.invoke("QQApi", "shareMsg", e)
        },
        support: {
            iOS: "4.7.2",
            android: "4.7.2"
        }
    }),
    mqq.build("mqq.ui.setOnShareHandler", {
        iOS: function(e) {
            mqq.invoke("nav", "addWebShareListener", {
                callback: mqq.callback(e, !1, !0)
            })
        },
        android: function(e) {
            mqq.invoke("ui", "setOnShareHandler", {
                callback: mqq.callback(e, !1, !0)
            })
        },
        support: {
            iOS: "4.7.2",
            android: "4.7.2"
        }
    }),
    mqq.build("mqq.ui.setOnCloseHandler", {
        iOS: function(e) {
            mqq.invoke("ui", "setOnCloseHandler", {
                callback: mqq.callback(e, !1, !0)
            })
        },
        android: function(e) {
            mqq.invoke("ui", "setOnCloseHandler", {
                callback: mqq.callback(e)
            })
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    mqq.build("mqq.data.writeH5Data", {
        iOS: function(e, n) {
            var i = n ? mqq.callback(n) : null ;
            mqq.invoke("data", "writeWebviewBizData", {
                callback: i,
                params: e
            })
        },
        android: function(e, n) {
            var i = e.data;
            i && (i = encodeURIComponent(i)),
            e.data = i,
            mqq.invoke("publicAccount", "writeH5Data", e, mqq.callback(n, !0))
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.data.readH5Data", {
        iOS: function(e, n) {
            var i = n ? mqq.callback(n) : null ;
            mqq.invoke("data", "readWebviewBizData", {
                callback: i,
                params: e
            })
        },
        android: function(e, n) {
            e = JSON.stringify(e || {}),
            mqq.invoke("publicAccount", "readH5Data", e, mqq.callback(function(e) {
                if (e && e.response && e.response.data) {
                    var i = e.response.data;
                    i = i.replace(/\\/g, ""),
                    i = decodeURIComponent(i),
                    e.response.data = i
                }
                n(e)
            }, !0))
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.media.showPicture", {
        iOS: function(e) {
            mqq.invoke("troopNotice", "showPicture", e)
        },
        android: function(e) {
            mqq.invoke("troopNotice", "showPicture", e)
        },
        support: {
            iOS: "5.0",
            android: "5.0"
        }
    }),
    mqq.build("mqq.ui.setTitleButtons", {
        iOS: function(e) {
            var n = e.left
              , i = e.right;
            n && (n.callback = mqq.callback(n.callback, !1, !0)),
            i && (i.callback = mqq.callback(i.callback, !1, !0)),
            mqq.compare("5.3") >= 0 ? mqq.invoke("ui", "setTitleButtons", e) : (n && (n.title && mqq.invoke("ui", "setLeftBtnTitle", {
                title: n.title
            }),
            n.callback && mqq.invoke("ui", "setOnCloseHandler", n)),
            i && mqq.invoke("nav", "setActionButton", i))
        },
        android: function(e) {
            var n = e.left
              , i = e.right;
            n && (n.callback = mqq.callback(n.callback)),
            i && (i.callback = mqq.callback(i.callback)),
            mqq.compare("5.3") >= 0 ? mqq.invoke("ui", "setTitleButtons", e) : (n && n.callback && mqq.invoke("ui", "setOnCloseHandler", n),
            i && (i.hidden && (i.title = ""),
            mqq.compare("4.7") >= 0 ? mqq.invoke("ui", "setActionButton", i) : mqq.invoke("publicAccount", "setRightButton", i.title, "", i.callback)))
        },
        support: {
            iOS: "5.0",
            android: "4.6"
        }
    }),
    mqq.build("mqq.redpoint.isEnterFromRedPoint", {
        iOS: function(e, n) {
            n && (e.callback = mqq.callback(n, !0)),
            mqq.invoke("redpoint", "isEnterFromRedPoint", e)
        },
        android: function(e, n) {
            n && (e.callback = mqq.callback(n, !0)),
            mqq.invoke("redpoint", "isEnterFromRedPoint", e)
        },
        support: {
            iOS: "5.4",
            android: "5.4"
        }
    }),
    mqq.build("mqq.redpoint.setAppInfo", {
        iOS: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("redpoint", "setAppInfo", e)
        },
        android: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("redpoint", "setAppInfo", e)
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    mqq.build("mqq.redpoint.getAppInfo", {
        iOS: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("redpoint", "getAppInfo", e)
        },
        android: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("redpoint", "getAppInfo", e)
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    function() {
        var e = function(e, n) {
            "function" != typeof n && (n = function() {}
            );
            for (var i = ["path", "service_type", "service_id", "act_id", "obj_id", "pay_amt"], o = 0, t = i.length; t > o; ++o)
                if ("undefined" == typeof e[i[o]])
                    return n({
                        code: -1,
                        errorMessage: "params invalid"
                    }),
                    n = null ,
                    !1;
            mqq.redpoint.isEnterFromRedPoint({
                path: e.path
            }, function(i) {
                0 == i.code && 1 == i.data ? (n && (e.callback = mqq.callback(n, !0)),
                mqq.invoke("redpoint", "reportBusinessRedTouch", e)) : (n({
                    code: -1,
                    errorMessage: i.errorMessage
                }),
                e = null ,
                n = null )
            })
        }
        ;
        mqq.build("mqq.redpoint.reportBusinessRedTouch", {
            iOS: e,
            android: e,
            support: {
                iOS: "5.4",
                android: "5.4"
            }
        })
    }(),
    mqq.build("mqq.debug.detailLog", {
        iOS: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            "undefined" == typeof e.isall && (e.isall = !0),
            e.id && "webviewDebugLog_" !== e.id.substr(0, 16) && (e.id = "webviewDebugLog_" + e.id),
            mqq.invoke("qw_debug", "detailLog", e)
        },
        android: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            "undefined" == typeof e.isall && (e.isall = !0),
            e.id && "webviewDebugLog_" !== e.id.substr(0, 16) && (e.id = "webviewDebugLog_" + e.id),
            mqq.invoke("qw_debug", "detailLog", e)
        },
        support: {
            iOS: "5.8",
            android: "5.8"
        }
    }),
    mqq.build("mqq.ui.showOfficialAccountProfile", {
        iOS: function(e) {
            mqq.compare("6.0") >= 0 ? mqq.invoke("publicAccount", "showOfficialAccountProfile", e) : (e.showAIO = !1,
            mqq.invoke("nav", "showOfficalAccountDetail", e))
        },
        android: function(e) {
            mqq.compare("6.0") >= 0 ? mqq.invoke("publicAccountNew", "showOfficialAccountProfile", e) : mqq.compare("4.6") >= 0 ? mqq.invoke("publicAccount", "viewAccount", e.uin, !1) : mqq.invoke("publicAccount", "viewAccount", e.uin)
        },
        supportInvoke: !0,
        support: {
            iOS: "4.5",
            android: "4.6"
        }
    }),
    i.exports = window.mqq
});
</script>
<script>
!function() {
    "use strict";
    function t(e, o) {
        function i(t, e) {
            return function() {
                return t.apply(e, arguments)
            }
        }
        var r;
        if (o = o || {},
        this.trackingClick = !1,
        this.trackingClickStart = 0,
        this.targetElement = null ,
        this.touchStartX = 0,
        this.touchStartY = 0,
        this.lastTouchIdentifier = 0,
        this.touchBoundary = o.touchBoundary || 10,
        this.layer = e,
        this.tapDelay = o.tapDelay || 200,
        this.tapTimeout = o.tapTimeout || 700,
        !t.notNeeded(e)) {
            for (var a = ["onMouse", "onClick", "onTouchStart", "onTouchMove", "onTouchEnd", "onTouchCancel"], c = this, s = 0, u = a.length; u > s; s++)
                c[a[s]] = i(c[a[s]], c);
            n && (e.addEventListener("mouseover", this.onMouse, !0),
            e.addEventListener("mousedown", this.onMouse, !0),
            e.addEventListener("mouseup", this.onMouse, !0)),
            e.addEventListener("click", this.onClick, !0),
            e.addEventListener("touchstart", this.onTouchStart, !1),
            e.addEventListener("touchmove", this.onTouchMove, !1),
            e.addEventListener("touchend", this.onTouchEnd, !1),
            e.addEventListener("touchcancel", this.onTouchCancel, !1),
            Event.prototype.stopImmediatePropagation || (e.removeEventListener = function(t, n, o) {
                var i = Node.prototype.removeEventListener;
                "click" === t ? i.call(e, t, n.hijacked || n, o) : i.call(e, t, n, o)
            }
            ,
            e.addEventListener = function(t, n, o) {
                var i = Node.prototype.addEventListener;
                "click" === t ? i.call(e, t, n.hijacked || (n.hijacked = function(t) {
                    t.propagationStopped || n(t)
                }
                ), o) : i.call(e, t, n, o)
            }
            ),
            "function" == typeof e.onclick && (r = e.onclick,
            e.addEventListener("click", function(t) {
                r(t)
            }, !1),
            e.onclick = null )
        }
    }
    var e = navigator.userAgent.indexOf("Windows Phone") >= 0
      , n = navigator.userAgent.indexOf("Android") > 0 && !e
      , o = /iP(ad|hone|od)/.test(navigator.userAgent) && !e
      , i = o && /OS 4_\d(_\d)?/.test(navigator.userAgent)
      , r = o && /OS [6-7]_\d/.test(navigator.userAgent)
      , a = navigator.userAgent.indexOf("BB10") > 0;
    t.prototype.needsClick = function(t) {
        switch (t.nodeName.toLowerCase()) {
        case "button":
        case "select":
        case "textarea":
            if (t.disabled)
                return !0;
            break;
        case "input":
            if (o && "file" === t.type || t.disabled)
                return !0;
            break;
        case "label":
        case "iframe":
        case "video":
            return !0
        }
        return /\bneedsclick\b/.test(t.className)
    }
    ,
    t.prototype.needsFocus = function(t) {
        switch (t.nodeName.toLowerCase()) {
        case "textarea":
            return !0;
        case "select":
            return !n;
        case "input":
            switch (t.type) {
            case "button":
            case "checkbox":
            case "file":
            case "image":
            case "radio":
            case "submit":
                return !1
            }
            return !t.disabled && !t.readOnly;
        default:
            return /\bneedsfocus\b/.test(t.className)
        }
    }
    ,
    t.prototype.sendClick = function(t, e) {
        var n, o;
        document.activeElement && document.activeElement !== t && document.activeElement.blur(),
        o = e.changedTouches[0],
        n = document.createEvent("MouseEvents"),
        n.initMouseEvent(this.determineEventType(t), !0, !0, window, 1, o.screenX, o.screenY, o.clientX, o.clientY, !1, !1, !1, !1, 0, null ),
        n.forwardedTouchEvent = !0,
        t.dispatchEvent(n)
    }
    ,
    t.prototype.determineEventType = function(t) {
        return n && "select" === t.tagName.toLowerCase() ? "mousedown" : "click"
    }
    ,
    t.prototype.focus = function(t) {
        var e;
        o && t.setSelectionRange && 0 !== t.type.indexOf("date") && "time" !== t.type && "month" !== t.type ? (e = t.value.length,
        t.setSelectionRange(e, e)) : t.focus()
    }
    ,
    t.prototype.updateScrollParent = function(t) {
        var e, n;
        if (e = t.fastClickScrollParent,
        !e || !e.contains(t)) {
            n = t;
            do {
                if (n.scrollHeight > n.offsetHeight) {
                    e = n,
                    t.fastClickScrollParent = n;
                    break
                }
                n = n.parentElement
            } while (n)
        }
        e && (e.fastClickLastScrollTop = e.scrollTop)
    }
    ,
    t.prototype.getTargetElementFromEventTarget = function(t) {
        return t.nodeType === Node.TEXT_NODE ? t.parentNode : t
    }
    ,
    t.prototype.onTouchStart = function(t) {
        var e, n, r;
        if (t.targetTouches.length > 1)
            return !0;
        if (e = this.getTargetElementFromEventTarget(t.target),
        n = t.targetTouches[0],
        e.nodeName && "select" == e.nodeName.toLowerCase())
            return !1;
        if (o) {
            if (r = window.getSelection(),
            r.rangeCount && !r.isCollapsed)
                return !0;
            if (!i) {
                if (n.identifier && n.identifier === this.lastTouchIdentifier)
                    return t.preventDefault(),
                    !1;
                this.lastTouchIdentifier = n.identifier,
                this.updateScrollParent(e)
            }
        }
        return this.trackingClick = !0,
        this.trackingClickStart = t.timeStamp,
        this.targetElement = e,
        this.touchStartX = n.pageX,
        this.touchStartY = n.pageY,
        t.timeStamp - this.lastClickTime < this.tapDelay && t.preventDefault(),
        !0
    }
    ,
    t.prototype.touchHasMoved = function(t) {
        var e = t.changedTouches[0]
          , n = this.touchBoundary;
        return Math.abs(e.pageX - this.touchStartX) > n || Math.abs(e.pageY - this.touchStartY) > n ? !0 : !1
    }
    ,
    t.prototype.onTouchMove = function(t) {
        return this.trackingClick ? ((this.targetElement !== this.getTargetElementFromEventTarget(t.target) || this.touchHasMoved(t)) && (this.trackingClick = !1,
        this.targetElement = null ),
        !0) : !0
    }
    ,
    t.prototype.findControl = function(t) {
        return void 0 !== t.control ? t.control : t.htmlFor ? document.getElementById(t.htmlFor) : t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
    }
    ,
    t.prototype.onTouchEnd = function(t) {
        var e, a, c, s, u, l = this.targetElement;
        if (!this.trackingClick)
            return !0;
        if (t.timeStamp - this.lastClickTime < this.tapDelay)
            return this.cancelNextClick = !0,
            !0;
        if (t.timeStamp - this.trackingClickStart > this.tapTimeout)
            return !0;
        if (this.cancelNextClick = !1,
        this.lastClickTime = t.timeStamp,
        a = this.trackingClickStart,
        this.trackingClick = !1,
        this.trackingClickStart = 0,
        r && (u = t.changedTouches[0],
        l = document.elementFromPoint(u.pageX - window.pageXOffset, u.pageY - window.pageYOffset) || l,
        l.fastClickScrollParent = this.targetElement.fastClickScrollParent),
        c = l.tagName.toLowerCase(),
        "label" === c) {
            if (e = this.findControl(l)) {
                if (this.focus(l),
                n)
                    return !1;
                l = e
            }
        } else if (this.needsFocus(l))
            return t.timeStamp - a > 100 || o && window.top !== window && "input" === c ? (this.targetElement = null ,
            !1) : (this.focus(l),
            this.sendClick(l, t),
            o && "select" === c || (this.targetElement = null ,
            t.preventDefault()),
            !1);
        return t.timeStamp - a > 200 ? (this.cancelNextClick = !0,
        !0) : o && !i && (s = l.fastClickScrollParent,
        s && s.fastClickLastScrollTop !== s.scrollTop) ? !0 : (this.needsClick(l) || (t.preventDefault(),
        this.sendClick(l, t)),
        !1)
    }
    ,
    t.prototype.onTouchCancel = function() {
        this.trackingClick = !1,
        this.targetElement = null 
    }
    ,
    t.prototype.onMouse = function(t) {
        return this.targetElement ? t.forwardedTouchEvent ? !0 : t.cancelable && (!this.needsClick(this.targetElement) || this.cancelNextClick) ? (t.stopImmediatePropagation ? t.stopImmediatePropagation() : t.propagationStopped = !0,
        t.stopPropagation(),
        t.preventDefault(),
        !1) : !0 : !0
    }
    ,
    t.prototype.onClick = function(t) {
        var e;
        return this.trackingClick ? (this.targetElement = null ,
        this.trackingClick = !1,
        !0) : "submit" === t.target.type && 0 === t.detail ? !0 : (e = this.onMouse(t),
        e || (this.targetElement = null ),
        e)
    }
    ,
    t.prototype.destroy = function() {
        var t = this.layer;
        n && (t.removeEventListener("mouseover", this.onMouse, !0),
        t.removeEventListener("mousedown", this.onMouse, !0),
        t.removeEventListener("mouseup", this.onMouse, !0)),
        t.removeEventListener("click", this.onClick, !0),
        t.removeEventListener("touchstart", this.onTouchStart, !1),
        t.removeEventListener("touchmove", this.onTouchMove, !1),
        t.removeEventListener("touchend", this.onTouchEnd, !1),
        t.removeEventListener("touchcancel", this.onTouchCancel, !1)
    }
    ,
    t.notNeeded = function(t) {
        var e, o, i, r;
        if ("undefined" == typeof window.ontouchstart)
            return !0;
        if (o = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1]) {
            if (!n)
                return !0;
            if (e = document.querySelector("meta[name=viewport]")) {
                if (-1 !== e.content.indexOf("user-scalable=no"))
                    return !0;
                if (o > 31 && document.documentElement.scrollWidth <= window.outerWidth)
                    return !0
            }
        }
        if (a && (i = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),
        i[1] >= 10 && i[2] >= 3 && (e = document.querySelector("meta[name=viewport]")))) {
            if (-1 !== e.content.indexOf("user-scalable=no"))
                return !0;
            if (document.documentElement.scrollWidth <= window.outerWidth)
                return !0
        }
        return "none" === t.style.msTouchAction || "manipulation" === t.style.touchAction ? !0 : (r = +(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1],
        r >= 27 && (e = document.querySelector("meta[name=viewport]"),
        e && (-1 !== e.content.indexOf("user-scalable=no") || document.documentElement.scrollWidth <= window.outerWidth)) ? !0 : "none" === t.style.touchAction || "manipulation" === t.style.touchAction ? !0 : !1)
    }
    ,
    t.attach = function(e, n) {
        return new t(e,n)
    }
    ,
    define(function() {
        return t
    }),
    function() {
        document.addEventListener("DOMContentLoaded", function() {
            t.attach(document.body)
        }, !1)
    }()
}();
</script>
<script>
define("page/strategy_new/strategy_game", ["lib/zepto", "jsBridge/common", "business/router", "business/report", "util/tpl", "util/event", "page/strategy_new/net/stgyGame", "page/strategy_new/downloadBtnCenter", "business/gameInfo", "lib/slip", "business/gameShare", "business/visited", "business/timeFormat", "util/string"], function(t, e) {
    var a = t("lib/zepto")
      , n = t("jsBridge/common")
      , i = t("business/router")
      , o = t("business/report")
      , r = t("util/tpl")
      , d = t("util/event")
      , s = t("page/strategy_new/net/stgyGame")
      , p = t("page/strategy_new/downloadBtnCenter")
      , l = t("business/gameInfo")
      , g = t("lib/slip")
      , c = t("business/gameShare")
      , m = t("business/visited")
      , u = t("business/timeFormat");
    window.formatTime = u.formatTime;
    var y = t("util/string");
    window.parseDate = y.parseDate;
    var f = {
        getGameInfo: function(t, e) {
            s.getGameInfo(t, e)
        },
        getTopAdList: function(t, e) {
            s.getTopAdList(t, e)
        },
        getNewList: function(t, e) {
            s.getNewList(t, e)
        },
        getWikiList: function(t, e) {
            s.getWikiList(t, e)
        },
        getCtgyList: function(t, e) {
            s.getCtgyList(t, e)
        },
        getStgyList: function(t, e) {
            s.getStgyList(t, e)
        },
        getStgyBanner: function(t, e) {
            s.getStgyBanner(t, e, !0)
        },
        subscribeGame: function(t, e) {
            s.subscribeGame(t, e)
        },
        unsubscribeGame: function(t, e) {
            s.unsubscribeGame(t, e)
        }
    }
      , I = {
        appId: 0,
        appName: "",
        iconUrl: "http://download.wegame.qq.com/gc/entrance/105_icon_20140718114935.png",
        mainWraper: a("#main_frame"),
        topAdMain: a("#top_ad_main"),
        topAdCon: a("#top_ad_container"),
        dynamicMain: a("#dynamic_main"),
        dynamicCon: a("#dynamic_container"),
        wikiMain: a("#wiki_main"),
        wikiCon: a("#wiki_container"),
        sortCon: a("#sort_container"),
        stgyCon: a("#strategy_container"),
        gameInfo: null ,
        curCtgy: null ,
        topAdList: null ,
        dynamicList: null ,
        sortList: null ,
        ctgyStgyMap: {},
        ctgyPageNum: {},
        ctgyPageEnd: {},
        init: function() {
            I.appId = i.getParams("appid") || i.getParams("appId"),
            I.tarCtgy = i.getParams("ctgy") || null ,
            I.appId && (I.render(),
            I.bindEvent(),
            o.collect({
                operModule: 133,
                moduleType: 13302,
                operId: 200851,
                operType: 7,
                appId: I.appId
            }),
            setTimeout(function() {
                var t = {
                    title: "攻略专区",
                    desc: "最强攻略，变身高玩不是梦！",
                    imageUrl: "http://download.wegame.qq.com/gc/formal/common/" + I.appId + "/thumImg.png",
                    shareUrl: i.createUrlStruct(null , {
                        appId: I.appId,
                        tarCtgy: I.tarCtgy
                    })
                };
                c.init(t),
                c.addActionButton()
            }, 1e3),
            t.async("business/reportSpeed", function(t) {
                t.report({
                    buzId: 169,
                    siteId: 2080,
                    pageId: 71,
                    timePoints: window._timePoints,
                    exBasePoint: 0,
                    commPoints: {
                        head: 0,
                        domready: 5,
                        active: 6
                    },
                    basePoint: 0,
                    exPoints: {
                        7: 1,
                        8: 2,
                        9: 3,
                        10: 4,
                        11: 5,
                        12: 6
                    },
                    delay: 2
                })
            }))
        },
        render: function() {
            f.getGameInfo(I.appId, function(t) {
                if (t && 0 == t.result && t.data && t.data.gameInfo) {
                    var e = I.gameInfo = t.data.gameInfo;
                    e.appName && I.showTitle(e.appName);
                    var n = I.appId;
                    2 == e.appType && (n = n.split(""),
                    n[0] = n[0].toUpperCase(),
                    n = n.join("")),
                    I.iconUrl = 2 == e.appType ? "http://imgcache.qq.com/vipstyle/icon/pcGame/" + n + ".png" : "http://download.wegame.qq.com/gc/formal/common/" + n + "/thumImg.png",
                    a("#top_banner_title").html(e.appName),
                    a("#top_banner_icon").attr("style", "background-image:url(" + I.iconUrl + ")"),
                    1 == e.appType && e.status ? (a("#btn_con").show(),
                    l.getGameDetail(I.appId, function(t) {
                        t && 0 == t.result && t.data && (t.data.source = "ANDROIDQQ.GAME.strategy_game",
                        p.initDownloadBtn(a("#bottom_btn")[0], t.data, {
                            download: {
                                operModule: 133,
                                operId: 200857,
                                moduleType: 13302,
                                operType: 1,
                                appId: I.appId
                            },
                            update: {
                                operModule: 133,
                                operId: 200857,
                                moduleType: 13302,
                                operType: 1,
                                appId: I.appId
                            },
                            install: {
                                operModule: 133,
                                operId: 200858,
                                moduleType: 13302,
                                operType: 2,
                                appId: I.appId
                            },
                            launch: {
                                operModule: 133,
                                operId: 200859,
                                moduleType: 13302,
                                operType: 3,
                                appId: I.appId
                            },
                            qianghao: {
                                operModule: 133,
                                operId: 200857,
                                moduleType: 13302,
                                operType: 4,
                                appId: I.appId
                            }
                        }))
                    })) : a("body").addClass("wipe-bottom-btn")
                } else
                    a("body").addClass("wipe-bottom-btn")
            }),
            f.getStgyBanner(I.appId, function(t) {
                if (t && 0 == t.result && t.data) {
                    var e = a("#top_banner")
                      , n = a("#top_banner_content")
                      , i = a("#top_banner_detail")
                      , o = a("#btn_follow")
                      , r = a("#btn_cancel_follow")
                      , d = t.data
                      , s = d.subscribeNum || 0
                      , p = d.strategyNum || 0
                      , l = d.subStatus - 0 || 0;
                    if (!d.image)
                        return;
                    n.attr("style", "background-image:url(" + d.image + ")"),
                    i.html(["攻略", p, "篇  ", s > 9999 ? (s / 1e4).toFixed(2) + "万" : s, "关注"].join("")),
                    l ? r.show() : o.show(),
                    e.show()
                }
            }),
            f.getTopAdList(I.appId, function(t) {
                var e = document.getElementById("loading-wrap");
                e && (e.style.display = "none"),
                a("div.wrapper").show(),
                t && 0 == t.result && t.data && t.data.recommendList && t.data.recommendList.length ? (I.topAdList = t.data.recommendList || [],
                I.topAdCon.width(160 * I.topAdList.length),
                I.topAdCon.html(r.get(a("#top_ad_tpl").html(), {
                    list: I.topAdList
                })),
                I.topAdList.length >= 3 && g("px", I.topAdCon.get(0), {
                    fixSlowStyle: "body",
                    direction: "x",
                    no_bar: !0
                })) : I.topAdMain.hide()
            }),
            f.getNewList(I.appId, function(t) {
                t && 0 == t.result && t.data && t.data.latestStrategy && t.data.latestStrategy.length ? (I.dynamicList = t.data.latestStrategy || [],
                I.dynamicCon.html(r.get(a("#dynamic_tmpl").html(), {
                    list: I.dynamicList
                }))) : I.dynamicMain.hide()
            }),
            f.getWikiList(I.appId, function(t) {
                t && 0 == t.result && t.data && t.data.gamePedia && t.data.gamePedia.length ? (I.wikiList = t.data.gamePedia || [],
                I.wikiCon.html(r.get(a("#wiki_tmpl").html(), {
                    list: I.wikiList
                }))) : I.wikiMain.hide()
            }),
            f.getCtgyList(I.appId, function(t) {
                t && 0 == t.result && t.data ? (I.sortList = a.grep(t.data.categoryList || [], function(t) {
                    return t ? !0 : !1
                }),
                I.renderSortList(),
                I.appName = t.data.appName || "") : -1 == t.result && dialog.show({
                    content: "当前访问人数过多，请稍后重试"
                })
            }),
            f.getNewList(I.appId, function(t) {
                t && 0 == t.result && t.data && t.data.latestStrategy && t.data.latestStrategy.length ? (I.dynamicList = t.data.latestStrategy || [],
                I.dynamicCon.html(r.get(a("#dynamic_tmpl").html(), {
                    list: I.dynamicList
                }))) : I.dynamicMain.hide()
            })
        },
        bindEvent: function() {
            d.bindEvent(I.mainWraper[0], "click", {
                click_top_ad: function(t) {
                    var e = d.getTarget(t)
                      , n = a(e).attr("url")
                      , r = a(e).attr("aid") || 0;
                    n && (o.collect({
                        operModule: 133,
                        moduleType: 13302,
                        operId: 200852,
                        locId: r || 0,
                        objId: n || "",
                        appId: I.appId
                    }),
                    setTimeout(function() {
                        i.redirect(n)
                    }, 100))
                },
                view_dynamic: function(t) {
                    var e = d.getTarget(t)
                      , n = a(e).attr("stgyid");
                    n && (o.collect({
                        operModule: 133,
                        moduleType: 13302,
                        operId: 200853,
                        objId: n || "",
                        appId: I.appId
                    }),
                    a(e).addClass("active"),
                    setTimeout(function() {
                        a(e).removeClass("active"),
                        i.redirect("center/strategy/strategy_detail", {
                            stgyid: n,
                            appid: I.appId
                        })
                    }, 200))
                },
                view_more_dynamic: function() {
                    var t = "";
                    setTimeout(function() {
                        i.redirect(t)
                    }, 100)
                },
                view_wiki: function(t) {
                    var e = d.getTarget(t)
                      , n = a(e).attr("url")
                      , r = a(e).attr("wid") || 0;
                    n && (o.collect({
                        operModule: 133,
                        moduleType: 13302,
                        operId: 200854,
                        locId: r || 0,
                        objId: n || "",
                        appId: I.appId
                    }),
                    setTimeout(function() {
                        i.redirect(n)
                    }, 100))
                },
                switch_category: function(t) {
                    var e = d.getTarget(t)
                      , n = a(e).attr("category");
                    if (n) {
                        if (n == I.curCtgy)
                            return;
                        I.sortCon.find("ul li").removeClass("current"),
                        a(e).addClass("current"),
                        I.loadStrategy(n),
                        I.ctgyPageEnd[n] ? a("#button_stgy_more").hide() : a("#button_stgy_more").show(),
                        o.collect({
                            operModule: 133,
                            moduleType: 13302,
                            operId: 200855,
                            objId: n || "",
                            appId: I.appId
                        })
                    }
                },
                view_strategy: function(t) {
                    var e = d.getTarget(t)
                      , n = a(e).attr("stgyid");
                    n && (o.collect({
                        operModule: 133,
                        moduleType: 13302,
                        operId: 200856,
                        objId: n || "",
                        appId: I.appId
                    }),
                    m.setVisited("strategy_new_index", n),
                    a(e).addClass("active"),
                    setTimeout(function() {
                        a(e).removeClass("active"),
                        a(e).addClass("visited"),
                        i.redirect("center/strategy/strategy_detail", {
                            stgyid: n,
                            appid: I.appId
                        })
                    }, 200))
                },
                stgy_more: function() {
                    I.loadStrategy(I.curCtgy)
                },
                subscribe_game: function() {
                    o.collect({
                        business: 3,
                        page: 301,
                        operModule: 133,
                        moduleType: 13302,
                        operId: 201406,
                        objId: I.appId || 0
                    }),
                    f.subscribeGame(I.appId, function() {
                        a("#btn_follow").hide(),
                        a("#btn_cancel_follow").show();
                        var t = a("#top_banner_detail")
                          , e = t.html();
                        -1 == e.indexOf("万关注") && t.html(e.replace(/(\s+)(\d+)/, function(t, e, a) {
                            return e + (parseInt(a) + 1)
                        }))
                    })
                },
                unsubscribe_game: function() {
                    o.collect({
                        business: 3,
                        page: 301,
                        operModule: 133,
                        moduleType: 13302,
                        operId: 201407,
                        objId: I.appId || 0
                    }),
                    f.unsubscribeGame(I.appId, function() {
                        a("#btn_cancel_follow").hide(),
                        a("#btn_follow").show();
                        var t = a("#top_banner_detail")
                          , e = t.html();
                        -1 == e.indexOf("万关注") && t.html(e.replace(/(\s+)(\d+)/, function(t, e, a) {
                            return e + (parseInt(a) - 1)
                        }))
                    })
                }
            }),
            window.addEventListener("scroll", function() {
                {
                    var t = a("#strategy_container");
                    t.offset().top,
                    t.height(),
                    a("body").scrollTop()
                }
            })
        },
        showTitle: function(t) {
            document.title = t || "游戏攻略",
            setTimeout(function() {
                n._invokeByCommonAPI("mqq.ui.refreshTitle", [])
            }, 0)
        },
        bindImageErrorEvent: function(t) {
            t.find("img.image_avatar").removeClass("image_avatar").bind("error", function(t) {
                var e = a(t.target);
                e.closest(".ui-border-t").addClass("no-pic")
            })
        },
        loadStrategy: function(t) {
            if (t = t || "all",
            t != I.curCtgy && I.ctgyStgyMap[t] && I.ctgyStgyMap[t].length)
                I.stgyCon.html(r.get(a("#strategy_tmpl").html(), {
                    list: I.ctgyStgyMap[t],
                    appName: I.appName
                })),
                I.curCtgy = t;
            else {
                if (I.ctgyPageNum[t] || (I.ctgyPageNum[t] = 0),
                I.ctgyPageEnd[t])
                    return;
                f.getStgyList({
                    appId: I.appId,
                    category: "all" == t ? "" : t,
                    pageNum: I.ctgyPageNum[t] || 0
                }, function(e) {
                    e && 0 == e.result && e.data && (I.curCtgy = t,
                    m.getVisitedStatus(e.data.strategyList, "strategy_new_index", "id", function() {
                        e.data && e.data.strategyList && e.data.strategyList.length && (I.ctgyPageNum[t]++,
                        I.ctgyPageEnd[t] = e.data.isLastPage,
                        I.ctgyPageEnd[t] ? a("#button_stgy_more").hide() : a("#button_stgy_more").show(),
                        I.ctgyStgyMap[t] ? (I.ctgyStgyMap[t] = I.ctgyStgyMap[t].concat(e.data.strategyList),
                        I.stgyCon.append(r.get(a("#strategy_tmpl").html(), {
                            list: e.data.strategyList,
                            appName: I.appName
                        }))) : (I.ctgyStgyMap[t] = e.data.strategyList,
                        I.stgyCon.html(r.get(a("#strategy_tmpl").html(), {
                            list: e.data.strategyList,
                            appName: I.appName
                        }))),
                        I.bindImageErrorEvent(I.stgyCon))
                    }))
                })
            }
        },
        renderSortList: function() {
            I.sortCon.html(r.get(a("#sort_tmpl").html(), {
                list: I.sortList || []
            }));
            var t = a(I.sortCon).find("li[category=" + I.tarCtgy + "]");
            t.length && -1 != I.sortList.indexOf(I.tarCtgy) ? (a(I.sortCon).find("li[category]").removeClass("current"),
            t.addClass("current")) : I.tarCtgy = null ,
            setTimeout(function() {
                I.loadStrategy(I.tarCtgy || "all")
            }, 100)
        },
        addScrollEvent: function() {}
    };
    e.init = I.init
});
define("business/mergeRequest", ["lib/zepto", "util/uri", "business/cgiReport"], function(e, t, r) {
    var n = r.exports
      , i = e("lib/zepto")
      , a = e("util/uri")
      , s = e("business/cgiReport")
      , o = {};
    o.domainList = {},
    o.resList = {},
    o.plat = /iphone|ipad|itouch/gi.test(window.navigator.userAgent) ? 2 : 1,
    n.getPluginHandlers = function() {
        var e = s.getPluginHandlers(["method,param[isUpdate]", "result"]);
        return i.extend({}, e, {
            ajaxStart: function(t, r, n) {
                var s = n.url || "";
                if (/(http:\/\/[^\?]+)/gi.test(s)) {
                    var u = RegExp.$1;
                    o.domainList[u] || (o.domainList[u] = o.resetDomainObj());
                    var l = o.domainList[u]
                      , p = ["key", l.keyIndex++].join("");
                    l.keyList[p] = n,
                    l.pluginXhr || (n.success = function(e) {
                        return function(t, n) {
                            var i = r.resList[u].length;
                            if (i) {
                                var a = r.resList[u].pop();
                                for (var s in a.keyList) {
                                    var o = a.keyList[s]
                                      , l = "key0" == s ? e : o.success || function() {}
                                    ;
                                    t.data && t.data[s] ? t.data[s].retBody ? l.call(o, t.data[s].retBody, n) : l.call(o, {
                                        result: t.data[s].retCode,
                                        message: "retBody nofound"
                                    }, n) : l.call(o, {
                                        result: t.ecode,
                                        message: "key nofound"
                                    }, n)
                                }
                            }
                        }
                    }(n.success),
                    n.error = function(e) {
                        return function() {
                            var t = r.resList[u].length;
                            if (t) {
                                var n = r.resList[u].pop();
                                for (var i in n.keyList) {
                                    var a = n.keyList[i]
                                      , s = "key0" == i ? e : a.error;
                                    s.apply(a, Array.prototype.slice.call(arguments, 0))
                                }
                            }
                        }
                    }(n.error)),
                    n.xhr = function(e) {
                        var t = function() {}
                        ;
                        return t.prototype.open = function() {}
                        ,
                        t.prototype.send = function() {}
                        ,
                        t.prototype.setRequestHeader = function() {}
                        ,
                        l.pluginXhr ? (e = new t,
                        n.timeout = 0) : e = l.pluginXhr = e(),
                        function() {
                            return e
                        }
                    }(n.xhr);
                    var d = i(window.document.createElement("span"))
                      , c = null ;
                    return r.open = function(e) {
                        return r.setRequestHeader = function(e) {
                            var t = {}
                              , n = !1
                              , a = function(e, r) {
                                t[e.toLowerCase()] = [e, r]
                            }
                            ;
                            return function(s, o) {
                                a(s, o),
                                n || (i(d).bind("ajaxMergeReqSetHeader", function() {
                                    for (var n in t)
                                        e.apply(r, t[n]);
                                    i(d).trigger(i.Event("ajaxMergeReqSend"))
                                }),
                                n = !0)
                            }
                        }(r.setRequestHeader),
                        function(t, n, s, p, f) {
                            setTimeout(function() {
                                var g = String(n || "").split("?")
                                  , y = a.parseQueryString(g[1] || 0) || {};
                                y.sq_ver = window.sq_ver || "0",
                                y.tt = o.plat || parseInt(y.tt),
                                delete y.module,
                                delete y.method,
                                delete y.param;
                                var v = {}
                                  , m = 0;
                                for (var L in l.keyList) {
                                    var x = l.keyList[L]
                                      , h = x.type && "POST" == x.type.toUpperCase();
                                    if (v[L] = x.data || {},
                                    v[L] = i.extend(!0, {
                                        param: {
                                            tt: parseInt(y.tt)
                                        }
                                    }, v[L]),
                                    h && 0 == m) {
                                        c = "param=" + JSON.stringify(v),
                                        delete v[L];
                                        break
                                    }
                                    m++
                                }
                                r.resList || (r.resList = {}),
                                r.resList[u] && r.resList[u].length ? r.resList[u].push(l) : r.resList[u] = [l],
                                o.domainList[u] = l = o.resetDomainObj(),
                                n = g[0] + "?" + i.param(i.extend(y, {
                                    param: JSON.stringify(v)
                                })),
                                e.call(r, t, n, s, p, f),
                                i(d).trigger(i.Event("ajaxMergeReqSetHeader"))
                            }, 0)
                        }
                    }(r.open),
                    r.send = function(e) {
                        return function(t) {
                            i(d).bind("ajaxMergeReqSend", function() {
                                console.log("real send"),
                                console.log(r),
                                e.call(r, c || t)
                            })
                        }
                    }(r.send),
                    "function" == typeof e.ajaxStart ? e.ajaxStart.apply(e, Array.prototype.slice.call(arguments, 0)) : void 0
                }
            }
        })
    }
    ,
    o.resetDomainObj = function() {
        return {
            keyList: {},
            pluginXhr: null ,
            keyIndex: 0
        }
    }
});
define("business/cgiReport", ["lib/zepto", "util/net", "jsBridge/common", "util/uri"], function(e, t, n) {
    {
        var i = n.exports
          , a = {}
          , r = e("lib/zepto")
          , o = e("util/net")
          , p = e("jsBridge/common");
        e("util/uri")
    }
    a.config = {
        rate: 1
    },
    a.newConfig = {
        platform: p.getClient() || "unknown"
    },
    a.keyList = ["cgi", "type", "code", "time", "apn", "device", "signalStrength", "expansion1", "expansion2", "expansion3", "data", "platform"],
    i.getPluginHandlers = function(e) {
        var t = this
          , n = e;
        n = "string" === r.type(n) ? {
            filter: n
        } : r.isArray(n) ? {
            filter: n[0],
            code: n[1] || 0
        } : n || {};
        var i = i = (new Date).getTime();
        return {
            ajaxSuccess: function(e, a, o, p) {
                var g = 1
                  , c = 0
                  , s = (new Date).getTime() - i;
                if (n.code) {
                    for (var m = String(n.code).split("."), d = 0, u = m.length; u > d && p; )
                        p = p[m[d++]];
                    (d != u || p) && (g = 3,
                    c = p || 0)
                }
                t.send(r.extend(!0, {}, n, {
                    url: o.url,
                    type: g,
                    code: c,
                    time: s
                }))
            },
            ajaxError: function(e, a, o, p) {
                if ("abort" != p) {
                    var g, c, s = (new Date).getTime() - i;
                    "timeout" == p ? (g = 2,
                    c = 3) : "parsererror" == p ? (g = 2,
                    c = 1) : a.status >= 400 && a.status < 500 ? (g = 2,
                    c = 7) : a.status >= 500 && a.status < 600 ? (g = 2,
                    c = 8) : (g = 2,
                    c = 6),
                    t.send(r.extend(!0, {}, n, {
                        url: o.url,
                        type: g,
                        code: c,
                        time: s
                    }))
                }
            }
        }
    }
    ,
    a.mergeNameList = ["cgi", "type", "code", "time"],
    a.send = function(e) {
        var t = arguments.callee
          , n = 2e3
          , i = !0;
        if (t.mapping || (t.mapping = {}),
        e) {
            var g = JSON.stringify({
                domain: e.domain,
                uin: e.uin,
                rate: e.rate
            });
            t.mapping[g] || (t.mapping[g] = []),
            t.mapping[g].push(e)
        } else
            for (var g in t.mapping)
                if (t.mapping.hasOwnProperty(g)) {
                    if (t.mapping[g] && t.mapping[g].length > 0) {
                        i = !1;
                        for (var e, c = r.extend({
                            key: a.keyList.join(",")
                        }, JSON.parse(g)), s = t.mapping[g].splice(0, 10), m = 0, d = s.length; e = s[m],
                        d > m; m++)
                            for (var u, f = 0, l = a.mergeNameList.length; u = a.mergeNameList[f],
                            l > f; f++)
                                c[[m + 1, f + 1].join("_")] = e[u];
                        p.getNetworkType(function(e) {
                            c.apn = 0 == e.result ? e.data : "unknown",
                            p.compareVersion("4.6") >= 0 ? p.getDeviceModel(function(e) {
                                a.newConfig.apn = c.apn,
                                a.newConfig.device = 0 == e.result ? e.data : "unknown";
                                for (var t, n = 0, i = s.length; t = s[n],
                                i > n; n++)
                                    for (var p, g = 0, m = a.keyList.length; p = a.keyList[g],
                                    m > g; g++)
                                        c[[n + 1, g + 1].join("_")] = "cgi" == p ? t[p] + "_pb2" : "undefined" == typeof t[p] ? "undefined" == typeof a.newConfig[p] ? "" : a.newConfig[p] : t[p];
                                var d = r.param(c)
                                  , u = window.navigator.userAgent
                                  , f = window.location.host
                                  , l = {
                                    d: d,
                                    h: f,
                                    ua: u
                                };
                                mqq && mqq.data && mqq.data.pbReport && mqq.support && mqq.support("mqq.data.pbReport") && mqq.data.pbReport("104", JSON.stringify(l)),
                                "imgcache.qq.com" != window.location.host && o.ping("http://c.isdspeed.qq.com/code.cgi?" + r.param(c))
                            }) : o.ping("http://c.isdspeed.qq.com/code.cgi?" + r.param(c))
                        });
                        break
                    }
                    delete t.mapping[g]
                }
        return t.timer && clearTimeout(t.timer),
        e || !i ? (t.timer = setTimeout(function() {
            t.call(this)
        }, n),
        !0) : void 0
    }
    ,
    i.send = function(e) {
        if (/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/.test(decodeURIComponent(e.url))) {
            if (Math.random() < 1 / (e.rate || a.config.rate)) {
                var t = RegExp.$4 || ""
                  , n = RegExp.$5 || ""
                  , i = RegExp.$6 || ""
                  , r = e.filter ? "," + String(e.filter || "").replace(" ", "") + "," : "";
                a.send.call(this, {
                    domain: t,
                    cgi: n + (r ? i.replace(/([\?\&])([^\=\&\#]*)(\=[^\&\#]*)?/g, function(e, t, n) {
                        return -1 != r.indexOf("," + n + ",") ? e || "" : "?" == t ? "?" : ""
                    }).replace(/^\?+$/, "").replace(/^\?&/, "?") : ""),
                    type: e.type || a.config.type || 0,
                    code: e.code || a.config.code || 0,
                    time: e.time || a.config.time || 0,
                    rate: 1,
                    uin: e.uin || a.config.uin || 0
                })
            }
            return !0
        }
        return !1
    }
});
define("business/time", ["util/cacheData", "util/net", "util/process", "business/router"], function(e, t) {
    var a = t
      , n = {}
      , r = e("util/cacheData")
      , s = e("util/net")
      , i = e("util/process")
      , u = e("business/router");
    a.getLeftSecond = function(e, t) {
        r.isExpire("time/interval", 3600) ? i.lockNext("interval", "time/getLeftSecond", function(a) {
            a && a.data && parseInt(a.data) > 0 ? t({
                result: 0,
                data: (parseInt(e) || 0) - (new Date).getTime() / 1e3 - (parseInt(r.get("time/interval")) || 0)
            }, e) : t({
                result: a.result,
                message: a.message
            }, e)
        }, function(e) {
            s.ajax({
                url: u.createUrl("/cgi-bin/gc_challenge_fcgi"),
                data: {
                    module: "gc_challenge",
                    method: "getTime",
                    param: {
                        time: (new Date).getTime()
                    }
                },
                plugins: {
                    "business/mergeRequest": !0
                },
                cache: !1,
                dataType: "json",
                timeout: 1e4,
                success: function(t) {
                    t && 0 == t.result && t.data && parseInt(t.data) > 0 ? (n.setServerTime(t.data),
                    e(t)) : e({
                        result: -1,
                        message: "error data"
                    })
                },
                error: function(t, a, n) {
                    e({
                        result: -1,
                        message: [a, n]
                    })
                }
            })
        }) : t({
            result: 0,
            data: (parseInt(e) || 0) - (new Date).getTime() / 1e3 - (parseInt(r.get("time/interval")) || 0)
        }, e)
    }
    ,
    a.getServerTime = function() {
        var e = u.getParams("test_now");
        if (e)
            return e;
        var t = parseInt(r.get("time/interval")) || 0;
        return Math.floor(Date.now() / 1e3) + t
    }
    ,
    n.setServerTime = function(e) {
        var t = parseInt(e) || 0;
        if (t > 0) {
            var a = parseInt(r.get("time/interval")) || 0
              , n = t - (new Date).getTime() / 1e3;
            0 == a || Math.abs(a - n) > 60 ? r.set("time/interval", n) : r.set("time/interval", a)
        }
    }
    ,
    a.getPluginHandlers = function(e) {
        var t = this
          , a = 0;
        return {
            ajaxSend: function(t, n, r) {
                e instanceof RegExp && e.test(r.url) && (a = (new Date).getTime())
            },
            ajaxSuccess: function(e, r) {
                if (200 == r.status && (new Date).getTime() - a < 1e4)
                    try {
                        var s = Date.parse(r.getResponseHeader("Date")) / 1e3;
                        n.setServerTime.call(t, s)
                    } catch (i) {}
            }
        }
    }
});
define("util/security", ["util/cookie", "util/uri"], function(e, i) {
    var r = e("util/cookie");
    uri = e("util/uri");
    var t = i;
    i.getCSRFToken = function() {
        for (var e = 5381, i = r("skey") || "", t = 0, n = i.length; n > t; ++t)
            e += (e << 5) + i.charCodeAt(t);
        return 2147483647 & e
    }
    ,
    t.getPluginHandlers = function() {
        var e = this;
        return {
            ajaxSend: function(i, r, t) {
                var n = uri.parseUrl(t.url);
                n.hostname && "qq.com" != n.hostname.split(".").slice(-2).join(".") || (t.url = n.href + (n.search.indexOf("?") >= 0 ? "&" : "?") + "g_tk=" + e.getCSRFToken())
            }
        }
    }
});
define("lib/zepto", [], function(t, e, n) {
    var r = function() {
        function t(t) {
            return null  == t ? String(t) : X[V.call(t)] || "object"
        }
        function e(e) {
            return "function" == t(e)
        }
        function n(t) {
            return null  != t && t == t.window
        }
        function r(t) {
            return null  != t && t.nodeType == t.DOCUMENT_NODE
        }
        function i(e) {
            return "object" == t(e)
        }
        function o(t) {
            return i(t) && !n(t) && Object.getPrototypeOf(t) == Object.prototype
        }
        function a(t) {
            return "number" == typeof t.length
        }
        function s(t) {
            return O.call(t, function(t) {
                return null  != t
            })
        }
        function u(t) {
            return t.length > 0 ? T.fn.concat.apply([], t) : t
        }
        function c(t) {
            return t.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase()
        }
        function l(t) {
            return t in D ? D[t] : D[t] = new RegExp("(^|\\s)" + t + "(\\s|$)")
        }
        function f(t, e) {
            return "number" != typeof e || L[c(t)] ? e : e + "px"
        }
        function h(t) {
            var e, n;
            return A[t] || (e = M.createElement(t),
            M.body.appendChild(e),
            n = getComputedStyle(e, "").getPropertyValue("display"),
            e.parentNode.removeChild(e),
            "none" == n && (n = "block"),
            A[t] = n),
            A[t]
        }
        function p(t) {
            return "children" in t ? P.call(t.children) : T.map(t.childNodes, function(t) {
                return 1 == t.nodeType ? t : void 0
            })
        }
        function d(t, e, n) {
            for (E in e)
                n && (o(e[E]) || G(e[E])) ? (o(e[E]) && !o(t[E]) && (t[E] = {}),
                G(e[E]) && !G(t[E]) && (t[E] = []),
                d(t[E], e[E], n)) : e[E] !== w && (t[E] = e[E])
        }
        function m(t, e) {
            return null  == e ? T(t) : T(t).filter(e)
        }
        function g(t, n, r, i) {
            return e(n) ? n.call(t, r, i) : n
        }
        function v(t, e, n) {
            null  == n ? t.removeAttribute(e) : t.setAttribute(e, n)
        }
        function y(t, e) {
            var n = t.className
              , r = n && n.baseVal !== w;
            return e === w ? r ? n.baseVal : n : void (r ? n.baseVal = e : t.className = e)
        }
        function b(t) {
            var e;
            try {
                return t ? "true" == t || ("false" == t ? !1 : "null" == t ? null  : /^0/.test(t) || isNaN(e = Number(t)) ? /^[\[\{]/.test(t) ? T.parseJSON(t) : t : e) : t
            } catch (n) {
                return t
            }
        }
        function x(t, e) {
            e(t);
            for (var n = 0, r = t.childNodes.length; r > n; n++)
                x(t.childNodes[n], e)
        }
        var w, E, T, j, C, S, N = [], P = N.slice, O = N.filter, M = window.document, A = {}, D = {}, L = {
            "column-count": 1,
            columns: 1,
            "font-weight": 1,
            "line-height": 1,
            opacity: 1,
            "z-index": 1,
            zoom: 1
        }, k = /^\s*<(\w+|!)[^>]*>/, R = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, $ = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, F = /^(?:body|html)$/i, _ = /([A-Z])/g, z = ["val", "css", "html", "text", "data", "width", "height", "offset"], q = ["after", "prepend", "before", "append"], W = M.createElement("table"), H = M.createElement("tr"), U = {
            tr: M.createElement("tbody"),
            tbody: W,
            thead: W,
            tfoot: W,
            td: H,
            th: H,
            "*": M.createElement("div")
        }, I = /complete|loaded|interactive/, Z = /^[\w-]*$/, X = {}, V = X.toString, B = {}, Y = M.createElement("div"), J = {
            tabindex: "tabIndex",
            readonly: "readOnly",
            "for": "htmlFor",
            "class": "className",
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
            contenteditable: "contentEditable"
        }, G = Array.isArray || function(t) {
            return t instanceof Array
        }
        ;
        return B.matches = function(t, e) {
            if (!e || !t || 1 !== t.nodeType)
                return !1;
            var n = t.webkitMatchesSelector || t.mozMatchesSelector || t.oMatchesSelector || t.matchesSelector;
            if (n)
                return n.call(t, e);
            var r, i = t.parentNode, o = !i;
            return o && (i = Y).appendChild(t),
            r = ~B.qsa(i, e).indexOf(t),
            o && Y.removeChild(t),
            r
        }
        ,
        C = function(t) {
            return t.replace(/-+(.)?/g, function(t, e) {
                return e ? e.toUpperCase() : ""
            })
        }
        ,
        S = function(t) {
            return O.call(t, function(e, n) {
                return t.indexOf(e) == n
            })
        }
        ,
        B.fragment = function(t, e, n) {
            var r, i, a;
            return R.test(t) && (r = T(M.createElement(RegExp.$1))),
            r || (t.replace && (t = t.replace($, "<$1></$2>")),
            e === w && (e = k.test(t) && RegExp.$1),
            e in U || (e = "*"),
            a = U[e],
            a.innerHTML = "" + t,
            r = T.each(P.call(a.childNodes), function() {
                a.removeChild(this)
            })),
            o(n) && (i = T(r),
            T.each(n, function(t, e) {
                z.indexOf(t) > -1 ? i[t](e) : i.attr(t, e)
            })),
            r
        }
        ,
        B.Z = function(t, e) {
            return t = t || [],
            t.__proto__ = T.fn,
            t.selector = e || "",
            t
        }
        ,
        B.isZ = function(t) {
            return t instanceof B.Z
        }
        ,
        B.init = function(t, n) {
            var r;
            if (!t)
                return B.Z();
            if ("string" == typeof t)
                if (t = t.trim(),
                "<" == t[0] && k.test(t))
                    r = B.fragment(t, RegExp.$1, n),
                    t = null ;
                else {
                    if (n !== w)
                        return T(n).find(t);
                    r = B.qsa(M, t)
                }
            else {
                if (e(t))
                    return T(M).ready(t);
                if (B.isZ(t))
                    return t;
                if (G(t))
                    r = s(t);
                else if (i(t))
                    r = [t],
                    t = null ;
                else if (k.test(t))
                    r = B.fragment(t.trim(), RegExp.$1, n),
                    t = null ;
                else {
                    if (n !== w)
                        return T(n).find(t);
                    r = B.qsa(M, t)
                }
            }
            return B.Z(r, t)
        }
        ,
        T = function(t, e) {
            return B.init(t, e)
        }
        ,
        T.extend = function(t) {
            var e, n = P.call(arguments, 1);
            return "boolean" == typeof t && (e = t,
            t = n.shift()),
            n.forEach(function(n) {
                d(t, n, e)
            }),
            t
        }
        ,
        B.qsa = function(t, e) {
            var n, i = "#" == e[0], o = !i && "." == e[0], a = i || o ? e.slice(1) : e, s = Z.test(a);
            return r(t) && s && i ? (n = t.getElementById(a)) ? [n] : [] : 1 !== t.nodeType && 9 !== t.nodeType ? [] : P.call(s && !i ? o ? t.getElementsByClassName(a) : t.getElementsByTagName(e) : t.querySelectorAll(e))
        }
        ,
        T.contains = M.documentElement.contains ? function(t, e) {
            return t !== e && t.contains(e)
        }
         : function(t, e) {
            for (; e && (e = e.parentNode); )
                if (e === t)
                    return !0;
            return !1
        }
        ,
        T.type = t,
        T.isFunction = e,
        T.isWindow = n,
        T.isArray = G,
        T.isPlainObject = o,
        T.isEmptyObject = function(t) {
            var e;
            for (e in t)
                return !1;
            return !0
        }
        ,
        T.inArray = function(t, e, n) {
            return N.indexOf.call(e, t, n)
        }
        ,
        T.camelCase = C,
        T.trim = function(t) {
            return null  == t ? "" : String.prototype.trim.call(t)
        }
        ,
        T.uuid = 0,
        T.support = {},
        T.expr = {},
        T.map = function(t, e) {
            var n, r, i, o = [];
            if (a(t))
                for (r = 0; r < t.length; r++)
                    n = e(t[r], r),
                    null  != n && o.push(n);
            else
                for (i in t)
                    n = e(t[i], i),
                    null  != n && o.push(n);
            return u(o)
        }
        ,
        T.each = function(t, e) {
            var n, r;
            if (a(t)) {
                for (n = 0; n < t.length; n++)
                    if (e.call(t[n], n, t[n]) === !1)
                        return t
            } else
                for (r in t)
                    if (e.call(t[r], r, t[r]) === !1)
                        return t;
            return t
        }
        ,
        T.grep = function(t, e) {
            return O.call(t, e)
        }
        ,
        window.JSON && (T.parseJSON = JSON.parse),
        T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(t, e) {
            X["[object " + e + "]"] = e.toLowerCase()
        }),
        T.fn = {
            forEach: N.forEach,
            reduce: N.reduce,
            push: N.push,
            sort: N.sort,
            indexOf: N.indexOf,
            concat: N.concat,
            map: function(t) {
                return T(T.map(this, function(e, n) {
                    return t.call(e, n, e)
                }))
            },
            slice: function() {
                return T(P.apply(this, arguments))
            },
            ready: function(t) {
                return I.test(M.readyState) && M.body ? t(T) : M.addEventListener("DOMContentLoaded", function() {
                    t(T)
                }, !1),
                this
            },
            get: function(t) {
                return t === w ? P.call(this) : this[t >= 0 ? t : t + this.length]
            },
            toArray: function() {
                return this.get()
            },
            size: function() {
                return this.length
            },
            remove: function() {
                return this.each(function() {
                    null  != this.parentNode && this.parentNode.removeChild(this)
                })
            },
            each: function(t) {
                return N.every.call(this, function(e, n) {
                    return t.call(e, n, e) !== !1
                }),
                this
            },
            filter: function(t) {
                return e(t) ? this.not(this.not(t)) : T(O.call(this, function(e) {
                    return B.matches(e, t)
                }))
            },
            add: function(t, e) {
                return T(S(this.concat(T(t, e))))
            },
            is: function(t) {
                return this.length > 0 && B.matches(this[0], t)
            },
            not: function(t) {
                var n = [];
                if (e(t) && t.call !== w)
                    this.each(function(e) {
                        t.call(this, e) || n.push(this)
                    });
                else {
                    var r = "string" == typeof t ? this.filter(t) : a(t) && e(t.item) ? P.call(t) : T(t);
                    this.forEach(function(t) {
                        r.indexOf(t) < 0 && n.push(t)
                    })
                }
                return T(n)
            },
            has: function(t) {
                return this.filter(function() {
                    return i(t) ? T.contains(this, t) : T(this).find(t).size()
                })
            },
            eq: function(t) {
                return -1 === t ? this.slice(t) : this.slice(t, +t + 1)
            },
            first: function() {
                var t = this[0];
                return t && !i(t) ? t : T(t)
            },
            last: function() {
                var t = this[this.length - 1];
                return t && !i(t) ? t : T(t)
            },
            find: function(t) {
                var e, n = this;
                return e = t ? "object" == typeof t ? T(t).filter(function() {
                    var t = this;
                    return N.some.call(n, function(e) {
                        return T.contains(e, t)
                    })
                }) : 1 == this.length ? T(B.qsa(this[0], t)) : this.map(function() {
                    return B.qsa(this, t)
                }) : []
            },
            closest: function(t, e) {
                var n = this[0]
                  , i = !1;
                for ("object" == typeof t && (i = T(t)); n && !(i ? i.indexOf(n) >= 0 : B.matches(n, t)); )
                    n = n !== e && !r(n) && n.parentNode;
                return T(n)
            },
            parents: function(t) {
                for (var e = [], n = this; n.length > 0; )
                    n = T.map(n, function(t) {
                        return (t = t.parentNode) && !r(t) && e.indexOf(t) < 0 ? (e.push(t),
                        t) : void 0
                    });
                return m(e, t)
            },
            parent: function(t) {
                return m(S(this.pluck("parentNode")), t)
            },
            children: function(t) {
                return m(this.map(function() {
                    return p(this)
                }), t)
            },
            contents: function() {
                return this.map(function() {
                    return P.call(this.childNodes)
                })
            },
            siblings: function(t) {
                return m(this.map(function(t, e) {
                    return O.call(p(e.parentNode), function(t) {
                        return t !== e
                    })
                }), t)
            },
            empty: function() {
                return this.each(function() {
                    this.innerHTML = ""
                })
            },
            pluck: function(t) {
                return T.map(this, function(e) {
                    return e[t]
                })
            },
            show: function() {
                return this.each(function() {
                    "none" == this.style.display && (this.style.display = ""),
                    "none" == getComputedStyle(this, "").getPropertyValue("display") && (this.style.display = h(this.nodeName))
                })
            },
            replaceWith: function(t) {
                return this.before(t).remove()
            },
            wrap: function(t) {
                var n = e(t);
                if (this[0] && !n)
                    var r = T(t).get(0)
                      , i = r.parentNode || this.length > 1;
                return this.each(function(e) {
                    T(this).wrapAll(n ? t.call(this, e) : i ? r.cloneNode(!0) : r)
                })
            },
            wrapAll: function(t) {
                if (this[0]) {
                    T(this[0]).before(t = T(t));
                    for (var e; (e = t.children()).length; )
                        t = e.first();
                    T(t).append(this)
                }
                return this
            },
            wrapInner: function(t) {
                var n = e(t);
                return this.each(function(e) {
                    var r = T(this)
                      , i = r.contents()
                      , o = n ? t.call(this, e) : t;
                    i.length ? i.wrapAll(o) : r.append(o)
                })
            },
            unwrap: function() {
                return this.parent().each(function() {
                    T(this).replaceWith(T(this).children())
                }),
                this
            },
            clone: function() {
                return this.map(function() {
                    return this.cloneNode(!0)
                })
            },
            hide: function() {
                return this.css("display", "none")
            },
            toggle: function(t) {
                return this.each(function() {
                    var e = T(this);
                    (t === w ? "none" == e.css("display") : t) ? e.show() : e.hide()
                })
            },
            prev: function(t) {
                return T(this.pluck("previousElementSibling")).filter(t || "*")
            },
            next: function(t) {
                return T(this.pluck("nextElementSibling")).filter(t || "*")
            },
            html: function(t) {
                return 0 in arguments ? this.each(function(e) {
                    var n = this.innerHTML;
                    T(this).empty().append(g(this, t, e, n))
                }) : 0 in this ? this[0].innerHTML : null 
            },
            text: function(t) {
                return 0 in arguments ? this.each(function(e) {
                    var n = g(this, t, e, this.textContent);
                    this.textContent = null  == n ? "" : "" + n
                }) : 0 in this ? this[0].textContent : null 
            },
            attr: function(t, e) {
                var n;
                return "string" != typeof t || 1 in arguments ? this.each(function(n) {
                    if (1 === this.nodeType)
                        if (i(t))
                            for (E in t)
                                v(this, E, t[E]);
                        else
                            v(this, t, g(this, e, n, this.getAttribute(t)))
                }) : this.length && 1 === this[0].nodeType ? !(n = this[0].getAttribute(t)) && t in this[0] ? this[0][t] : n : w
            },
            removeAttr: function(t) {
                return this.each(function() {
                    1 === this.nodeType && v(this, t)
                })
            },
            prop: function(t, e) {
                return t = J[t] || t,
                1 in arguments ? this.each(function(n) {
                    this[t] = g(this, e, n, this[t])
                }) : this[0] && this[0][t]
            },
            data: function(t, e) {
                var n = "data-" + t.replace(_, "-$1").toLowerCase()
                  , r = 1 in arguments ? this.attr(n, e) : this.attr(n);
                return null  !== r ? b(r) : w
            },
            val: function(t) {
                return 0 in arguments ? this.each(function(e) {
                    this.value = g(this, t, e, this.value)
                }) : this[0] && (this[0].multiple ? T(this[0]).find("option").filter(function() {
                    return this.selected
                }).pluck("value") : this[0].value)
            },
            offset: function(t) {
                if (t)
                    return this.each(function(e) {
                        var n = T(this)
                          , r = g(this, t, e, n.offset())
                          , i = n.offsetParent().offset()
                          , o = {
                            top: r.top - i.top,
                            left: r.left - i.left
                        };
                        "static" == n.css("position") && (o.position = "relative"),
                        n.css(o)
                    });
                if (!this.length)
                    return null ;
                var e = this[0].getBoundingClientRect();
                return {
                    left: e.left + window.pageXOffset,
                    top: e.top + window.pageYOffset,
                    width: Math.round(e.width),
                    height: Math.round(e.height)
                }
            },
            css: function(e, n) {
                if (arguments.length < 2) {
                    var r = this[0]
                      , i = getComputedStyle(r, "");
                    if (!r)
                        return;
                    if ("string" == typeof e)
                        return r.style[C(e)] || i.getPropertyValue(e);
                    if (G(e)) {
                        var o = {};
                        return T.each(G(e) ? e : [e], function(t, e) {
                            o[e] = r.style[C(e)] || i.getPropertyValue(e)
                        }),
                        o
                    }
                }
                var a = "";
                if ("string" == t(e))
                    n || 0 === n ? a = c(e) + ":" + f(e, n) : this.each(function() {
                        this.style.removeProperty(c(e))
                    });
                else
                    for (E in e)
                        e[E] || 0 === e[E] ? a += c(E) + ":" + f(E, e[E]) + ";" : this.each(function() {
                            this.style.removeProperty(c(E))
                        });
                return this.each(function() {
                    this.style.cssText += ";" + a
                })
            },
            index: function(t) {
                return t ? this.indexOf(T(t)[0]) : this.parent().children().indexOf(this[0])
            },
            hasClass: function(t) {
                return t ? N.some.call(this, function(t) {
                    return this.test(y(t))
                }, l(t)) : !1
            },
            addClass: function(t) {
                return t ? this.each(function(e) {
                    j = [];
                    var n = y(this)
                      , r = g(this, t, e, n);
                    r.split(/\s+/g).forEach(function(t) {
                        T(this).hasClass(t) || j.push(t)
                    }, this),
                    j.length && y(this, n + (n ? " " : "") + j.join(" "))
                }) : this
            },
            removeClass: function(t) {
                return this.each(function(e) {
                    return t === w ? y(this, "") : (j = y(this),
                    g(this, t, e, j).split(/\s+/g).forEach(function(t) {
                        j = j.replace(l(t), " ")
                    }),
                    void y(this, j.trim()))
                })
            },
            toggleClass: function(t, e) {
                return t ? this.each(function(n) {
                    var r = T(this)
                      , i = g(this, t, n, y(this));
                    i.split(/\s+/g).forEach(function(t) {
                        (e === w ? !r.hasClass(t) : e) ? r.addClass(t) : r.removeClass(t)
                    })
                }) : this
            },
            scrollTop: function(t) {
                if (this.length) {
                    var e = "scrollTop" in this[0];
                    return t === w ? e ? this[0].scrollTop : this[0].pageYOffset : this.each(e ? function() {
                        this.scrollTop = t
                    }
                     : function() {
                        this.scrollTo(this.scrollX, t)
                    }
                    )
                }
            },
            scrollLeft: function(t) {
                if (this.length) {
                    var e = "scrollLeft" in this[0];
                    return t === w ? e ? this[0].scrollLeft : this[0].pageXOffset : this.each(e ? function() {
                        this.scrollLeft = t
                    }
                     : function() {
                        this.scrollTo(t, this.scrollY)
                    }
                    )
                }
            },
            position: function() {
                if (this.length) {
                    var t = this[0]
                      , e = this.offsetParent()
                      , n = this.offset()
                      , r = F.test(e[0].nodeName) ? {
                        top: 0,
                        left: 0
                    } : e.offset();
                    return n.top -= parseFloat(T(t).css("margin-top")) || 0,
                    n.left -= parseFloat(T(t).css("margin-left")) || 0,
                    r.top += parseFloat(T(e[0]).css("border-top-width")) || 0,
                    r.left += parseFloat(T(e[0]).css("border-left-width")) || 0,
                    {
                        top: n.top - r.top,
                        left: n.left - r.left
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var t = this.offsetParent || M.body; t && !F.test(t.nodeName) && "static" == T(t).css("position"); )
                        t = t.offsetParent;
                    return t
                })
            }
        },
        T.fn.detach = T.fn.remove,
        ["width", "height"].forEach(function(t) {
            var e = t.replace(/./, function(t) {
                return t[0].toUpperCase()
            });
            T.fn[t] = function(i) {
                var o, a = this[0];
                return i === w ? n(a) ? a["inner" + e] : r(a) ? a.documentElement["scroll" + e] : (o = this.offset()) && o[t] : this.each(function(e) {
                    a = T(this),
                    a.css(t, g(this, i, e, a[t]()))
                })
            }
        }),
        q.forEach(function(e, n) {
            var r = n % 2;
            T.fn[e] = function() {
                var e, i, o = T.map(arguments, function(n) {
                    return e = t(n),
                    "object" == e || "array" == e || null  == n ? n : B.fragment(n)
                }), a = this.length > 1;
                return o.length < 1 ? this : this.each(function(t, e) {
                    i = r ? e : e.parentNode,
                    e = 0 == n ? e.nextSibling : 1 == n ? e.firstChild : 2 == n ? e : null ;
                    var s = T.contains(M.documentElement, i);
                    o.forEach(function(t) {
                        if (a)
                            t = t.cloneNode(!0);
                        else if (!i)
                            return T(t).remove();
                        i.insertBefore(t, e),
                        s && x(t, function(t) {
                            null  == t.nodeName || "SCRIPT" !== t.nodeName.toUpperCase() || t.type && "text/javascript" !== t.type || t.src || window.eval.call(window, t.innerHTML)
                        })
                    })
                })
            }
            ,
            T.fn[r ? e + "To" : "insert" + (n ? "Before" : "After")] = function(t) {
                return T(t)[e](this),
                this
            }
        }),
        B.Z.prototype = T.fn,
        B.uniq = S,
        B.deserializeValue = b,
        T.zepto = B,
        T
    }();
    window.Zepto = r,
    void 0 === window.$ && (window.$ = r),
    function(t) {
        t.Callbacks = function(e) {
            e = t.extend({}, e);
            var n, r, i, o, a, s, u = [], c = !e.once && [], l = function(t) {
                for (n = e.memory && t,
                r = !0,
                s = o || 0,
                o = 0,
                a = u.length,
                i = !0; u && a > s; ++s)
                    if (u[s].apply(t[0], t[1]) === !1 && e.stopOnFalse) {
                        n = !1;
                        break
                    }
                i = !1,
                u && (c ? c.length && l(c.shift()) : n ? u.length = 0 : f.disable())
            }
            , f = {
                add: function() {
                    if (u) {
                        var r = u.length
                          , s = function(n) {
                            t.each(n, function(t, n) {
                                "function" == typeof n ? e.unique && f.has(n) || u.push(n) : n && n.length && "string" != typeof n && s(n)
                            })
                        }
                        ;
                        s(arguments),
                        i ? a = u.length : n && (o = r,
                        l(n))
                    }
                    return this
                },
                remove: function() {
                    return u && t.each(arguments, function(e, n) {
                        for (var r; (r = t.inArray(n, u, r)) > -1; )
                            u.splice(r, 1),
                            i && (a >= r && --a,
                            s >= r && --s)
                    }),
                    this
                },
                has: function(e) {
                    return !(!u || !(e ? t.inArray(e, u) > -1 : u.length))
                },
                empty: function() {
                    return a = u.length = 0,
                    this
                },
                disable: function() {
                    return u = c = n = void 0,
                    this
                },
                disabled: function() {
                    return !u
                },
                lock: function() {
                    return c = void 0,
                    n || f.disable(),
                    this
                },
                locked: function() {
                    return !c
                },
                fireWith: function(t, e) {
                    return !u || r && !c || (e = e || [],
                    e = [t, e.slice ? e.slice() : e],
                    i ? c.push(e) : l(e)),
                    this
                },
                fire: function() {
                    return f.fireWith(this, arguments)
                },
                fired: function() {
                    return !!r
                }
            };
            return f
        }
    }(r),
    function(t) {
        function e(n) {
            var r = [["resolve", "done", t.Callbacks({
                once: 1,
                memory: 1
            }), "resolved"], ["reject", "fail", t.Callbacks({
                once: 1,
                memory: 1
            }), "rejected"], ["notify", "progress", t.Callbacks({
                memory: 1
            })]]
              , i = "pending"
              , o = {
                state: function() {
                    return i
                },
                always: function() {
                    return a.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var n = arguments;
                    return e(function(e) {
                        t.each(r, function(r, i) {
                            var s = t.isFunction(n[r]) && n[r];
                            a[i[1]](function() {
                                var n = s && s.apply(this, arguments);
                                if (n && t.isFunction(n.promise))
                                    n.promise().done(e.resolve).fail(e.reject).progress(e.notify);
                                else {
                                    var r = this === o ? e.promise() : this
                                      , a = s ? [n] : arguments;
                                    e[i[0] + "With"](r, a)
                                }
                            })
                        }),
                        n = null 
                    }).promise()
                },
                promise: function(e) {
                    return null  != e ? t.extend(e, o) : o
                }
            }
              , a = {};
            return t.each(r, function(t, e) {
                var n = e[2]
                  , s = e[3];
                o[e[1]] = n.add,
                s && n.add(function() {
                    i = s
                }, r[1 ^ t][2].disable, r[2][2].lock),
                a[e[0]] = function() {
                    return a[e[0] + "With"](this === a ? o : this, arguments),
                    this
                }
                ,
                a[e[0] + "With"] = n.fireWith
            }),
            o.promise(a),
            n && n.call(a, a),
            a
        }
        var n = Array.prototype.slice;
        t.when = function(r) {
            var i, o, a, s = n.call(arguments), u = s.length, c = 0, l = 1 !== u || r && t.isFunction(r.promise) ? u : 0, f = 1 === l ? r : e(), h = function(t, e, r) {
                return function(o) {
                    e[t] = this,
                    r[t] = arguments.length > 1 ? n.call(arguments) : o,
                    r === i ? f.notifyWith(e, r) : --l || f.resolveWith(e, r)
                }
            }
            ;
            if (u > 1)
                for (i = new Array(u),
                o = new Array(u),
                a = new Array(u); u > c; ++c)
                    s[c] && t.isFunction(s[c].promise) ? s[c].promise().done(h(c, a, s)).fail(f.reject).progress(h(c, o, i)) : --l;
            return l || f.resolveWith(a, s),
            f.promise()
        }
        ,
        t.Deferred = e
    }(r),
    function(t) {
        function e(t) {
            return t._zid || (t._zid = h++)
        }
        function n(t, n, o, a) {
            if (n = r(n),
            n.ns)
                var s = i(n.ns);
            return (g[e(t)] || []).filter(function(t) {
                return !(!t || n.e && t.e != n.e || n.ns && !s.test(t.ns) || o && e(t.fn) !== e(o) || a && t.sel != a)
            })
        }
        function r(t) {
            var e = ("" + t).split(".");
            return {
                e: e[0],
                ns: e.slice(1).sort().join(" ")
            }
        }
        function i(t) {
            return new RegExp("(?:^| )" + t.replace(" ", " .* ?") + "(?: |$)")
        }
        function o(t, e) {
            return t.del && !y && t.e in b || !!e
        }
        function a(t) {
            return x[t] || y && b[t] || t
        }
        function s(n, i, s, u, l, h, p) {
            var d = e(n)
              , m = g[d] || (g[d] = []);
            i.split(/\s/).forEach(function(e) {
                if ("ready" == e)
                    return t(document).ready(s);
                var i = r(e);
                i.fn = s,
                i.sel = l,
                i.e in x && (s = function(e) {
                    var n = e.relatedTarget;
                    return !n || n !== this && !t.contains(this, n) ? i.fn.apply(this, arguments) : void 0
                }
                ),
                i.del = h;
                var d = h || s;
                i.proxy = function(t) {
                    if (t = c(t),
                    !t.isImmediatePropagationStopped()) {
                        t.data = u;
                        var e = d.apply(n, t._args == f ? [t] : [t].concat(t._args));
                        return e === !1 && (t.preventDefault(),
                        t.stopPropagation()),
                        e
                    }
                }
                ,
                i.i = m.length,
                m.push(i),
                "addEventListener" in n && n.addEventListener(a(i.e), i.proxy, o(i, p))
            })
        }
        function u(t, r, i, s, u) {
            var c = e(t);
            (r || "").split(/\s/).forEach(function(e) {
                n(t, e, i, s).forEach(function(e) {
                    delete g[c][e.i],
                    "removeEventListener" in t && t.removeEventListener(a(e.e), e.proxy, o(e, u))
                })
            })
        }
        function c(e, n) {
            return (n || !e.isDefaultPrevented) && (n || (n = e),
            t.each(j, function(t, r) {
                var i = n[t];
                e[t] = function() {
                    return this[r] = w,
                    i && i.apply(n, arguments)
                }
                ,
                e[r] = E
            }),
            (n.defaultPrevented !== f ? n.defaultPrevented : "returnValue" in n ? n.returnValue === !1 : n.getPreventDefault && n.getPreventDefault()) && (e.isDefaultPrevented = w)),
            e
        }
        function l(t) {
            var e, n = {
                originalEvent: t
            };
            for (e in t)
                T.test(e) || t[e] === f || (n[e] = t[e]);
            return c(n, t)
        }
        var f, h = 1, p = Array.prototype.slice, d = t.isFunction, m = function(t) {
            return "string" == typeof t
        }
        , g = {}, v = {}, y = "onfocusin" in window, b = {
            focus: "focusin",
            blur: "focusout"
        }, x = {
            mouseenter: "mouseover",
            mouseleave: "mouseout"
        };
        v.click = v.mousedown = v.mouseup = v.mousemove = "MouseEvents",
        t.event = {
            add: s,
            remove: u
        },
        t.proxy = function(n, r) {
            var i = 2 in arguments && p.call(arguments, 2);
            if (d(n)) {
                var o = function() {
                    return n.apply(r, i ? i.concat(p.call(arguments)) : arguments)
                }
                ;
                return o._zid = e(n),
                o
            }
            if (m(r))
                return i ? (i.unshift(n[r], n),
                t.proxy.apply(null , i)) : t.proxy(n[r], n);
            throw new TypeError("expected function")
        }
        ,
        t.fn.bind = function(t, e, n) {
            return this.on(t, e, n)
        }
        ,
        t.fn.unbind = function(t, e) {
            return this.off(t, e)
        }
        ,
        t.fn.one = function(t, e, n, r) {
            return this.on(t, e, n, r, 1)
        }
        ;
        var w = function() {
            return !0
        }
          , E = function() {
            return !1
        }
          , T = /^([A-Z]|returnValue$|layer[XY]$)/
          , j = {
            preventDefault: "isDefaultPrevented",
            stopImmediatePropagation: "isImmediatePropagationStopped",
            stopPropagation: "isPropagationStopped"
        };
        t.fn.delegate = function(t, e, n) {
            return this.on(e, t, n)
        }
        ,
        t.fn.undelegate = function(t, e, n) {
            return this.off(e, t, n)
        }
        ,
        t.fn.live = function(e, n) {
            return t(document.body).delegate(this.selector, e, n),
            this
        }
        ,
        t.fn.die = function(e, n) {
            return t(document.body).undelegate(this.selector, e, n),
            this
        }
        ,
        t.fn.on = function(e, n, r, i, o) {
            var a, c, h = this;
            return e && !m(e) ? (t.each(e, function(t, e) {
                h.on(t, n, r, e, o)
            }),
            h) : (m(n) || d(i) || i === !1 || (i = r,
            r = n,
            n = f),
            (d(r) || r === !1) && (i = r,
            r = f),
            i === !1 && (i = E),
            h.each(function(f, h) {
                o && (a = function(t) {
                    return u(h, t.type, i),
                    i.apply(this, arguments)
                }
                ),
                n && (c = function(e) {
                    var r, o = t(e.target).closest(n, h).get(0);
                    return o && o !== h ? (r = t.extend(l(e), {
                        currentTarget: o,
                        liveFired: h
                    }),
                    (a || i).apply(o, [r].concat(p.call(arguments, 1)))) : void 0
                }
                ),
                s(h, e, i, r, n, c || a)
            }))
        }
        ,
        t.fn.off = function(e, n, r) {
            var i = this;
            return e && !m(e) ? (t.each(e, function(t, e) {
                i.off(t, n, e)
            }),
            i) : (m(n) || d(r) || r === !1 || (r = n,
            n = f),
            r === !1 && (r = E),
            i.each(function() {
                u(this, e, r, n)
            }))
        }
        ,
        t.fn.trigger = function(e, n) {
            return e = m(e) || t.isPlainObject(e) ? t.Event(e) : c(e),
            e._args = n,
            this.each(function() {
                "dispatchEvent" in this ? this.dispatchEvent(e) : t(this).triggerHandler(e, n)
            })
        }
        ,
        t.fn.triggerHandler = function(e, r) {
            var i, o;
            return this.each(function(a, s) {
                i = l(m(e) ? t.Event(e) : e),
                i._args = r,
                i.target = s,
                t.each(n(s, e.type || e), function(t, e) {
                    return o = e.proxy(i),
                    i.isImmediatePropagationStopped() ? !1 : void 0
                })
            }),
            o
        }
        ,
        "focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e) {
            t.fn[e] = function(t) {
                return t ? this.bind(e, t) : this.trigger(e)
            }
        }),
        ["focus", "blur"].forEach(function(e) {
            t.fn[e] = function(t) {
                return t ? this.bind(e, t) : this.each(function() {
                    try {
                        this[e]()
                    } catch (t) {}
                }),
                this
            }
        }),
        t.Event = function(t, e) {
            m(t) || (e = t,
            t = e.type);
            var n = document.createEvent(v[t] || "Events")
              , r = !0;
            if (e)
                for (var i in e)
                    "bubbles" == i ? r = !!e[i] : n[i] = e[i];
            return n.initEvent(t, r, !0),
            c(n)
        }
    }(r),
    function(t) {
        function e(e, n, r) {
            var i = t.Event(n);
            return t(e).trigger(i, r),
            !i.isDefaultPrevented()
        }
        function n(t, n, r, i) {
            return t.global ? e(n || y, r, i) : void 0
        }
        function r(e) {
            e.global && 0 === t.active++ && n(e, null , "ajaxStart")
        }
        function i(e) {
            e.global && !--t.active && n(e, null , "ajaxStop")
        }
        function o(t, e) {
            var r = e.context;
            return e.beforeSend.call(r, t, e) === !1 || n(e, r, "ajaxBeforeSend", [t, e]) === !1 ? !1 : void n(e, r, "ajaxSend", [t, e])
        }
        function a(t, e, r, i) {
            var o = r.context
              , a = "success";
            r.success.call(o, t, a, e),
            i && i.resolveWith(o, [t, a, e]),
            n(r, o, "ajaxSuccess", [e, r, t]),
            u(a, e, r)
        }
        function s(t, e, r, i, o) {
            var a = i.context;
            i.error.call(a, r, e, t),
            o && o.rejectWith(a, [r, e, t]),
            n(i, a, "ajaxError", [r, i, t || e]),
            u(e, r, i)
        }
        function u(t, e, r) {
            var o = r.context;
            r.complete.call(o, e, t),
            n(r, o, "ajaxComplete", [e, r]),
            i(r)
        }
        function c() {}
        function l(t) {
            return t && (t = t.split(";", 2)[0]),
            t && (t == T ? "html" : t == E ? "json" : x.test(t) ? "script" : w.test(t) && "xml") || "text"
        }
        function f(t, e) {
            return "" == e ? t : (t + "&" + e).replace(/[&?]{1,2}/, "?")
        }
        function h(e) {
            e.processData && e.data && "string" != t.type(e.data) && (e.data = t.param(e.data, e.traditional)),
            !e.data || e.type && "GET" != e.type.toUpperCase() || (e.url = f(e.url, e.data),
            e.data = void 0)
        }
        function p(e, n, r, i) {
            return t.isFunction(n) && (i = r,
            r = n,
            n = void 0),
            t.isFunction(r) || (i = r,
            r = void 0),
            {
                url: e,
                data: n,
                success: r,
                dataType: i
            }
        }
        function d(e, n, r, i) {
            var o, a = t.isArray(n), s = t.isPlainObject(n);
            t.each(n, function(n, u) {
                o = t.type(u),
                i && (n = r ? i : i + "[" + (s || "object" == o || "array" == o ? n : "") + "]"),
                !i && a ? e.add(u.name, u.value) : "array" == o || !r && "object" == o ? d(e, u, r, n) : e.add(n, u)
            })
        }
        var m, g, v = 0, y = window.document, b = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, x = /^(?:text|application)\/javascript/i, w = /^(?:text|application)\/xml/i, E = "application/json", T = "text/html", j = /^\s*$/;
        t.active = 0,
        t.ajaxJSONP = function(e, n) {
            if (!("type" in e))
                return t.ajax(e);
            var r, i, u = e.jsonpCallback, c = (t.isFunction(u) ? u() : u) || "jsonp" + ++v, l = y.createElement("script"), f = window[c], h = function(e) {
                t(l).triggerHandler("error", e || "abort")
            }
            , p = {
                abort: h
            };
            return n && n.promise(p),
            t(l).on("load error", function(o, u) {
                clearTimeout(i),
                t(l).off().remove(),
                "error" != o.type && r ? a(r[0], p, e, n) : s(null , u || "error", p, e, n),
                window[c] = f,
                r && t.isFunction(f) && f(r[0]),
                l = f = r = void 0
            }),
            o(p, e) === !1 ? (h("abort"),
            p) : (window[c] = function() {
                r = arguments
            }
            ,
            l.src = e.url.replace(/\?(.+)=\?/, "?$1=" + c),
            y.head.appendChild(l),
            e.timeout > 0 && (i = setTimeout(function() {
                h("timeout")
            }, e.timeout)),
            p)
        }
        ,
        t.ajaxSettings = {
            type: "GET",
            beforeSend: c,
            success: c,
            error: c,
            complete: c,
            context: null ,
            global: !0,
            xhr: function() {
                return new window.XMLHttpRequest
            },
            accepts: {
                script: "text/javascript, application/javascript, application/x-javascript",
                json: E,
                xml: "application/xml, text/xml",
                html: T,
                text: "text/plain"
            },
            crossDomain: !1,
            timeout: 0,
            processData: !0,
            cache: !0
        },
        t.ajax = function(e) {
            var n = t.extend({}, e || {})
              , i = t.Deferred && t.Deferred();
            for (m in t.ajaxSettings)
                void 0 === n[m] && (n[m] = t.ajaxSettings[m]);
            r(n),
            n.crossDomain || (n.crossDomain = /^([\w-]+:)?\/\/([^\/]+)/.test(n.url) && RegExp.$2 != window.location.host),
            n.url || (n.url = window.location.toString()),
            h(n);
            var u = n.dataType
              , p = /\?.+=\?/.test(n.url);
            if (p && (u = "jsonp"),
            n.cache !== !1 && (e && e.cache === !0 || "script" != u && "jsonp" != u) || (n.url = f(n.url, "_=" + Date.now())),
            "jsonp" == u)
                return p || (n.url = f(n.url, n.jsonp ? n.jsonp + "=?" : n.jsonp === !1 ? "" : "callback=?")),
                t.ajaxJSONP(n, i);
            var d, v = n.accepts[u], y = {}, b = function(t, e) {
                y[t.toLowerCase()] = [t, e]
            }
            , x = /^([\w-]+:)\/\//.test(n.url) ? RegExp.$1 : window.location.protocol, w = n.xhr(), E = w.setRequestHeader;
            if (i && i.promise(w),
            n.crossDomain || b("X-Requested-With", "XMLHttpRequest"),
            b("Accept", v || "*/*"),
            (v = n.mimeType || v) && (v.indexOf(",") > -1 && (v = v.split(",", 2)[0]),
            w.overrideMimeType && w.overrideMimeType(v)),
            (n.contentType || n.contentType !== !1 && n.data && "GET" != n.type.toUpperCase()) && b("Content-Type", n.contentType || "application/x-www-form-urlencoded"),
            n.headers)
                for (g in n.headers)
                    b(g, n.headers[g]);
            if (w.setRequestHeader = b,
            w.onreadystatechange = function() {
                if (4 == w.readyState) {
                    w.onreadystatechange = c,
                    clearTimeout(d);
                    var e, r = !1;
                    if (w.status >= 200 && w.status < 300 || 304 == w.status || 0 == w.status && "file:" == x) {
                        u = u || l(n.mimeType || w.getResponseHeader("content-type")),
                        e = w.responseText;
                        try {
                            "script" == u ? (1,
                            eval)(e) : "xml" == u ? e = w.responseXML : "json" == u && (e = j.test(e) ? null  : t.parseJSON(e))
                        } catch (o) {
                            r = o
                        }
                        r ? s(r, "parsererror", w, n, i) : a(e, w, n, i)
                    } else
                        s(w.statusText || null , w.status ? "error" : "abort", w, n, i)
                }
            }
            ,
            o(w, n) === !1)
                return w.abort(),
                s(null , "abort", w, n, i),
                w;
            if (n.xhrFields)
                for (g in n.xhrFields)
                    "withCredentials" != g && (w[g] = n.xhrFields[g]);
            var T = "async" in n ? n.async : !0;
            w.open(n.type, n.url, T, n.username, n.password),
            n.crossDomain && (w.withCredentials = !0);
            for (g in y)
                E.apply(w, y[g]);
            return n.timeout > 0 && (d = setTimeout(function() {
                w.onreadystatechange = c,
                w.abort(),
                s(null , "timeout", w, n, i)
            }, n.timeout)),
            w.send(n.data ? n.data : null ),
            w
        }
        ,
        t.get = function() {
            return t.ajax(p.apply(null , arguments))
        }
        ,
        t.post = function() {
            var e = p.apply(null , arguments);
            return e.type = "POST",
            t.ajax(e)
        }
        ,
        t.getJSON = function() {
            var e = p.apply(null , arguments);
            return e.dataType = "json",
            t.ajax(e)
        }
        ,
        t.fn.load = function(e, n, r) {
            if (!this.length)
                return this;
            var i, o = this, a = e.split(/\s/), s = p(e, n, r), u = s.success;
            return a.length > 1 && (s.url = a[0],
            i = a[1]),
            s.success = function(e) {
                o.html(i ? t("<div>").html(e.replace(b, "")).find(i) : e),
                u && u.apply(o, arguments)
            }
            ,
            t.ajax(s),
            this
        }
        ;
        var C = encodeURIComponent;
        t.param = function(t, e) {
            var n = [];
            return n.add = function(t, e) {
                this.push(C(t) + "=" + C(e))
            }
            ,
            d(n, t, e),
            n.join("&").replace(/%20/g, "+")
        }
    }(r),
    function(t) {
        t.fn.serializeArray = function() {
            var e, n, r = [];
            return t([].slice.call(this.get(0).elements)).each(function() {
                e = t(this),
                n = e.attr("type"),
                "fieldset" != this.nodeName.toLowerCase() && !this.disabled && "submit" != n && "reset" != n && "button" != n && ("radio" != n && "checkbox" != n || this.checked) && r.push({
                    name: e.attr("name"),
                    value: e.val()
                })
            }),
            r
        }
        ,
        t.fn.serialize = function() {
            var t = [];
            return this.serializeArray().forEach(function(e) {
                t.push(encodeURIComponent(e.name) + "=" + encodeURIComponent(e.value))
            }),
            t.join("&")
        }
        ,
        t.fn.submit = function(e) {
            if (e)
                this.bind("submit", e);
            else if (this.length) {
                var n = t.Event("submit");
                this.eq(0).trigger(n),
                n.isDefaultPrevented() || this.get(0).submit()
            }
            return this
        }
    }(r),
    function(t) {
        function e(t, e, n, r) {
            return Math.abs(t - e) >= Math.abs(n - r) ? t - e > 0 ? "Left" : "Right" : n - r > 0 ? "Up" : "Down"
        }
        function n() {
            l = null ,
            h.last && (h.el.trigger("longTap"),
            h = {})
        }
        function r() {
            l && clearTimeout(l),
            l = null 
        }
        function i() {
            s && clearTimeout(s),
            u && clearTimeout(u),
            c && clearTimeout(c),
            l && clearTimeout(l),
            s = u = c = l = null ,
            h = {}
        }
        function o(t) {
            return ("touch" == t.pointerType || t.pointerType == t.MSPOINTER_TYPE_TOUCH) && t.isPrimary
        }
        function a(t, e) {
            return t.type == "pointer" + e || t.type.toLowerCase() == "mspointer" + e
        }
        var s, u, c, l, f, h = {}, p = 750;
        t(document).ready(function() {
            var d, m, g, v, y = 0, b = 0;
            "MSGesture" in window && (f = new MSGesture,
            f.target = document.body),
            t(document).bind("MSGestureEnd", function(t) {
                var e = t.velocityX > 1 ? "Right" : t.velocityX < -1 ? "Left" : t.velocityY > 1 ? "Down" : t.velocityY < -1 ? "Up" : null ;
                e && (h.el.trigger("swipe"),
                h.el.trigger("swipe" + e))
            }).on("touchstart MSPointerDown pointerdown", function(e) {
                (!(v = a(e, "down")) || o(e)) && (g = v ? e : e.touches[0],
                e.touches && 1 === e.touches.length && h.x2 && (h.x2 = void 0,
                h.y2 = void 0),
                d = Date.now(),
                m = d - (h.last || d),
                h.el = t("tagName" in g.target ? g.target : g.target.parentNode),
                s && clearTimeout(s),
                h.x1 = g.pageX,
                h.y1 = g.pageY,
                m > 0 && 250 >= m && (h.isDoubleTap = !0),
                h.last = d,
                l = setTimeout(n, p),
                f && v && f.addPointer(e.pointerId))
            }).on("touchmove MSPointerMove pointermove", function(t) {
                (!(v = a(t, "move")) || o(t)) && (g = v ? t : t.touches[0],
                r(),
                h.x2 = g.pageX,
                h.y2 = g.pageY,
                y += Math.abs(h.x1 - h.x2),
                b += Math.abs(h.y1 - h.y2))
            }).on("touchend MSPointerUp pointerup", function(n) {
                (!(v = a(n, "up")) || o(n)) && (r(),
                h.x2 && Math.abs(h.x1 - h.x2) > 30 || h.y2 && Math.abs(h.y1 - h.y2) > 30 ? c = setTimeout(function() {
                    h.el && (h.el.trigger("swipe"),
                    h.el.trigger("swipe" + e(h.x1, h.x2, h.y1, h.y2))),
                    h = {}
                }, 0) : "last" in h && (30 > y && 30 > b ? u = setTimeout(function() {
                    if (h.el) {
                        var e = t.Event("tap");
                        e.cancelTouch = i,
                        h.el.trigger(e),
                        h.isDoubleTap ? (h.el.trigger("doubleTap"),
                        h = {}) : s = setTimeout(function() {
                            s = null ,
                            h.el && h.el.trigger("singleTap"),
                            h = {}
                        }, 250)
                    }
                }, 0) : h = {}),
                y = b = 0)
            }).on("touchcancel MSPointerCancel pointercancel", i),
            t(window).on("scroll", i)
        }),
        ["swipe", "swipeLeft", "swipeRight", "swipeUp", "swipeDown", "doubleTap", "tap", "singleTap", "longTap"].forEach(function(e) {
            t.fn[e] = function(t) {
                return this.on(e, t)
            }
        })
    }(r),
    n.exports = r
});
define("jsBridge/common", ["lib/zepto", "lib/qqapi"], function(e, t) {
    function n(e, n, o, i) {
        var r, a = ~g.indexOf(e);
        if (a) {
            if (r = c[e],
            r && "rejected" != r.state() && !i)
                return r.done(function() {
                    o(d[e]),
                    "function" == typeof n[0] && n[0].apply(null , f[e])
                }).fail(function(e) {
                    o(e)
                }),
                !0;
            r = c[e] = u.Deferred(),
            r.done(function() {
                o(d[e]),
                "function" == typeof n[0] && n[0].apply(null , f[e])
            }).fail(function(e) {
                o(e)
            })
        }
        if (!l.iOS && !l.android) {
            var s = {
                result: 4,
                message: "not mobileqq"
            };
            return console.log(JSON.stringify(s)),
            o(s),
            r && r.reject(s),
            !1
        }
        if (!(t.support || l.support)(e)) {
            var s = {
                result: 2,
                message: "method no exist:" + e
            };
            return o(s),
            r && r.reject(s),
            !1
        }
        for (var p = String(e).split("."), m = window, v = p.length - 1, q = 0; v > q; q++) {
            if (!(p[q] in m)) {
                var s = {
                    result: 1,
                    message: "namespace no exist: " + p[q] + ", " + e
                };
                return o(s),
                r && r.reject(s),
                !1
            }
            m = m[p[q]]
        }
        try {
            var w = n;
            r && (w = [function(t) {
                d[e] = {
                    result: 0,
                    data: t
                },
                f[e] = arguments,
                r.resolve()
            }
            ]);
            var h = m[p[v]].apply(m, w)
        } catch (A) {
            var s = {
                result: 3,
                message: "call error: error[" + JSON.stringify(A) + "] method[" + e + "] paramsList[" + JSON.stringify(n) + "]"
            };
            return o(s),
            r && r.reject(s),
            !1
        }
        return (!r || l.android) && o({
            result: 0,
            data: h
        }),
        !0
    }
    function o(e) {
        var t;
        return function(n) {
            t || (t = u.Deferred(),
            e(t)),
            t.done(n)
        }
    }
    function i() {
        var e, n = "gameCenter";
        return e = "iphoneqq" == s() ? n : "undefined" != typeof GCApi && GCApi.getClass ? n : /\bV1_AND_SQ_.+gamecenter/.test(navigator.userAgent) ? n : /[?&]_webview=(gameCenter|default)/.test(location.href) ? RegExp.$1 : "default",
        t.getWebView = i = function() {
            return e
        }
        ,
        e
    }
    function r(e) {
        return e.match(/\w+:\/\//) || (e = 0 == e.indexOf("/") ? "http://" + location.host + e : location.href.replace(/[^\/]*$/, "") + e),
        e
    }
    function a(e) {
        setTimeout(function() {
            location.href = e
        }, 100)
    }
    function s() {
        return l.iOS ? "iphoneqq" : l.android ? "androidqq" : void 0
    }
    var u = e("lib/zepto")
      , l = e("lib/qqapi")
      , c = {}
      , d = {}
      , f = {}
      , g = ["mqq.device.getNetworkType", "mqq.device.getClientInfo", "mqq.device.getDeviceInfo", "mqq.data.getPageLoadStamp"];
    t.support = null ,
    t._invokeByCommonAPI = function(o, r, a, s) {
        function u() {
            l.android && (JsBridge.restoreApis({
                QQApi: ["getAppsVerionCodeBatch", "launchAppWithTokens"]
            }, "4.6"),
            JsBridge.restoreApis({
                qzone_app: ["getUpdateApp"]
            }, "4.7"),
            "gameCenter" == i() ? (JsBridge.restoreApis({
                GCApi: ["getReportPublicHighData", "getReportPublicData", "getSid", "getUin", "getOpenidBatch", "getVersionName", "startToAuthorized"]
            }, "4.6"),
            JsBridge.restoreApis({
                q_download: ["registerDownloadCallBackListener", "getQueryDownloadAction", "doGCDownloadAction", "doDownloadAction", "getDownloadVersion", "checkUpdate"]
            }, "4.6")) : JsBridge.restoreApis({
                q_download: ["registerDownloadCallBackListener", "getQueryDownloadAction", "doGCDownloadAction", "doDownloadAction", "getDownloadVersion", "checkUpdate"]
            }, "4.7"),
            JsBridge.restoreApis({
                qqZoneAppList: ["reportForVia"]
            }, "5.0")),
            /PA/.test(navigator.userAgent) && window.q_download && (window.q_download.doGCDownloadAction = null ),
            n.call(this, o, r, a || function() {}
            , s)
        }
        var c = arguments.callee;
        c.shim ? n.call(this, o, r, a || function() {}
        , s) : (c.shim = !0,
        t.support = l.support = function(e) {
            return function(t) {
                if (0 == t.indexOf("mqq."))
                    return e.apply(this, arguments);
                for (var n = String(t).split("."), o = window, i = n.length, r = 0; i > r; r++)
                    return n[r] in o ? (o = o[n[r]],
                    !0) : !1
            }
        }(l.support),
        !/[?&]_simulator=([\w]+)/.test(location.href) || l.iOS || l.android ? u() : e.async("./simulator/" + RegExp.$1, function() {
            u()
        }))
    }
    ,
    t.getClient = s,
    t.getWebView = i,
    t.openUrl = function() {
        var e;
        return function(t) {
            var n = Date.now();
            e && 1e3 >= n - e || (e = n,
            this._invokeByCommonAPI("mqq.ui.openUrl", [{
                url: r(t.url) || "",
                target: t.target || 0,
                style: 1
            }], function(e) {
                0 != e.result && a(t.url)
            }))
        }
    }(),
    t.getQQVersion = function(e) {
        var t = String(l.QQVersion).split(".").slice(0, 3).join(".");
        return e && e({
            result: 0,
            data: t
        }),
        t
    }
    ,
    t.getClientInfo = o(function(e) {
        t._invokeByCommonAPI("mqq.device.getClientInfo", [function(t) {
            e.resolve({
                result: 0,
                data: t
            })
        }
        ], function(t) {
            0 != t.result && e.resolve(t)
        })
    }),
    t.getDeviceInfo = o(function(e) {
        t._invokeByCommonAPI("mqq.device.getDeviceInfo", [function(t) {
            e.resolve({
                result: 0,
                data: t
            })
        }
        ], function(t) {
            0 != t.result && e.resolve(t)
        })
    }),
    t.getSystemVersion = function(e) {
        this.getDeviceInfo(function(t) {
            e(0 == t.result && t.data ? {
                result: t.result,
                data: t.data.systemVersion
            } : t)
        })
    }
    ,
    t.isIOS9 = function(e) {
        var n = arguments.callee;
        void 0 != n.isIOS9 ? e(n.isIOS9) : "iphoneqq" == t.getClient() ? t.getSystemVersion(function(t) {
            n.isIOS9 = t && 0 == t.result && t.data ? parseInt(t.data) >= 9 : !1,
            e(n.isIOS9)
        }) : (n.isIOS9 = !1,
        e(n.isIOS9))
    }
    ,
    t.getDeviceModel = function(e) {
        this.getDeviceInfo(function(t) {
            e(0 == t.result && t.data ? {
                result: t.result,
                data: t.data.modelVersion || t.data.model
            } : t)
        })
    }
    ,
    t.getNetworkType = o(function(e) {
        var n = ["unknown", "wifi", "2g", "3g", "unknown"];
        if (l.android && l.compare("5.1") >= 0 || l.iOS && l.compare("5.0") >= 0)
            var n = ["unknown", "wifi", "2g", "3g", "4g", "unknown"];
        t._invokeByCommonAPI("mqq.device.getNetworkType", [function(t) {
            e.resolve({
                result: 0,
                data: n[t]
            })
        }
        ], function(t) {
            0 != t.result && e.resolve(t)
        })
    }),
    t.getUserInfo = function(e) {
        this._invokeByCommonAPI("mqq.data.getUserInfo", [function(t) {
            e({
                result: 0,
                data: t
            })
        }
        ], function(t) {
            0 != t.result && e(t)
        })
    }
    ,
    t.compareVersion = function(e, t) {
        var n = l.compare(e);
        return t && t({
            result: 0,
            data: n
        }),
        n
    }
    ,
    t.showProfile = function(e, t) {
        this._invokeByCommonAPI("mqq.ui.showProfile", [e], t)
    }
});
define("business/router", ["lib/zepto", "util/uri", "jsBridge/common", "util/cookie", "util/net", "util/cacheData", "lib/qqapi", "util/detailLog"], function(e, t) {
    function n() {
        return u || (u = _(),
        f ? e.async(f, function() {
            u.resolve()
        }) : u.resolve()),
        u
    }
    function i(e) {
        return l.param(e).replace(/(?:^|&)[^\=]*\=(?:null|undefined)(?=&|#|$)/g, "")
    }
    function r(e) {
        var t = location.hash;
        return ~e.indexOf(".html") && t ? e + (~e.indexOf("#") ? "&" + t.substring(1) : t) : e
    }
    function o(e, t) {
        var n, i, r;
        return t = t || {},
        n = t.PVSRC || a,
        r = d.parseQueryString(window.location.search),
        i = t.ADTAG || r.ADTAG,
        n && (i = i ? i.split(".")[0] + "." + n : n),
        i
    }
    var a, c, s, f, u, l = e("lib/zepto"), d = e("util/uri"), g = e("jsBridge/common"), m = e("util/cookie"), p = e("util/net"), v = e("util/cacheData"), w = e("lib/qqapi"), h = e("util/detailLog"), q = !1, _ = l.proxy(l.Deferred, l), y = t;
    y.detailLog = h.detailLog,
    y.canShow = function() {
        function e() {
            if (window.AMD_75034)
                try {
                    for (var e = window.AMD_75034.form[1][0].f_1.split("|"), t = 0; t < e.length; ++t)
                        if (0 == w.compare(e[t]))
                            return n.reject("gamecenter"),
                            !1;
                    n.resolve()
                } catch (i) {
                    n.resolve()
                }
            else
                n.reject()
        }
        function t() {
            if (!n) {
                var t = window.mqq;
                if (n = _(),
                n.yes = n.done,
                n.no = n.fail,
                "0" === y.getParams("forceshow"))
                    return void n.reject("gamecenter");
                if (t.android || 1 == y.getParams("forceshow"))
                    return void n.resolve();
                if (v.get(i))
                    return void n.resolve();
                var r = y.getParams("appleswitch") || 0;
                if (r)
                    return void n.reject();
                var o = "http://imgcache.gtimg.cn/c/=/ACT/vip_act/act_data/mmqversion.json.js,/club/common/wedgets/mqqvc.js,/ACT/vip_act/act_data/75034.json.js";
                p.getScript(o, function() {
                    var t = window.MQQIOSVC;
                    try {
                        t.check(function(t) {
                            t ? n.reject() : e()
                        })
                    } catch (i) {
                        console.error(i),
                        e()
                    }
                }, function() {
                    n.reject()
                })
            }
        }
        var n, i = "mqqvc_20151201_" + w.QQVersion;
        return function(e, i) {
            return t(),
            n.done(e).fail(i)
        }
    }(),
    y.setPackage = function(e) {
        f = e
    }
    ,
    y.debounce = function(e, t, n) {
        var i;
        return function() {
            var r = this
              , o = arguments
              , a = function() {
                i = null ,
                n || e.apply(r, o)
            }
              , c = n && !i;
            clearTimeout(i),
            i = setTimeout(a, t),
            c && e.apply(r, o)
        }
    }
    ,
    y.pageReady = function() {
        var e = {};
        return function(t, i) {
            i || (i = t,
            t = 1,
            l.isFunction(i) || (t = i || 1,
            i = void 0));
            var r = e[t];
            r || (r = e[t] = _()),
            i ? (r.then(function() {
                return n()
            }).done(i),
            "resolved" != r.state() && (clearTimeout(e[t + "_timer"]),
            e[t + "_timer"] = setTimeout(function() {
                r.resolve()
            }, 1e3))) : (clearTimeout(e[t + "_timer"]),
            r.resolve())
        }
    }(),
    y.enableSwipe = function() {
        q = !0
    }
    ,
    y.disableSwipBack = function() {
        q || (setTimeout(function() {
            g._invokeByCommonAPI("mqq.ui.setWebViewBehavior", [{
                swipeBack: 0
            }])
        }, 0),
        this.disableSwipBack = function() {
            return !0
        }
        )
    }
    ,
    y.ready = function(t, n) {
        var i = y.getParams();
        e.async(n, function() {
            t.apply(null , [l.extend(!0, {}, i)].concat(Array.prototype.slice.apply(arguments)))
        })
    }
    ,
    y.redirect = function(t, n, i) {
        i = !0,
        y.canShow().yes(function() {
            g.openUrl({
                newWindow: "undefined" == typeof i || i === !1 ? !1 : !0,
                url: y.createUrl(t, n),
                target: 1,
                style: 1
            })
        }).no(function(r) {
            if ("gamecenter" == r)
                g.openUrl({
                    newWindow: "undefined" == typeof i || i === !1 ? !1 : !0,
                    url: y.createUrl(t, n),
                    target: 1,
                    style: 1
                });
            else {
                var o = n && (n.appid || n.appId);
                o && e.async("page/index/game/gameInfo", function(t) {
                    t.getGameList(function(t) {
                        for (var n = 0; n < t.length; n++)
                            if (t[n].appId == o) {
                                var i = t[n];
                                return void e.async("jsBridge/app", function(t) {
                                    i.source = "ANDROIDQQ.GAME.DETAIL",
                                    t.startDownload(i, function(e) {
                                        console.log(e)
                                    }),
                                    e.async("business/report", function(e) {
                                        e.collect({
                                            business: 1,
                                            page: 101,
                                            operModule: 144,
                                            operId: 200926,
                                            moduleType: 14403,
                                            appId: o,
                                            operType: 1,
                                            locId: i.hotLocId
                                        })
                                    })
                                })
                            }
                    })
                })
            }
        })
    }
    ,
    y.indexRedirect = function(e, t, n) {
        t = t || {},
        t.indexShow = 1,
        this.redirect(e, t, n)
    }
    ,
    y.getCookieUin = function() {
        var e = m("uin");
        return e ? (e = /^o(\d+)$/.exec(e),
        e && (e = new Number(e[1]) + 0) > 1e4 ? e : 0) : 0
    }
    ,
    y.createUrl = function(e, t) {
        var n = window.seajs && seajs.pageVersion || 0
          , a = l.extend(!0, {
            ver: n
        }, d.parseQueryString(window.location.search))
          , c = y.getCookieUin();
        a.uin = 1 * a.uin || c || 0,
        a.sid = "",
        l.each(["_nav_bgclr", "_nav_titleclr", "_nav_txtclr", "_nav_anim", "_nav_alpha"], function(e, t) {
            delete a[t]
        }),
        a.status = a.PVSRC = void 0,
        a.notShowPub = 1;
        var s = t && t.selfAdtag ? t.selfAdtag : null 
          , f = o(e, t)
          , u = {};
        s ? u.ADTAG = s : f && (u.ADTAG = f);
        var g = y.getFromTag();
        if (a.fromType = g.type,
        a.fromId = g.id,
        -1 === e.indexOf("://")) {
            if (0 === e.indexOf("center/")) {
                var m = e.substr("center/".length)
                  , p = "../";
                if (-1 != window.location.pathname.indexOf("directout/"))
                    if ("3g.qq.com" == window.location.hostname.split(".").slice(-3).join(".")) {
                        var v = window.location.hostname;
                        p = "{SRC}" == window.PAGE_RELEASE ? "http://" + v + "/gamecenterV2/src/index/" : "http://" + v + "/gamecenterV2/dist/index/"
                    } else
                        p = "{SRC}" == window.PAGE_RELEASE ? "http://imgcache.qq.com/gc/gamecenterV2/src/index/" : "http://imgcache.qq.com/gc/gamecenterV2/dist/index/";
                else
                    p = "../";
                var w = {
                    _nav_bgclr: "#ffffff",
                    _nav_titleclr: "#ffffff",
                    _nav_txtclr: "#ffffff",
                    _nav_anim: !0,
                    _nav_alpha: 0
                };
                if ("gconlytest.3g.qq.com" == location.host || "gcpre.3g.qq.com" == location.host)
                    "center/detail/detail" == e && l.extend(!0, t, w);
                else if ("center/detail/detail" == e)
                    p = "http://m.gamecenter.qq.com/directout/",
                    l.extend(!0, t, w);
                else if ("center/video/live" == e) {
                    var h = "http://m.gamecenter.qq.com/directout/live?" + i(l.extend(!0, {}, a, t, u));
                    return r(h)
                }
                seajs.offlinePages && !seajs.offlinePages[m] && (p = "http://gamecenter.qq.com/gamecenter/index/"),
                a._wv && (a._wv = (0xffffffffefff & parseInt(a._wv)) + 2147483648);
                var h = p + m + ".html?" + i(l.extend(!0, {}, a, t, u));
                return r(h)
            }
            if (-1 != e.indexOf("cgi-bin/")) {
                var q = "gamecenter.qq.com";
                return q = "3g.qq.com" == window.location.hostname.split(".").slice(-3).join(".") ? window.location.host : -1 != e.indexOf("gc_gamegift_fcgi") || -1 != e.indexOf("gc_qianghao_async_fcgi") || -1 != e.indexOf("gc_new_server_area_fcgi") || -1 != e.indexOf("gc_tribe_fcgi") || -1 != e.indexOf("gc_entrance_setting_fcgi") ? "gift.gamecenter.qq.com" : "info.gamecenter.qq.com",
                "http://" + q + e + (/\?/.test(e) ? "&" : "?") + i(l.extend(!0, {}, a, t, u))
            }
            if (0 === e.indexOf("/gamecenterV2/")) {
                var q = "imgcache.qq.com";
                "3g.qq.com" == window.location.hostname.split(".").slice(-3).join(".") && (q = window.location.host);
                var h = "http://" + q + "/gc" + e + (/\?/.test(e) ? "&" : "?") + i(l.extend(!0, {}, a, t, u));
                return r(h)
            }
            var q = "gamecenter.qq.com";
            "3g.qq.com" == window.location.hostname.split(".").slice(-3).join(".") && (q = window.location.host);
            var h = "http://" + q + e + (/\?/.test(e) ? "&" : "?") + i(l.extend(!0, {}, a, t, u));
            return r(h)
        }
        if (/^(.+?)(\?(?:[^#]*))?(#(?:.*))?$/.test(e)) {
            var _ = RegExp.$3
              , x = RegExp.$1
              , A = RegExp.$2.replace(/\{([\d\w]+)\}/g, function(e, t) {
                return "undefined" != typeof a[t] ? e = encodeURIComponent(a[t].toString()) : (t = t.toLowerCase(),
                "undefined" != typeof a[t] && (e = encodeURIComponent(a[t].toString()))),
                e
            })
              , S = d.parseQueryString(A);
            S.uin = 1 * S.uin || a.uin || 0,
            S.status = S.PVSRC = void 0;
            var T = !1;
            l.each(["gamecenter.qq.com", "gamecentertest.cs0309.3g.qq.com", "web.g.qq.com", "gconlytest.3g.qq.com", "gconlytest.cs0309.3g.qq.com", "gcpre.3g.qq.com"], function(t, n) {
                return ~e.indexOf(n) ? (T = !0,
                !1) : void 0
            });
            var h = x + "?" + i(l.extend(!0, {}, T ? a : {}, S, t, u)) + _;
            return T && (h = r(h)),
            h
        }
        return e
    }
    ,
    y.createUrlStruct = function(e, t) {
        return t = t || {},
        t.gc_version = y.getVersion() || 1,
        t._wv || (t._wv = 1031),
        {
            host: location.host || "imgcache.qq.com",
            search: t,
            pathname: e || location.pathname
        }
    }
    ,
    y.getShareUrlParam = function() {
        return c || {}
    }
    ,
    y.setShareUrlParam = function(e, t) {
        c || (c = {}),
        null  == t ? delete c[e] : c[e] = t
    }
    ,
    y.getUserId = function() {
        if ("undefined" != typeof s)
            return s;
        var e = l.extend(!0, {}, d.parseQueryString(window.location.search))
          , t = e.sid || ""
          , n = m("uin") || e.uin || 0;
        if (n)
            s = n;
        else if (t) {
            for (var i = 5381, r = 0, o = t.length; o > r; ++r)
                i += (i << 5) + t.charAt(r).charCodeAt();
            s = 2147483647 & i
        } else
            s = 0;
        return s
    }
    ,
    y.getUin = function() {
        var e = l.extend(!0, {}, d.parseQueryString(window.location.search));
        return e.uin
    }
    ,
    y.getParams = function(e) {
        var t, n = arguments.callee;
        if (t = n.params ? n.params : n.params = d.parseQueryString(window.location.search),
        e)
            for (var i = e.split("."), r = 0, o = i.length; o > r; r++) {
                if (!t.hasOwnProperty(i[r])) {
                    var a = a;
                    return a
                }
                t = t[i[r]]
            }
        return t
    }
    ,
    y.getHashParam = function(e) {
        var t = new RegExp("(\\?|#|&)" + e + "=([^&]*)(&|$)")
          , n = window.location.hash.match(t);
        return n && "" != n || (n = window.location.hash.match(t)),
        n ? n[2] : ""
    }
    ,
    y.getVersion = function() {
        var e = y.getParams("gc_version")
          , t = /gamecenterV(\d)*\//;
        if (!e) {
            var n = window.location.pathname.match(t);
            return n && n[1] ? parseInt(n[1]) : 1
        }
        return parseInt(e)
    }
    ,
    y.setPageSrc = function(e) {
        a = e
    }
    ,
    window.FROM_TAG = null ,
    y.setFromTag = function(e, t) {
        window.FROM_TAG = {
            type: e,
            id: t
        }
    }
    ,
    y.getFromTag = function() {
        if (window.FROM_TAG)
            return window.FROM_TAG;
        var e = y.getParams("fromType")
          , t = y.getParams("fromId");
        return {
            type: e,
            id: t
        }
    }
    ,
    y.setRedPointTag = function(e) {
        y.setFromTag("1", e)
    }
    ,
    y.setCareMsgTag = function(e) {
        y.setFromTag("2", e)
    }
});
define("business/report", ["lib/zepto", "util/uri", "business/environment", "business/router", "util/security", "util/cacheData", "util/net", "jsBridge/common"], function(e, s, t) {
    function n(e) {
        return function() {
            l.getSystemVersion(function(s) {
                var t = 0 == s.result ? s.data : "";
                e(t)
            })
        }
    }
    function i(e, s) {
        u.ready(function(t) {
            var n = "http://gamecenter.qq.com/cgi-bin/gc_mainpage_async_fcgi?param="
              , i = {
                testkey1: {
                    module: "gc_achieve_set_svr",
                    method: "report_achieve_cgi",
                    param: {
                        tt: mqq.iOS ? "2" : "1",
                        qqver: mqq.QQVersion,
                        net: "wifi",
                        lUin: +t.uin,
                        sAppId: e + "",
                        vecData: [{
                            iType: s,
                            sData: parseInt((new Date).getTime() / 1e3) + "",
                            lExpireTs: 0,
                            iCover: 0
                        }, {
                            iType: 12,
                            sData: "1",
                            lExpireTs: 0,
                            iCover: 0
                        }, {
                            iType: 26,
                            sData: "1",
                            lExpireTs: 0,
                            iCover: 0
                        }, {
                            iType: 27,
                            sData: "1",
                            lExpireTs: 0,
                            iCover: 0
                        }, {
                            iType: 28,
                            sData: "1",
                            lExpireTs: 0,
                            iCover: 0
                        }],
                        sOpenId: ""
                    }
                }
            };
            I.ping(n + JSON.stringify(i) + "&g_tk=" + c.getCSRFToken())
        })
    }
    function a(e) {
        var s = new Image;
        s.onload = s.onerror = function() {
            s = null 
        }
        ,
        s.src = e
    }
    var d = {}
      , o = e("lib/zepto")
      , r = e("util/uri")
      , p = e("business/environment")
      , u = e("business/router")
      , c = e("util/security")
      , g = e("util/cacheData")
      , I = e("util/net")
      , l = e("jsBridge/common")
      , b = t.exports = {}
      , m = Date.now()
      , _ = 0;
    b.collect = function(e) {
        function s(e) {
            var s = {
                oper_module: "oper_moudle",
                oper_id: "oper_id",
                entrance_status: "ext5",
                ret_id: "ret_id",
                sq_ver: "sq_ver",
                gamecenter_ver: "gamecenter_ver",
                gamecenter_ver_type: "gamecenter_ver_type",
                device_type: "device_type",
                net_type: "net_type",
                resolution: "resolution",
                gamecenter_src: "gamecenter_src",
                is_red_point: "is_red_point",
                is_new_status: "is_new_status",
                module_type: "ext1",
                obj_id: "ext2",
                loc_id: "ext3",
                logic_id: "ext6",
                app_list: "ext7",
                oper_type: "ext4",
                PVSRC: "ext8",
                ext9: "ext9",
                ext10: "ext10",
                business: "ext11",
                page: "ext12",
                gc_version: "ext13",
                ext14: "ext14",
                ext15: "ext15",
                ext16: "ext16",
                ext17: "ext17",
                ext18: "ext18",
                ext20: "ext20",
                ext21: "ext21",
                ext22: "ext22",
                ext23: "ext23",
                ext24: "ext24"
            }
              , t = [];
            for (var n in s)
                "undefined" != typeof I[n] && t.push([s[n], "=", "device_type" == n ? I[n] + "_pbReport" : I[n]].join(""));
            t.push("domain=" + ("iphoneqq" == l.getClient() ? 2 : 1)),
            t.push("gameappid=" + f),
            t.push("uin=" + (e.uin || 0)),
            t.push("itimestamp=" + Math.floor(Date.now() / 1e3)),
            mqq.data.pbReport("10007", t.join("&"))
        }
        var t = r.parseQueryString(window.location.search);
        if (!e.business) {
            var i = d.map[e.operModule];
            i && (e.business = i.businessId,
            e.page = i.pageId)
        }
        var a = u.getFromTag()
          , I = o.extend({
            sq_ver: p.qqVersion || "",
            gamecenter_ver: seajs.pageVersion || "",
            gamecenter_ver_type: p.isOnline ? 1 : 2,
            device_type: p.device || "",
            net_type: p.netType || "",
            resolution: p.resolution || "",
            gamecenter_src: t.ADTAG || 1,
            PVSRC: t.PVSRC,
            ret_id: 1
        }, {
            ext9: e.ext9 || "",
            ext11: e.business || "",
            ext12: e.page || "",
            ext13: 2,
            oper_module: e.operModule || "",
            oper_id: e.operId || "",
            module_type: e.moduleType || "",
            oper_type: e.operType || "",
            loc_id: e.locId || "",
            obj_id: e.objId,
            state_id: e.stateId || "",
            logic_id: e.logicId || "",
            ext14: e.ext14 || 0,
            ext15: e.ext15 || 0,
            ext16: e.ext16 || 0,
            ext17: e.ext17 || 0,
            ext18: e.ext18 || 0,
            ext20: e.ext20 || 0,
            ext21: e.ext21 || 0,
            ext22: e.isInstalled,
            ext23: a.type || 0,
            ext24: a.id || 0
        });
        e.app_list && (I.app_list = e.app_list);
        var f = e.appId || t.appid || t.appId || ""
          , x = {
            tt: "iphoneqq" == l.getClient() ? 2 : 1,
            appId: null ,
            osv: p.osVersion || "",
            appid: f,
            g_tk: c.getCSRFToken()
        };
        setTimeout(n(function(n) {
            var i = 1 == I.oper_type || 4 == I.oper_type
              , a = 1e4 == I.oper_id;
            if (I.ext10 = i || a ? (new Date).valueOf() + "_" + t.uin : "",
            I.ext20 = "201512090102",
            I.ext18 = m,
            I.ext15 = n,
            I.ext16 = _++,
            i && f) {
                var o = "v1.1.7"
                  , r = ["gamecenter_global", "last_download", o, u.getUserId()].join("_");
                g.set(r, (new Date).getTime())
            }
            var p = ["m.gamecenter.qq.com", "imgcache.qq.com"].join("").indexOf(window.location.host) > -1 ? "report.gamecenter.qq.com" : "gamecentertest.cs0309.3g.qq.com"
              , c = (u.getCookieUin(),
            "http://" + p + "/cgi-bin/gc_pg_act_fcgi");
            e.clientParams ? l.getDeviceModel(function(e) {
                0 == e.result && (I.device_type = e.data,
                l.getNetworkType(function(e) {
                    0 == e.result && (I.net_type = e.data,
                    d.post(u.createUrl(c, x), JSON.stringify(I), function() {
                        i && f && b.reportDownload(f)
                    }))
                }))
            }) : d.post(u.createUrl(c, x), JSON.stringify(I), function() {
                i && f && b.reportDownload(f)
            }),
            (i || a) && mqq.support("mqq.data.pbReport") && u.ready(function(e) {
                s(e)
            })
        }), 0)
    }
    ,
    d.post = function(e, s, t) {
        var n = new XMLHttpRequest;
        n.open("POST", e, !0),
        n.withCredentials = !0,
        n.setRequestHeader("Content-Type", "multipart/form-data"),
        n.onreadystatechange = function() {
            if (4 == n.readyState && 200 == n.status) {
                var e;
                try {
                    e = JSON.parse(n.responseText)
                } catch (s) {
                    e = {
                        ret: 999,
                        msg: "wrong json"
                    }
                }
                t(e)
            }
        }
        ,
        n.send(s || null )
    }
    ,
    b.reportSpeed = function(e, s, t) {
        function n() {
            for (var e = 1; p > e; e++) {
                var s = e
                  , n = a[e] || Date.now();
                n && o.push(s + "=" + (n - d))
            }
            if (t) {
                var i = "10007";
                o.unshift("flag1=" + r.buzId + "&flag2=" + r.siteId + "&flag3=" + r.pageId),
                o = "http://report.huatuo.qq.com/report.cgi?appid=" + i + "&speedparams=" + encodeURIComponent(o.join("&"))
            } else
                o.unshift("http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=" + r.buzId + "&flag2=" + r.siteId + "&flag3=" + r.pageId),
                o = o.join("&");
            var u = new Image;
            u.src = o
        }
        if (!(e && e.buzId && e.siteId && e.pageId))
            return void console.log("input param error");
        var i = 1 * e.delay || 5
          , a = e.timePoints || window._timePoints || []
          , d = a[0]
          , o = []
          , r = e || {}
          , p = e.num || 0;
        s ? n() : setTimeout(n, 1e3 * i)
    }
    ,
    b.reportInstalledGame = function(e, s, t) {
        var n = e.length || 0
          , i = [u.getUserId(), "installed", "report_date"].join("/")
          , a = g.get(i)
          , d = (new Date).getDate()
          , r = []
          , p = []
          , c = []
          , I = []
          , l = {
            operModule: 1,
            moduleType: 104,
            operId: 201323,
            objId: n
        };
        a && a == d || (g.set(i, d),
        s && t && (o.each(s, function(e, s) {
            r.push(s.appId)
        }),
        o.each(e, function(e, s) {
            p.push(s.appId)
        }),
        o.each(t, function(e, s) {
            I = [],
            o.each(s, function(e, s) {
                I.push(s.appId)
            }),
            c.push("uninstall" + e + ":" + I.join(","))
        }),
        l.app_list = ["new:" + r.join(","), "installed:" + p.join(","), c.join(";")].join(";")),
        b.collect(l))
    }
    ,
    b.reportForWhiteList = function(e) {
        var s = u.getParams("startTime");
        s && (s = parseInt(s, 10),
        u.ready(function() {
            d.reportForWhiteList(e, s)
        }))
    }
    ,
    b.reportTDW = function(e, s, t) {
        I.ajax({
            url: u.createUrl("/cgi-bin/gc_dc_report_fcgi", t || {}),
            data: {
                module: "gc_report",
                method: "report",
                param: o.extend({
                    dcId: e,
                    data: s
                })
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function() {},
            error: function() {}
        })
    }
    ,
    b.reportDownload = function(e) {
        I.ajax({
            url: u.createUrl("/cgi-bin/gc_gameinfo_v2_fcgi"),
            timeout: 1e4,
            data: {
                module: "gc_gameinfo_v2",
                method: "downloadReport",
                param: {
                    appid: "" + e
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function() {},
            error: function() {}
        })
    }
    ,
    b.reportDownloadToAchievement = function(e) {
        i(e, 5001)
    }
    ,
    b.reportLaunchToAchievement = function(e) {
        i(e, 5002)
    }
    ,
    b.reportTurnPage = function(e, s) {
        s = s || 0;
        var t = {}
          , n = o(window).height();
        setTimeout(function() {
            o(window).bind("scroll", function() {
                var s = document.body.scrollTop
                  , i = parseInt((n + s) / n) + 1;
                i > 1 && !t[i] && (e.objId = i,
                b.collect(e),
                t[i] = !0)
            })
        }, s),
        this.reportTurnPage = function() {}
    }
    ,
    b.reportModuleExposure = function(e, s) {
        function t(e, t) {
            if (n + document.body.scrollTop > t) {
                if (o(e).data("hasBind"))
                    return;
                b.collect(s),
                o(e).data("hasBind", !0)
            }
        }
        var n = o(window).height();
        o(e).each(function(e, s) {
            {
                var n = o(s).offset().top;
                arguments.callee
            }
            o(s).data("hasBind") || (o(window).scroll(function() {
                t(s, n)
            }),
            t(s, n))
        })
    }
    ,
    d.reportForWhiteList = function(e, s) {
        for (var t, n = u.getParams("sid"), i = [], d = window._timePoints, r = 0, p = d.length; p > r; r++)
            t = d[r] - s,
            i.push(t);
        var c = "gamecenter.qq.com";
        "3g.qq.com" == window.location.hostname.split(".").slice(-3).join(".") && (c = window.location.host);
        var g = "http://" + c + "/report/tm_cost?"
          , I = {
            sid: n,
            id: e,
            time: i.join(",")
        };
        I = o.param(I),
        g += I,
        a(g)
    }
    ,
    b.reportExposure = function(e) {
        e = e || {};
        var s = r.parseQueryString(window.location.search);
        if (!e.business) {
            var t = d.map[e.operModule];
            t && (e.business = t.businessId,
            e.page = t.pageId)
        }
        var n = []
          , i = {
            sq_ver: p.qqVersion || "",
            gamecenter_ver: seajs.pageVersion || "",
            gamecenter_ver_type: p.isOnline ? 1 : 2,
            device_type: p.device || "",
            net_type: p.netType || "",
            resolution: p.resolution || "",
            gamecenter_src: s.ADTAG || 1,
            ret_id: 1,
            oper_moudle: e.operModule || "",
            oper_id: e.operId || "",
            ext1: e.moduleType || "",
            ext4: e.operType || "",
            ext3: 1,
            ext2: e.objId,
            ext11: e.business || 0,
            ext12: e.page || 0,
            ext13: 2
        };
        if (e && e.appList) {
            var a = e.appList;
            if (a && a.length) {
                for (var c = 0; c < a.length; c++)
                    n.push(o.extend({}, i, {
                        gameappid: a[c].appId,
                        loc_id: parseInt(a[c].index || 0)
                    }));
                var g = {
                    key: {
                        module: "gc_report",
                        method: "reportBatch",
                        param: o.extend({
                            dcId: "dc00087",
                            data: n
                        })
                    }
                };
                I.ajax({
                    url: u.createUrl("/cgi-bin/gc_dc_report_fcgi"),
                    data: "param=" + JSON.stringify(g),
                    type: "POST",
                    cache: !1,
                    dataType: "json",
                    success: function() {},
                    error: function() {}
                })
            }
        }
    }
    ,
    d.map = {
        1: {
            businessId: 1,
            pageId: 101
        },
        20: {
            businessId: "1",
            pageId: "101"
        },
        131: {
            businessId: "1",
            pageId: "101"
        },
        132: {
            businessId: "1",
            pageId: "101"
        },
        2: {
            businessId: 1,
            pageId: 102
        },
        116: {
            businessId: 1,
            pageId: 102
        },
        17: {
            businessId: "1",
            pageId: "103"
        },
        18: {
            businessId: "1",
            pageId: "103"
        },
        27: {
            businessId: "1",
            pageId: "103"
        },
        32: {
            businessId: "1",
            pageId: "103"
        },
        109: {
            businessId: "1",
            pageId: "103"
        },
        110: {
            businessId: "1",
            pageId: "103"
        },
        111: {
            businessId: "1",
            pageId: "103"
        },
        42: {
            businessId: "1",
            pageId: "104"
        },
        43: {
            businessId: "1",
            pageId: "104"
        },
        119: {
            businessId: "1",
            pageId: "104"
        },
        125: {
            businessId: "1",
            pageId: "104"
        },
        129: {
            businessId: "1",
            pageId: "105"
        },
        130: {
            businessId: "1",
            pageId: "105"
        },
        123: {
            businessId: "1",
            pageId: "106"
        },
        4: {
            businessId: "2",
            pageId: "201"
        },
        28: {
            businessId: "2",
            pageId: "201"
        },
        33: {
            businessId: "2",
            pageId: "201"
        },
        34: {
            businessId: "2",
            pageId: "201"
        },
        35: {
            businessId: "2",
            pageId: "201"
        },
        102: {
            businessId: "2",
            pageId: "201"
        },
        23: {
            businessId: "2",
            pageId: "202"
        },
        24: {
            businessId: "2",
            pageId: "202"
        },
        101: {
            businessId: "2",
            pageId: "202"
        },
        30: {
            businessId: "2",
            pageId: "203"
        },
        31: {
            businessId: "2",
            pageId: "203"
        },
        108: {
            businessId: "2",
            pageId: "203"
        },
        37: {
            businessId: "2",
            pageId: "204"
        },
        38: {
            businessId: "2",
            pageId: "204"
        },
        103: {
            businessId: "2",
            pageId: "204"
        },
        3: {
            businessId: "3",
            pageId: "301"
        },
        25: {
            businessId: "3",
            pageId: "301"
        },
        133: {
            businessId: "3",
            pageId: "301"
        },
        113: {
            businessId: "3",
            pageId: "302"
        },
        114: {
            businessId: "3",
            pageId: "302"
        },
        115: {
            businessId: "3",
            pageId: "302"
        },
        39: {
            businessId: "3",
            pageId: "303"
        },
        14: {
            businessId: "4",
            pageId: "401"
        },
        29: {
            businessId: "4",
            pageId: "402"
        },
        134: {
            businessId: "4",
            pageId: "403"
        },
        26: {
            businessId: "4",
            pageId: "404"
        },
        120: {
            businessId: "4",
            pageId: "405"
        },
        128: {
            businessId: "4",
            pageId: "405"
        },
        7: {
            businessId: "4",
            pageId: "406"
        },
        8: {
            businessId: "4",
            pageId: "406"
        },
        9: {
            businessId: "4",
            pageId: "406"
        },
        10: {
            businessId: "4",
            pageId: "407"
        },
        19: {
            businessId: "4",
            pageId: "407"
        },
        100: {
            businessId: "4",
            pageId: "408"
        },
        11: {
            businessId: "4",
            pageId: "410"
        },
        12: {
            businessId: "4",
            pageId: "411"
        },
        13: {
            businessId: "4",
            pageId: "411"
        },
        21: {
            businessId: "4",
            pageId: "411"
        },
        15: {
            businessId: "4",
            pageId: "412"
        },
        16: {
            businessId: "4",
            pageId: "412"
        },
        135: {
            businessId: "4",
            pageId: "413"
        },
        106: {
            businessId: "5",
            pageId: "501"
        },
        112: {
            businessId: "5",
            pageId: "502"
        },
        104: {
            businessId: "6",
            pageId: "601"
        },
        105: {
            businessId: "6",
            pageId: "602"
        },
        117: {
            businessId: "6",
            pageId: "603"
        },
        121: {
            businessId: "7",
            pageId: "701"
        },
        122: {
            businessId: "7",
            pageId: "702"
        },
        124: {
            businessId: "7",
            pageId: "703"
        },
        41: {
            businessId: "7",
            pageId: "704"
        },
        44: {
            businessId: "7",
            pageId: "705"
        },
        36: {
            businessId: "8",
            pageId: "801"
        }
    }
});
define("util/tpl", [], function(e, t) {
    var n = {};
    n.cache = {},
    t.get = function(e, t, r) {
        if (e) {
            var c = /[^\w\-\.:]/.test(e) ? function(e, t) {
                var n, r = [], p = [];
                for (n in e)
                    r.push(n),
                    p.push(e[n]);
                return new Function(r,c.code).apply(t || e, p)
            }
             : n.cache[e] = n.cache[e] || this.get(document.getElementById(e).innerHTML);
            return c.code = c.code || "var $parts=[]; $parts.push('" + e.replace(/\\/g, "\\\\").replace(/[\r\t\n]/g, " ").split("<%").join("	").replace(/(^|%>)[^\t]*/g, function(e) {
                return e.replace(/'/g, "\\'")
            }).replace(/\t=(.*?)%>/g, "',$1,'").split("	").join("');").split("%>").join("$parts.push('") + "'); return $parts.join('');",
            t ? c(t, r) : c
        }
    }
});
define("util/event", [], function(t, e) {
    var n = function(t) {
        return t && t.getAttribute("_event")
    }
      , r = function(t) {
        return !!t.getAttribute("_event")
    }
    ;
    e.getTarget = function(t, e, n) {
        n = n || this.judgeFn || r;
        for (var i = t.target ? t.target : t.srcElement; i; ) {
            if (n(i))
                return i;
            if (e == i)
                break;
            i = i.parentNode
        }
        return null 
    }
    ,
    e.bindEvent = function(t, e, r, i) {
        i = i || n;
        $(t).bind(e, function(e) {
            for (var n = e.target ? e.target : e.srcElement; n && document.body != n; ) {
                var u = i(n);
                if (r[u] && r[u].call(n, e) === !1)
                    return e.preventDefault(),
                    void e.stopPropagation();
                if (n = n.parentNode,
                t == n)
                    break
            }
        })
    }
});
define("page/strategy_new/net/stgyGame", ["business/router", "util/cacheData", "util/net"], function(e, t) {
    var s = e("business/router")
      , a = e("util/cacheData")
      , r = e("util/net");
    t.getGameInfo = function(e, t) {
        var g = [s.getUserId(), "strategy", "get_gamepage_game_info", e].join("/")
          , c = 300
          , n = 2
          , i = a.get(g);
        i && t && t(i),
        (!i || a.isExpire(g, c, n)) && r.ajax({
            url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
            data: {
                module: "gc_strategy_v2",
                method: "get_gamepage_info",
                param: {
                    appId: e + ""
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(e) {
                e && 0 == e.result ? (a.set(g, e),
                t && t(e)) : t && t(e)
            },
            error: function(e, s, a) {
                t && t({
                    result: -1,
                    message: a
                })
            }
        })
    }
    ,
    t.getStgyBanner = function(e, t) {
        r.ajax({
            url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
            data: {
                module: "gc_strategy_v2",
                method: "get_game_base_info",
                param: {
                    appId: e + ""
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(e) {
                e && 0 == e.result ? t && t(e) : t && t(e)
            },
            error: function(e, s, a) {
                t && t({
                    result: -1,
                    message: a
                })
            }
        })
    }
    ,
    t.subscribeGame = function(e, t) {
        r.ajax({
            url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
            data: {
                module: "gc_strategy_v2",
                method: "subscribe",
                param: {
                    appId: e + ""
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(e) {
                t && t(e)
            },
            error: function() {
                t && t(json)
            }
        })
    }
    ,
    t.unsubscribeGame = function(e, t) {
        r.ajax({
            url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
            data: {
                module: "gc_strategy_v2",
                method: "unsubscribe",
                param: {
                    appId: e + ""
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(e) {
                t && t(e)
            },
            error: function() {
                t && t(json)
            }
        })
    }
    ,
    t.getTopAdList = function(e, t) {
        var g = [s.getUserId(), "strategy", "get_top_ad_list", e].join("/")
          , c = 300
          , n = 2
          , i = a.get(g);
        i && t && t(i),
        (!i || a.isExpire(g, c, n)) && r.ajax({
            url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
            data: {
                module: "gc_strategy_v2",
                method: "get_gamepage_recommends",
                param: {
                    appId: e + ""
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(e) {
                e && 0 == e.result ? (a.set(g, e),
                t && t(e)) : t && t(e)
            },
            error: function(e, s, a) {
                t && t({
                    result: -1,
                    message: a
                })
            }
        })
    }
    ,
    t.getNewList = function(e, t) {
        var g = [s.getUserId(), "strategy", "get_new_list", e].join("/")
          , c = 300
          , n = 2
          , i = a.get(g);
        return i && !a.isExpire(g, c, n) ? void (t && t(i)) : void r.ajax({
            url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
            data: {
                module: "gc_strategy_v2",
                method: "get_latest_strategy",
                param: {
                    appId: e + ""
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(e) {
                e && 0 == e.result ? (a.set(g, e),
                t && t(e)) : t && t(e)
            },
            error: function(e, s, a) {
                t && t({
                    result: -1,
                    message: a
                })
            }
        })
    }
    ,
    t.getWikiList = function(e, t) {
        var g = [s.getUserId(), "strategy", "get_wiki_list", e].join("/")
          , c = 300
          , n = 2
          , i = a.get(g);
        i && t && t(i),
        (!i || a.isExpire(g, c, n)) && r.ajax({
            url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
            data: {
                module: "gc_strategy_v2",
                method: "get_gamepedia",
                param: {
                    appId: e + ""
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(e) {
                e && 0 == e.result ? (a.set(g, e),
                t && t(e)) : t && t(e)
            },
            error: function(e, s, a) {
                t && t({
                    result: -1,
                    message: a
                })
            }
        })
    }
    ,
    t.getCtgyList = function(e, t) {
        var g = [s.getUserId(), "strategy", "get_ctgy_list", e].join("/")
          , c = 300
          , n = 2
          , i = a.get(g);
        i && !a.isExpire(g, c, n) ? t && t(i) : r.ajax({
            url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
            data: {
                module: "gc_strategy_v2",
                method: "get_category_list",
                param: {
                    appId: e + ""
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(e) {
                e && 0 == e.result ? (a.set(g, e),
                t && t(e)) : t && t(e)
            },
            error: function(e, s, a) {
                t && t({
                    result: -1,
                    message: a
                })
            }
        })
    }
    ;
    var g = 10;
    t.getStgyList = function(e, t) {
        if (e && e.appId) {
            var c = [s.getUserId(), "strategy", "get_strgy_list", e.appId, e.category || 0, e.pageNum].join("/")
              , n = 300
              , i = 2
              , u = a.get(c);
            u && !a.isExpire(c, n, i) ? t && t(u) : r.ajax({
                url: s.createUrl("/cgi-bin/gc_strategy_v2_async_fcgi"),
                data: {
                    module: "gc_strategy_v2",
                    method: "get_strategy_list",
                    param: {
                        appId: e.appId + "",
                        category: e.category || "",
                        pageNum: e.pageNum || 0,
                        pageSize: g
                    }
                },
                plugins: {
                    "business/mergeRequest": !0
                },
                cache: !1,
                dataType: "json",
                success: function(e) {
                    e && 0 == e.result ? (a.set(c, e),
                    t && t(e)) : t && t(e)
                },
                error: function(e, s, a) {
                    t && t({
                        result: -1,
                        message: a
                    })
                }
            })
        }
    }
});
define("page/strategy_new/downloadBtnCenter", ["lib/zepto", "business/gameList", "jsBridge/common", "business/report"], function(n, o) {
    function t(n, o, t) {
        return n && o ? (r = n,
        d = o || {},
        u = t || {},
        w = p.getClient(),
        a(),
        void p.registerChangeListener(i)) : void console.log(" param error ")
    }
    function a() {
        p.isInstalled(function(n) {
            n = n || !1,
            n ? (f.showLaunch(),
            "androidqq" == w && p.checkUpdate(function(n) {
                n && p.getDownloadInfo(function(n) {
                    n = n || {},
                    2 == n.state ? f.showDownloading(n) : 3 == n.state ? f.showContinue(n) : 4 == n.state ? f.showInstall() : 20 == n.state ? f.showWait() : f.showUpdate()
                })
            })) : (f.showDownload(),
            "androidqq" == w && p.getDownloadInfo(function(n) {
                n = n || {},
                2 == n.state ? f.showDownloading(n) : 3 == n.state ? f.showContinue(n) : 4 == n.state ? f.showInstall() : 20 == n.state && f.showWait()
            }))
        })
    }
    function i(n) {
        if (0 == n.result) {
            n.data = n.data || [];
            for (var o = 0; o < n.data.length; o++) {
                var t = n.data[o];
                if (t.appId == d.appId || t.pkgName == d.pkgName)
                    switch (t.state) {
                    case 2:
                        f.showDownloading(t);
                        break;
                    case 3:
                        f.showContinue(t);
                        break;
                    case 4:
                        f.showInstall();
                        break;
                    case 6:
                        f.showLaunch();
                        break;
                    case 9:
                        f.showDownload();
                        break;
                    case 10:
                        return void f.showDownload();
                    case 20:
                        f.showWait()
                    }
            }
        } else
            "iphoneqq" == w && 1 == n.result && a()
    }
    var s = n("lib/zepto")
      , e = n("business/gameList")
      , l = n("jsBridge/common")
      , c = n("business/report")
      , r = null 
      , d = {}
      , u = {}
      , w = null 
      , p = {
        getClient: function() {
            return l.getClient()
        },
        launch: function() {
            e.launch(d, function() {})
        },
        isInstalled: function(n) {
            d ? e.isInstalled(d, function(o) {
                if (0 == o.result) {
                    var t = o.data || !1;
                    return void (n && n(t))
                }
                n && n(!1)
            }) : console.log("check installed gameInfo pkg inforation error ")
        },
        rob: function(n) {
            d.via = "ANDROIDQQ.GAME.DETAIL",
            d && e.rob(d, function() {
                n && n()
            })
        },
        checkUpdate: function(n) {
            if (d && d.pkgName) {
                if (0 == d.showUpdateFlag)
                    return void (n && n(!1));
                e.checkUpdate(d, function(o) {
                    if (0 == o.result) {
                        cur = o.data || {};
                        var t = !1;
                        return (2 == cur.updateMethod || 3 == cur.updateMethod || 4 == cur.updateMethod) && (t = !0),
                        void (n && n(t))
                    }
                    n && n(!1)
                })
            } else
                console.log("check update gameInfo pkg inforation error ")
        },
        startDownload: function(n) {
            d ? (d.source = "ANDROIDQQ.GAME.DETAIL",
            e.startDownload(d, n)) : console.log("downLoad gameInfo pkg inforation error ")
        },
        stopDownload: function(n) {
            d ? (d.source = "ANDROIDQQ.GAME.DETAIL",
            e.stopDownload(d, n)) : console.log("downLoad gameInfo pkg inforation error ")
        },
        install: function(n) {
            d ? e.install(d, n) : console.log("install, gameInfo pkg inforation error ")
        },
        getDownloadInfo: function(n) {
            d ? e.getDownloadInfo(d, function(o) {
                o = o || {},
                0 == o.result ? (o.data = o.data || {},
                n && n(o.data)) : n && n(o)
            }) : console.log("getDownloadInfo, gameInfo pkg inforation error ")
        },
        registerChangeListener: function(n) {
            e.registerChangeListener(function(o) {
                n && n(o)
            })
        }
    }
      , f = {
        showLaunch: function() {
            s(r).unbind("click"),
            r.innerHTML = '<span class="ui-btn-inner" style="width:100%"><span>启动</span></span>',
            s(r).bind("click", function() {
                u.launch && c.collect(u.launch),
                p.launch(function(n) {
                    window.alert(JSON.stringify(n))
                })
            }),
            "androidqq" == w && "gameCenter" == l.getWebView() && e.checkQianghaoGame(d, function(n) {
                0 == n.result && n.data && f.showQianghao()
            }),
            r.style.display = ""
        },
        showDownload: function() {
            s(r).unbind("click"),
            l.isIOS9(function(n) {
                var o = n ? "进入" : "下载";
                r.innerHTML = '<span class="ui-btn-inner" style="width:100%"><span>' + o + "</span></span>"
            }),
            s(r).bind("click", function() {
                u.download && c.collect(u.download),
                p.startDownload(function(n) {
                    window.alert(JSON.stringify(n))
                }),
                f.showDownloading()
            }),
            "androidqq" == w && "gameCenter" == l.getWebView() && e.checkQianghaoGame(d, function(n) {
                0 == n.result && n.data && f.showQianghao()
            }),
            r.style.display = ""
        },
        showWait: function() {
            s(r).unbind("click"),
            r.innerHTML = '<span class="ui-btn-inner" style="width:100%"><span>等待中</span></span>',
            s(r).bind("click", function() {
                p.startDownload(function(n) {
                    window.alert(JSON.stringify(n))
                }),
                f.showDownloading()
            }),
            r.style.display = ""
        },
        showQianghao: function() {
            s(r).unbind("click"),
            r.innerHTML = '<span class="ui-btn-inner" style="width:100%"><span>抢号</span></span>',
            s(r).bind("click", function() {
                u.qianghao && c.collect(u.qianghao),
                p.rob(function() {}),
                f.showDownloading()
            }),
            r.style.display = ""
        },
        showUpdate: function() {
            s(r).unbind("click"),
            r.innerHTML = '<span class="ui-btn-inner" style="width:100%"><span>更新</span></span>',
            s(r).bind("click", function() {
                u.update && c.collect(u.update),
                p.startDownload(function(n) {
                    window.alert(JSON.stringify(n))
                }),
                f.showDownloading()
            }),
            r.style.display = ""
        },
        showDownloading: function(n) {
            if (s(r).unbind("click"),
            n && n.progress) {
                var o = 1 * n.progress
                  , t = "<span>" + o + '%</span><span class="ui-btn-inner" style="width:' + o + '%"><span>' + o + "%</span></span>";
                s(r).html(t)
            } else
                s(r).html('<span class="ui-btn-inner" style="width:100%"><span>下载中</span></span>');
            s(r).bind("click", function() {
                p.stopDownload(function() {}),
                f.showContinue()
            }),
            r.style.display = ""
        },
        showContinue: function() {
            s(r).unbind("click"),
            s(r).bind("click", function() {
                p.startDownload(function() {}),
                f.showDownloading()
            }),
            setTimeout(function() {
                s(r).html('<span class="ui-btn-inner" style="width:100%"><span>继续</span></span>')
            }, 10),
            r.style.display = ""
        },
        showInstall: function() {
            s(r).unbind("click"),
            r.innerHTML = '<span class="ui-btn-inner" style="width:100%"><span>安装</span></span>',
            s(r).bind("click", function() {
                u.install && c.collect(u.install),
                p.install(function(n) {
                    0 == n.result && a()
                })
            }),
            r.style.display = ""
        }
    };
    o.initDownloadBtn = t
});
define("business/gameInfo", ["lib/zepto", "business/router", "business/userInfo", "util/cacheData", "util/net", "jsBridge/app", "jsBridge/common", "util/process"], function(e, o, n) {
    function a(e) {
        I || (I = !0,
        c.ajax({
            url: r.createUrl("/cgi-bin/gc_gameinfo_fcgi"),
            data: {
                module: "game_info_cmd",
                method: "getList",
                param: {
                    sourcePage: "1_2_3_4_5_6_7_8",
                    version: 1
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(o) {
                I = !1,
                q(o, e)
            },
            error: function() {
                I = !1
            }
        }))
    }
    function t(e, o, n) {
        appId = e.appId || "0";
        var a = "banner_" + (e.bannerId || 0)
          , t = e.QQVersion || 0;
        if (0 != appId) {
            var i = [r.getUserId(), _, appId, a].join("/")
              , p = s.get(i)
              , l = 300
              , g = 2;
            if (p && !n)
                try {
                    if (!s.isExpire(i, l, g))
                        return void (o && o(p))
                } catch (u) {
                    console.log(u)
                }
            c.ajax({
                url: r.createUrl("/cgi-bin/gc_gameinfo_fcgi"),
                data: {
                    module: "game_info_cmd",
                    method: "getDetail",
                    param: {
                        appid: appId + "",
                        referId: a + "",
                        QQVersion: t + ""
                    }
                },
                plugins: {
                    "business/mergeRequest": !0
                },
                cache: !1,
                dataType: "json",
                success: function(e) {
                    if (0 == e.ret && e.items && e.items[0]) {
                        var n = e.items[0]
                          , a = k(n)
                          , t = e.entranceItems || []
                          , r = {
                            result: 0,
                            data: a,
                            entrance: t,
                            message: e.msg
                        };
                        o && o(r),
                        s.set(i, r)
                    } else
                        o && o(e)
                }
            })
        }
    }
    var i = e("lib/zepto")
      , r = e("business/router")
      , s = (e("business/userInfo"),
    e("util/cacheData"))
      , c = e("util/net")
      , p = e("jsBridge/app")
      , l = e("jsBridge/common")
      , g = (e("util/process"),
    n.exports = {})
      , u = null 
      , m = []
      , d = []
      , f = "iphoneqq" == l.getClient()
      , h = (r.getUserId(),
    location.search.indexOf("plat=wx") > -1)
      , I = !1
      , b = window.GCApi && GCApi.startToAuthorized
      , y = location.host || ""
      , v = y && (y.indexOf("gamecentertest.cs0309.3g.qq.com") > -1 || y.indexOf("gconlytest.3g.qq.com") > -1) ? y : "download.wegame.qq.com"
      , w = "game_list_v0722"
      , _ = "get_game_detail_v0723";
    g.search = function(e, o, n) {
        G(e, function(n) {
            var n = {
                result: 0,
                data: N(e)
            };
            o(n)
        }, n)
    }
    ,
    g.get = function(e, o, n) {
        G(e, function(n) {
            var n = {
                result: 0,
                data: N(e)[0]
            };
            o(n)
        }, n)
    }
    ;
    var G = function(e, o, n) {
        if (u && !n)
            return void (o && o(u));
        if (e.appId)
            return void t({
                appId: e.appId
            }, function(e) {
                u = [e.data],
                C(o, u)
            }, n);
        var r = s.get(w);
        n ? a(o) : r ? (u = r,
        0 == m.length && i.each(u, function(e, o) {
            m.push("tencent" + o.appId),
            d.push(o.pkgName)
        }),
        o && o(u)) : window.GAME_INFO && 0 == window.GAME_INFO.result ? q(GAME_INFO, function(e) {
            o && o(e),
            setTimeout(function() {
                a(o)
            }, 2e3)
        }) : a(o)
    }
      , q = function(e, o) {
        if (e && 0 == e.ret) {
            var n = [];
            i.each(e.preitems, function(e, o) {
                o.preview = 1,
                n.push(k(o))
            }),
            i.each(e.promotion, function(e, o) {
                o.promotion = 1,
                o.ribbon = "new",
                n.push(k(o))
            }),
            i.each(e.items, function(e, o) {
                n.push(k(o))
            }),
            b || i.each(n, function(e, o) {
                "1" == o.qhGameVersionCode && (o.preview = 1,
                o.ribbon = "")
            }),
            e.globalconf && (n[0].globalconf = {
                batchAppfNum: e.globalconf.batchAppfNum || 0,
                pageCacheTime: e.globalconf.pageCacheTime || 0,
                promotionGameMaxNum: e.globalconf.promotionGameMaxNum || 0
            }),
            m = [],
            d = [],
            C(o, n)
        }
    }
    ;
    g.getGameDetail = function(e, o, n) {
        if (!e)
            return console.log("input params error"),
            null ;
        var a = 0;
        a = "object" == typeof e ? e.appId || 0 : e || 0;
        var i = e.bannerId || 0
          , r = e.QQVersion || 0;
        return a ? void t({
            appId: a,
            bannerId: i,
            QQVersion: r
        }, o, n) : (console.log("input params error"),
        null )
    }
    ;
    var C = function(e, o) {
        0 == m.length && i.each(o, function(e, o) {
            m.push("tencent" + o.appId),
            d.push(o.pkgName)
        });
        var n = f ? m : d;
        p.isInstalled(n, function(a) {
            if (0 == a.result && a.data)
                if (1 == o.length) {
                    var t = f ? "tencent" + o[0].appId : o[0].pkgName;
                    o[0].installed = a.data[t]
                } else
                    i.each(o, function(e, o) {
                        o.installed = a.data[n[e]]
                    });
            else
                i.each(o, function(e, o) {
                    o.installed = !1
                });
            u = o,
            o.length > 1 && s.set(w, o),
            e && e(u)
        })
    }
      , N = function(e) {
        var o = [];
        for (var n in e)
            return i.each(u, function(n, a) {
                i.each(e, function(e, n) {
                    a[e] == n && o.push(a)
                })
            }),
            o;
        return u
    }
      , k = function(e) {
        if (e && e.tagList && e.tagList.length) {
            e.tagList.sort(function(e, o) {
                return (o || 0) - (e || 0)
            });
            for (var o = {
                3: "礼包",
                2: "攻略",
                1: "视频"
            }, n = [], a = 0; item = e.tagList[a]; a++)
                item && o[item] && n.push(o[item]);
            e.tagList = n || []
        }
        return {
            appId: e.appId,
            pkgName: e.pkgName,
            gameType: e.gameType || "",
            gameIcon: e.gameIcon,
            gameIntroPics: e.gameIntroPics,
            iconGrayFlag: e.iconGrayFlag,
            iconGrayId: e.iconGrayId,
            iconGrayUrl: e.iconGrayUrl,
            gameName: e.gameName,
            appName: e.gameName,
            hotTag: e.hottag,
            downloadDesc: e.downloadDesc,
            gameCategory: e.gameCategory,
            sourcePage: e.sourcePage,
            firstPromotion: e.firstPromotion,
            morePromotionIcon: e.morePromotionIcon,
            promotionType: e.promotionType,
            promotionReason: e.promotionReason,
            showInHome: e.showInHome,
            launchVersion: e.launchVersion,
            bannerIconUrl: "http://" + v + "/gc/formal/common/" + e.appId + "/thumImg.png",
            promotionIconUrl: "http://" + v + "/gc/formal/common/" + e.appId + "/promotion.png",
            slogan: e.slogan || "",
            url: f ? e.iosDownloadUrl : h && e.wxDownloadUrl ? e.wxDownloadUrl : e.qqDownloadUrl,
            target: 1,
            hasRankList: e.hasRankList,
            showUpdateFlag: e.showUpdateFlag,
            ribbon: e.ribbon,
            preview: !!e.preview,
            promotion: !!e.promotion,
            settlementDay: e.settlement_day || 0,
            mobileOfficialWebsite: e.mobileOfficialWebsite || "",
            tickets: e.tickets,
            introduction: e.introduction || "",
            pkgSize: e.iosPkgSize || e.yybPkgSize || e.pkgSize,
            yybPackageSize: e.yybPkgSize || 0,
            yybApkId: e.yybApkId,
            yybAppId: e.yybAppId,
            source: e.source,
            qhGameVersionCode: e.qhGameVersionCode,
            wording: e.yybDownloadSlogan || "",
            downloadChannel: e.downloadChannel || 0,
            yybQhqqSlogan: e.yybQhQqSlogan || "",
            yybVersionCode: parseInt(e.yybVersionCode),
            hasGroupChallenge: 1 == e.hasGroupChallenge,
            groupChallengeUrl: e.groupChallengeUrl || "",
            videoId: e.videoId || "",
            videoSnapshot: e.videoSnapshot || "",
            hasNeighbour: e.hasNeighbour || 0,
            hasMission: e.hasMission || 0,
            hasRally: e.hasRally || 0,
            startGameGiftId: e.startGameGiftId || 0,
            bid: e.bid,
            status: e.status,
            tagList: e.tagList || []
        }
    }
    ;
    g.fixGameInfo = k
});
!function(t, i) {
    function n(t, e, i) {
        if (i || (i = {}),
        _.ios() && parseInt(_.version()) >= 5 && "x" == i.direction && i.wit)
            e.parentNode.style.cssText += "overflow:scroll; -webkit-overflow-scrolling:touch;";
        else
            switch (t) {
            case "page":
                if (i.direction = "x",
                this.SlipPage) {
                    var n = _.clone(r);
                    return n._init(e, i),
                    n
                }
                return this.SlipPage = !0,
                r._init(e, i),
                r;
            case "px":
                if (this.SlipPx) {
                    var a = _.clone(o);
                    return a._init(e, i),
                    a
                }
                return this.SlipPx = !0,
                o._init(e, i),
                o
            }
    }
    var _ = {
        ios: function() {
            var t = navigator.userAgent.match(/.*OS\s([\d_]+)/)
              , e = !!t;
            return !this._version_value && e && (this._version_value = t[1].replace(/_/g, ".")),
            this.ios = function() {
                return e
            }
            ,
            e
        },
        version: function() {
            return this._version_value
        },
        clone: function(t) {
            function e() {}
            return e.prototype = t,
            new e
        }
    }
      , a = {
        _refreshCommon: function(t, e) {
            var i = this;
            i.wide_high = t || i.core[i.offset] - i.up_range,
            i.parent_wide_high = e || i.core.parentNode[i.offset],
            i._getCoreWidthSubtractShellWidth()
        },
        fixSwipeSlow: function(t) {
            var e = this;
            if (e.isIOS && ("undefined" == typeof t || "string" == typeof t)) {
                var n = arguments.callee;
                if (!n.hasFixStyle) {
                    t += ":before";
                    var _ = i.createElement("style");
                    _.id = "widget_fix_swipe",
                    i.getElementsByTagName("head")[0].appendChild(_);
                    var a = t + '{		content: ".";		position: absolute;		display: block;		left: -50%;		top: -50%;		width: 1px;		height: 1px;		 -webkit-animation: slip_rotate 2s infinite linear;		opacity:0.1;		}		@-webkit-keyframes slip_rotate { 0% { -webkit-transform: rotate(0deg); }	    100% { -webkit-transform: rotate(360deg); } }';
                    $("#widget_fix_swipe").html(a),
                    n.hasFixStyle = !0
                }
            }
        },
        _initCommon: function(t, e) {
            var i = this;
            i.core = t,
            i.isIOS = i.isIOS ? i.isIOS : "undefined" == typeof e.isIOS ? !1 : e.isIOS,
            i.isIOS && "undefined" != typeof e.fixSlowStyle && (e.fixSlowStyle === !0 ? i.fixSwipeSlow("body") : "string" == typeof e.fixSlowStyle && i.fixSwipeSlow(e.fixSlowStyle)),
            i.startFun = e.startFun,
            i.moveFun = e.moveFun,
            i.touchEndFun = e.touchEndFun,
            i.endFun = e.endFun,
            i.direction = e.direction,
            i.up_range = e.up_range || 0,
            i.down_range = e.down_range || 0,
            "x" == i.direction ? (i.offset = "offsetWidth",
            i._pos = i.__posX) : (i.offset = "offsetHeight",
            i._pos = i.__posY),
            i.wide_high = e.wide_high || i.core[i.offset] - i.up_range,
            i.parent_wide_high = e.parent_wide_high || i.core.parentNode[i.offset],
            i._getCoreWidthSubtractShellWidth(),
            i._bind("touchstart"),
            i._bind("touchmove"),
            i._bind("touchend"),
            i._bind("webkitTransitionEnd"),
            i.xy = 0,
            i.y = 0,
            i._pos(-i.up_range)
        },
        _getCoreWidthSubtractShellWidth: function() {
            var t = this;
            t.width_cut_coreWidth = t.parent_wide_high - t.wide_high,
            t.coreWidth_cut_width = t.wide_high - t.parent_wide_high
        },
        handleEvent: function(t) {
            switch (t.type) {
            case "touchstart":
                this._start(t);
                break;
            case "touchmove":
                this._move(t);
                break;
            case "touchend":
            case "touchcancel":
                this._end(t);
                break;
            case "webkitTransitionEnd":
                this._transitionEnd(t)
            }
        },
        releaseEvent: function() {
            this._unBind("touchstart"),
            this._unBind("touchmove"),
            this._unBind("touchend"),
            this._unBind("webkitTransitionEnd")
        },
        _bind: function(t, e) {
            this.core.addEventListener(t, this, !!e)
        },
        _unBind: function(t, e) {
            this.core.removeEventListener(t, this, !!e)
        },
        __posX: function(t) {
            this.xy = t,
            this.core.style.webkitTransform = "translate3d(" + t + "px, 0px, 0px)"
        },
        __posY: function(t) {
            this.xy = t,
            this.core.style.webkitTransform = "translate3d(0px, " + t + "px, 0px)"
        },
        _posTime: function(t, e) {
            this.core.style.webkitTransitionDuration = "" + e + "ms",
            this._pos(t)
        }
    }
      , r = _.clone(a);
    r._init = function(t, e) {
        var i = this;
        i._initCommon(t, e),
        i.num = e.num,
        i.page = 0,
        i.change_time = e.change_time,
        i.lastPageFun = e.lastPageFun,
        i.firstPageFun = e.firstPageFun,
        e.change_time && i._autoChange(),
        e.no_follow ? (i._move = i._moveNoMove,
        i.next_time = 500) : i.next_time = 300
    }
    ,
    r._start = function(t) {
        if (!(t.touches.length > 1)) {
            var e = this
              , t = t.touches[0];
            e._abrupt_x = 0,
            e._abrupt_x_abs = 0,
            e._start_x = e._start_x_clone = t.pageX,
            e._start_y = t.pageY,
            e._movestart = void 0,
            e.change_time && e._stop(),
            e.startFun && e.startFun(t)
        }
    }
    ,
    r._move = function(t) {
        var e = this;
        if (e._moveShare(t),
        !e._movestart) {
            var i = t.touches[0];
            if (t.preventDefault(),
            e.offset_x = e.xy > 0 || e.xy < e.width_cut_coreWidth ? e._dis_x / 2 + e.xy : e._dis_x + e.xy,
            e._start_x = i.pageX,
            e._abrupt_x_abs < 6)
                return e._abrupt_x += e._dis_x,
                void (e._abrupt_x_abs = Math.abs(e._abrupt_x));
            e._pos(e.offset_x),
            e.moveFun && e.moveFun(i)
        }
    }
    ,
    r._moveNoMove = function(t) {
        var i = this;
        i._moveShare(t),
        i._movestart || (t.preventDefault(),
        i.moveFun && i.moveFun(e))
    }
    ,
    r._moveShare = function(t) {
        var e = this
          , i = t.touches[0];
        e._dis_x = i.pageX - e._start_x,
        e._dis_y = i.pageY - e._start_y,
        "undefined" == typeof e._movestart && (e._movestart = !!(e._movestart || Math.abs(e._dis_x) < Math.abs(e._dis_y)))
    }
    ,
    r._end = function(t) {
        if (!(t.touches.length >= 1 || this._movestart)) {
            var e = this;
            e._end_x = t.changedTouches[0].pageX,
            e._range = e._end_x - e._start_x_clone,
            e._range > 35 ? 0 != e.page ? e.page -= 1 : e.firstPageFun && e.firstPageFun(t) : Math.abs(e._range) > 35 && (e.page != e.num - 1 ? e.page += 1 : e.lastPageFun && e.lastPageFun(t)),
            e.toPage(e.page, e.next_time),
            e.touchEndFun && e.touchEndFun(t)
        }
    }
    ,
    r._transitionEnd = function(t) {
        var e = this;
        t.stopPropagation(),
        e.core.style.webkitTransitionDuration = "0",
        e._stop_ing && e.change_time && e._autoChange(),
        e._stop_ing = !1,
        e.endFun && e.endFun()
    }
    ,
    r.toPage = function(t, e) {
        this._posTime(-this.parent_wide_high * t, e || 0),
        this.page = t
    }
    ,
    r._stop = function() {
        clearInterval(this._autoChangeSet),
        this._stop_ing = !0
    }
    ,
    r.stopChange = function() {
        clearInterval(this._autoChangeSet),
        this._stop_ing = !1
    }
    ,
    r.startChange = function() {
        this._stop_ing = !0,
        this._autoChange()
    }
    ,
    r._autoChange = function() {
        var t = this;
        t._autoChangeSet = setInterval(function() {
            t.page != t.num - 1 ? t.page += 1 : t.page = 0,
            t.toPage(t.page, t.next_time)
        }, t.change_time)
    }
    ,
    r.refresh = function(t, e) {
        this._refreshCommon(t, e)
    }
    ,
    r.unslip = function() {
        this.core.style.webkitTransitionDuration = "",
        this.core.style.webkitTransform = "",
        clearInterval(this._autoChangeSet),
        this.releaseEvent()
    }
    ;
    var o = _.clone(a);
    o._init = function(t, e) {
        var i = this;
        i._initCommon(t, e),
        i.perfect = e.perfect,
        i.bar_no_hide = e.bar_no_hide,
        "x" == i.direction ? (i.page_x = "pageX",
        i.page_y = "pageY",
        i.width_or_height = "width",
        i._real = i._realX,
        i._posBar = i.__posBarX) : (i.page_x = "pageY",
        i.page_y = "pageX",
        i.width_or_height = "height",
        i._real = i._realY,
        i._posBar = i.__posBarY),
        i.perfect ? (i._transitionEnd = function() {}
        ,
        i._stop = i._stopPerfect,
        i._slipBar = i._slipBarPerfect,
        i._posTime = i._posTimePerfect,
        i._bar_upRange = i.up_range,
        i.no_bar = !1,
        i._slipBarTime = function() {}
        ) : (i.no_bar = e.no_bar,
        i.core.style.webkitTransitionTimingFunction = "cubic-bezier(0.33, 0.66, 0.66, 1)"),
        i.bar_no_hide && (i._hideBar = function() {}
        ,
        i._showBar = function() {}
        ),
        i.radius = _.ios() ? 11 : 0,
        i.no_bar ? (i._hideBar = function() {}
        ,
        i._showBar = function() {}
        ) : (i._insertSlipBar(e),
        i.coreWidth_cut_width <= 0 && (i._bar_shell_opacity = 0,
        i._showBarStorage = i._showBar,
        i._showBar = function() {}
        ))
    }
    ,
    o._start = function(t) {
        var e = this
          , t = t.touches[0];
        e._animating = !1,
        e._steps = [],
        e._abrupt_x = 0,
        e._abrupt_x_abs = 0,
        e._start_x = e._start_x_clone = t[e.page_x],
        e._start_y = t[e.page_y],
        e._start_time = t.timeStamp || Date.now(),
        e._movestart = void 0,
        !e.perfect && e._need_stop && e._stop(),
        e.core.style.webkitTransitionDuration = "0",
        e.startFun && e.startFun(t)
    }
    ,
    o._move = function(t) {
        var e = this
          , i = t.touches[0]
          , n = i[e.page_x]
          , _ = i[e.page_y]
          , a = e.xy;
        if (e._dis_x = n - e._start_x,
        e._dis_y = _ - e._start_y,
        "x" == e.direction && "undefined" == typeof e._movestart && (e._movestart = !!(e._movestart || Math.abs(e._dis_x) < Math.abs(e._dis_y))),
        !e._movestart) {
            if (t.preventDefault(),
            e._move_time = i.timeStamp || Date.now(),
            e.offset_x = a > 0 || a < e.width_cut_coreWidth - e.up_range ? e._dis_x / 2 + a : e._dis_x + a,
            e._start_x = n,
            e._start_y = _,
            e._showBar(),
            e._abrupt_x_abs < 6)
                return e._abrupt_x += e._dis_x,
                void (e._abrupt_x_abs = Math.abs(e._abrupt_x));
            e._pos(e.offset_x),
            e.no_bar || e._slipBar(),
            e._move_time - e._start_time > 300 && (e._start_time = e._move_time,
            e._start_x_clone = n),
            e.moveFun && e.moveFun(i)
        }
    }
    ,
    o._end = function(t) {
        if (!this._movestart) {
            var e = this
              , t = t.changedTouches[0]
              , i = (t.timeStamp || Date.now()) - e._start_time
              , n = t[e.page_x] - e._start_x_clone;
            if (e._need_stop = !0,
            300 > i && Math.abs(n) > 10)
                if (e.xy > -e.up_range || e.xy < e.width_cut_coreWidth)
                    e._rebound();
                else {
                    var _ = e._momentum(n, i, -e.xy - e.up_range, e.coreWidth_cut_width + e.xy, e.parent_wide_high);
                    e._posTime(e.xy + _.dist, _.time),
                    e.no_bar || e._slipBarTime(_.time)
                }
            else
                e._rebound();
            e.touchEndFun && e.touchEndFun(t)
        }
    }
    ,
    o._transitionEnd = function(t) {
        var e = this;
        t.target == e.core && (e._rebound(),
        e._need_stop = !1)
    }
    ,
    o._rebound = function(t) {
        var e = this
          , i = e.coreWidth_cut_width <= 0 ? 0 : e.xy >= -e.up_range ? -e.up_range : e.xy <= e.width_cut_coreWidth - e.up_range ? e.width_cut_coreWidth - e.up_range : e.xy;
        return i == e.xy ? (e.endFun && e.endFun(),
        void e._hideBar()) : (e._posTime(i, t || 400),
        void (e.no_bar || e._slipBarTime(t)))
    }
    ,
    o._insertSlipBar = function(t) {
        var e = this;
        if (e._bar = i.createElement("div"),
        e._bar_shell = i.createElement("div"),
        "x" == e.direction)
            var n = "height: 5px; position: absolute;z-index: 10; pointer-events: none;"
              , _ = "opacity: " + e._bar_shell_opacity + "; left:2px; bottom: 2px; right: 2px; height: 5px; position: absolute; z-index: 10; pointer-events: none;";
        else
            var n = "width: 5px; position: absolute;z-index: 10; pointer-events: none;"
              , _ = "opacity: " + e._bar_shell_opacity + "; top:2px; bottom: 2px; right: 2px; width: 5px; position: absolute; z-index: 10; pointer-events: none; ";
        var a = " background-color: rgba(0, 0, 0, 0.5); border-radius: " + e.radius + "px; -webkit-transition: cubic-bezier(0.33, 0.66, 0.66, 1);"
          , n = n + a + t.bar_css;
        e._bar.style.cssText = n,
        e._bar_shell.style.cssText = _,
        e._countAboutBar(),
        e._countBarSize(),
        e._setBarSize(),
        e._countWidthCutBarSize(),
        e._bar_shell.appendChild(e._bar),
        e.core.parentNode.appendChild(e._bar_shell),
        setTimeout(function() {
            e._hideBar()
        }, 500)
    }
    ,
    o._posBar = function() {}
    ,
    o.__posBarX = function(t) {
        var e = this;
        e._bar.style.webkitTransform = "translate3d(" + t + "px, 0px, 0px)"
    }
    ,
    o.__posBarY = function(t) {
        var e = this;
        e._bar.style.webkitTransform = "translate3d(0px, " + t + "px, 0px)"
    }
    ,
    o._slipBar = function() {
        var t = this
          , e = t._about_bar * (t.xy + t.up_range);
        0 >= e ? e = 0 : e >= t._width_cut_barSize && (e = Math.round(t._width_cut_barSize)),
        t._posBar(e),
        t._showBar()
    }
    ,
    o._slipBarPerfect = function() {
        var t = this
          , e = t._about_bar * (t.xy + t._bar_upRange);
        if (t._bar.style[t.width_or_height] = t._bar_size + "px",
        0 > e) {
            var i = t._bar_size + 3 * e;
            t._bar.style[t.width_or_height] = Math.round(Math.max(i, 5)) + "px",
            e = 0
        } else if (e >= t._width_cut_barSize) {
            var i = t._bar_size - 3 * (e - t._width_cut_barSize);
            5 > i && (i = 5),
            t._bar.style[t.width_or_height] = Math.round(i) + "px",
            e = Math.round(t._width_cut_barSize + t._bar_size - i)
        }
        t._posBar(e)
    }
    ,
    o._slipBarTime = function(t) {
        this._bar.style.webkitTransitionDuration = "" + t + "ms",
        this._slipBar()
    }
    ,
    o._stop = function() {
        var t = this
          , e = t._real();
        t._pos(e),
        t.no_bar || (t._bar.style.webkitTransitionDuration = "0",
        t._posBar(t._about_bar * e))
    }
    ,
    o._stopPerfect = function() {
        clearTimeout(this._aniTime),
        this._animating = !1
    }
    ,
    o._realX = function() {
        var t = getComputedStyle(this.core, null ).webkitTransform.replace(/[^0-9-.,]/g, "").split(",");
        return 1 * t[4]
    }
    ,
    o._realY = function() {
        var t = getComputedStyle(this.core, null ).webkitTransform.replace(/[^0-9-.,]/g, "").split(",");
        return 1 * t[5]
    }
    ,
    o._countBarSize = function() {
        this._bar_size = Math.round(Math.max(this.parent_wide_high * this.parent_wide_high / this.wide_high, 5))
    }
    ,
    o._setBarSize = function() {
        this._bar.style[this.width_or_height] = this._bar_size + "px"
    }
    ,
    o._countAboutBar = function() {
        this._about_bar = (this.parent_wide_high - 4 - (this.parent_wide_high - 4) * this.parent_wide_high / this.wide_high) / this.width_cut_coreWidth
    }
    ,
    o._countWidthCutBarSize = function() {
        this._width_cut_barSize = this.parent_wide_high - 4 - this._bar_size
    }
    ,
    o.refresh = function(t, e) {
        var i = this;
        i._refreshCommon(t, e),
        i.no_bar || (i.coreWidth_cut_width <= 0 ? (i._bar_shell_opacity = 0,
        i._showBar = function() {}
        ) : (i._showBar = i._showBarStorage || i._showBar,
        i._countAboutBar(),
        i._countBarSize(),
        i._setBarSize(),
        i._countWidthCutBarSize())),
        i._rebound(0)
    }
    ,
    o._posTimePerfect = function(t, e) {
        var i = this;
        i._steps.push({
            x: t,
            time: e || 0
        }),
        i._startAni()
    }
    ,
    o._startAni = function() {
        var t, e, i, n = this, _ = n.xy, a = Date.now();
        if (!n._animating) {
            if (!n._steps.length)
                return void n._rebound();
            t = n._steps.shift(),
            t.x == _ && (t.time = 0),
            n._animating = !0,
            i = function() {
                var r, o = Date.now();
                return o >= a + t.time ? (n._pos(t.x),
                n._animating = !1,
                void n._startAni()) : (o = (o - a) / t.time - 1,
                e = Math.sqrt(1 - o * o),
                r = (t.x - _) * e + _,
                n._pos(r),
                void (n._animating && (n._slipBar(),
                n._aniTime = setTimeout(i, 1))))
            }
            ,
            i()
        }
    }
    ,
    o._momentum = function(t, e, i, n, _) {
        var a = .001
          , r = Math.abs(t) / e
          , o = r * r / (2 * a)
          , s = 0
          , h = 0;
        return t > 0 && o > i ? (h = _ / (6 / (o / r * a)),
        i += h,
        r = r * i / o,
        o = i) : 0 > t && o > n && (h = _ / (6 / (o / r * a)),
        n += h,
        r = r * n / o,
        o = n),
        o *= 0 > t ? -1 : 1,
        s = r / a,
        {
            dist: o,
            time: s
        }
    }
    ,
    o._showBar = function() {
        var t = this;
        t._bar_shell.style.webkitTransitionDelay = "0ms",
        t._bar_shell.style.webkitTransitionDuration = "0ms",
        t._bar_shell.style.opacity = "1"
    }
    ,
    o._hideBar = function() {
        var t = this;
        t._bar_shell.style.opacity = "0",
        t._bar_shell.style.webkitTransitionDelay = "300ms",
        t._bar_shell.style.webkitTransitionDuration = "300ms"
    }
    ,
    t.slip = n,
    t.seajs && define("lib/slip", [], function(t, e, i) {
        i.exports = n
    })
}(window, document);
define("business/gameShare", ["business/mqqShare", "business/access", "jsBridge/common", "business/router"], function(e, a) {
    var s = e("business/mqqShare")
      , t = e("business/access")
      , n = e("jsBridge/common")
      , r = e("business/router")
      , o = (parseInt(r.getParams("appid")) || parseInt(r.getParams("appId")) || 0,
    !1)
      , i = r.getParams("ADTAG") || r.getParams("adtag")
      , c = "game_browser" === i;
    a.init = function(e, a) {
        c || (!o || n.compareVersion("5.3.0") >= 0) && (s.setOnQQShareHandler(function(t) {
            e.shareType = t,
            e.back = !1;
            var n = $.extend({}, e)
              , o = n.shareUrl;
            o && o.host && (n.shareUrl = ["http://", o.host, o.pathname, "?", $.param($.extend({}, o.search, r.getShareUrlParam(), {
                _wv: 1,
                ADTAG: "share"
            }))].join("")),
            s.setQQShare(n, function(e) {
                0 == e.retCode
            }),
            a && a(t)
        }),
        t.config({
            wx: {
                lauchQQ: !0
            },
            mobile: {
                lauchQQ: !0
            },
            pc: {
                lauchQQ: !0
            },
            qzone: {
                lauchQQ: !0
            }
        }),
        t.addPlatform({
            platName: "qzone",
            isThisPlat: function(e) {
                return /.*(Qzone).*/.test(e)
            }
        }),
        t.execute(),
        o = !0)
    }
    ,
    a.addActionButton = s.setDefaultActionButton
});
define("business/visited", ["util/h5Data"], function(t, n) {
    function i(t, n) {
        l.get(t, function(t) {
            n && n(t || !1)
        })
    }
    function e(t, n) {
        t || (t = {
            length: 0
        }),
        l.set(n, t)
    }
    var l = t("util/h5Data");
    n.getVisitedStatus = function(t, n, l, s) {
        var u = l.split(".");
        1 == u.length && (u = ["*", l]),
        i(n, function(i) {
            function l(t, n) {
                var e = n[0];
                if (n.length > 1)
                    "*" == e ? $.each(t, function(t, i) {
                        l(i, n.slice(1))
                    }) : l(t[e], n.slice(1));
                else {
                    var s = t[e];
                    i[s] && (f[s] = 1,
                    ++f.length,
                    t.visited = !0),
                    ++c
                }
            }
            if (i) {
                var c = 0
                  , f = {
                    length: 0
                };
                l(t, u),
                i.length >= c && e(n, f)
            }
            s && s()
        })
    }
    ,
    n.setVisited = function(t, n, l) {
        i(t, function(i) {
            i || (i = {
                length: 0
            }),
            i[n] || (i[n] = 1,
            ++i.length,
            e(i, t)),
            l && l()
        })
    }
});
define("business/timeFormat", [], function(e, t) {
    t.formatTime = function(e) {
        e = parseInt(e);
        var t = new Date;
        t.setHours(0),
        t.setMinutes(0),
        t.setSeconds(0),
        t.setMilliseconds(0);
        var r = t.getTime()
          , n = 6e4
          , i = 60 * n
          , o = 24 * i
          , s = Date.now() - e
          , a = Math.floor(s / n)
          , f = Math.floor(s / i)
          , u = r - o
          , m = r - 2 * o
          , M = r - 3 * o
          , c = new Date(e);
        if (10 >= a)
            return "刚刚";
        if (1 > f)
            return a + "分钟前";
        if (24 > f)
            return f + "小时前";
        if (e >= u)
            return "1天前";
        if (e >= m)
            return "2天前";
        if (e >= M)
            return "3天前";
        var l = c.getDate()
          , D = c.getMonth() + 1;
        return D + "月" + l + "日"
    }
});
define("util/string", [], function(e, t) {
    t.encodeHTML = function(e) {
        if ("string" == typeof e) {
            for (var t = ["&", "&amp;", "<", "&lt;", ">", "&gt;", '"', "&quot;", "\\s", "&nbsp;"], r = 0; r < t.length; r += 2)
                e = e.replace(new RegExp(t[r],"g"), t[1 + r]);
            return e
        }
        return e
    }
    ,
    t.decodeHTML = function(e) {
        if ("string" == typeof e) {
            for (var t = ["&amp;", "&", "&lt;", "<", "&gt;", ">", "&quot;", '"', "&nbsp;", "\\s"], r = 0; r < t.length; r += 2)
                e = e.replace(new RegExp(t[r],"g"), t[1 + r]);
            return e
        }
        return e
    }
    ,
    t.splitMaxLen = function(e, t, r) {
        if (e && t) {
            for (var n = 0, a = 0; a < e.length; a++) {
                var g = e.charCodeAt(a);
                if (g > 299 ? n += 2 : n++,
                n >= t) {
                    n > t && a--;
                    break
                }
            }
            e.length > a + 1 && (e = e.substring(0, a) + (r || ".."))
        }
        return e
    }
    ,
    t.formatDate = function(e, t) {
        e = e || new Date,
        t = t || "yyyy-MM-dd HH:mm:ss";
        var r = t.replace("yyyy", e.getFullYear().toString()).replace("yy", e.getFullYear().toString().substring(2, 4)).replace("MM", (e.getMonth() < 9 ? "0" : "") + (e.getMonth() + 1).toString()).replace("M", (e.getMonth() + 1).toString()).replace("dd", (e.getDate() < 10 ? "0" : "") + e.getDate().toString()).replace("d", e.getDate().toString()).replace("HH", (e.getHours() < 10 ? "0" : "") + e.getHours().toString()).replace("mm", (e.getMinutes() < 10 ? "0" : "") + e.getMinutes().toString()).replace("ss", (e.getSeconds() < 10 ? "0" : "") + e.getSeconds().toString());
        return r
    }
    ,
    t.parseDate = function(e, t) {
        t = t || "yyyy-MM-dd HH:mm:ss";
        var r = e.match(/(\d+)/g)
          , n = 0
          , a = {};
        return t.replace(/(yyyy|dd|MM|HH|mm|ss)/g, function(e) {
            a[e] = n++
        }),
        new Date(r[a.yyyy],r[a.MM] - 1,r[a.dd],r[a.HH],r[a.mm],r[a.ss])
    }
    ,
    t.formatNum = function(e) {
        if (e = parseInt(e),
        !isNaN(e)) {
            var t = 1e3
              , r = 1e4
              , n = 1e8;
            return e >= t && r > e && (e = e.toString(),
            e = e.replace(/\d{3}$/, function(e) {
                return "," + e
            })),
            e >= r && n > e && (e = (e / r).toFixed(1) + "万"),
            e >= n && (e = (e / n).toFixed(1) + "亿"),
            e += "",
            e = e.replace(/\.0/, "")
        }
    }
});
define("lib/qqapi", [], function(e, n, i) {
    var o = null ;
    !function(e, n) {
        this[e] || (this[e] = n(),
        "function" == typeof o ? o(this[e]) : "object" == typeof i && (i.exports = this[e]))
    }("mqq", function(e) {
        "use strict";
        function n(e, n) {
            e = String(e).split("."),
            n = String(n).split(".");
            try {
                for (var i = 0, o = Math.max(e.length, n.length); o > i; i++) {
                    var t = isFinite(e[i]) && Number(e[i]) || 0
                      , a = isFinite(n[i]) && Number(n[i]) || 0;
                    if (a > t)
                        return -1;
                    if (t > a)
                        return 1
                }
            } catch (r) {
                return -1
            }
            return 0
        }
        function i(e) {
            var n = e.split(".")
              , i = window;
            return n.forEach(function(e) {
                !i[e] && (i[e] = {}),
                i = i[e]
            }),
            i
        }
        function o(e, n, i) {
            var o = "function" == typeof e ? e : window[e];
            if (o) {
                var r = t(e)
                  , c = "__GC_MQQ_CALLBACK_" + r;
                return window[c] = function() {
                    var e = w.call(arguments);
                    a(r, e, n, i)
                }
                ,
                c
            }
        }
        function t(e) {
            var n = y++;
            return e && (T[n] = e),
            n
        }
        function a(e, n, i, o) {
            {
                var t = "function" == typeof e ? e : T[e] || window[e];
                Date.now()
            }
            n = n || [],
            "function" == typeof t ? o ? setTimeout(function() {
                t.apply(null , n)
            }, 0) : t.apply(null , n) : console.log("mqqapi: not found such callback: " + e),
            i && (delete T[e],
            delete window["__GC_MQQ_CALLBACK_" + e],
            delete window[e])
        }
        function r(e) {
            C.debug("execGlobalCallback: " + JSON.stringify(arguments));
            var n = w.call(arguments, 1);
            O.android && n && n.length && n.forEach(function(e, i) {
                "object" == typeof e && "r" in e && "result" in e && (n[i] = e.result)
            }),
            a(e, n)
        }
        function c() {}
        function l(e, n) {
            var o = null 
              , t = e.lastIndexOf(".")
              , a = e.substring(0, t)
              , r = e.substring(t + 1)
              , l = i(a);
            n.iOS && O.iOS ? o = n.iOS : n.android && O.android ? o = n.android : n.browser && (o = n.browser),
            l[r] = o || c,
            E[e] = n.support
        }
        function q(e) {
            var n = E[e] || E[e.replace("qw.", "mqq.")]
              , i = O.iOS ? "iOS" : O.android ? "android" : "browser";
            return n && n[i] ? O.compare(n[i]) > -1 : !1
        }
        function d(n, i) {
            C.debug("openURL: " + n);
            var o = document.createElement("iframe");
            o.style.cssText = "display:none;width:0px;height:0px;";
            var t = function() {
                r(i, {
                    r: -201,
                    result: "error"
                })
            }
            ;
            O.iOS && (o.onload = t,
            o.src = n);
            var a = document.body || document.documentElement;
            a.appendChild(o),
            O.android && (o.onload = t,
            o.src = n);
            var c = O.__RETURN_VALUE;
            return O.__RETURN_VALUE = e,
            setTimeout(function() {
                o.parentNode.removeChild(o)
            }, 0),
            c
        }
        function u(e) {
            return O.iOS ? !0 : O.android && O.__supportAndroidNewJSBridge ? R[e] && O.compare(R[e]) < 0 ? !1 : !0 : !1
        }
        function s(e, n, i, o) {
            console.trace(),
            I++;
            var r = [e, n, I].join("_");
            if (console.time(r),
            !e || !n)
                return null ;
            var c, l;
            if (i = w.call(arguments, 2),
            o = i.length && i[i.length - 1],
            o && "function" == typeof o ? i.pop() : "undefined" == typeof o ? i.pop() : o = null ,
            l = t(o),
            O.android && !O.__supportAndroidJSBridge)
                if (window[e] && window[e][n]) {
                    var q = window[e][n].apply(window[e], i);
                    if (!o)
                        return console.timeEnd(r),
                        q;
                    a(l, [q])
                } else
                    o && a(l, [O.ERROR_NO_SUCH_METHOD]);
            else if (u(e, n)) {
                c = "jsbridge://" + encodeURIComponent(e) + "/" + encodeURIComponent(n),
                i.forEach(function(e, n) {
                    "object" == typeof e && (e = JSON.stringify(e)),
                    c += 0 === n ? "?p=" : "&p" + n + "=",
                    c += encodeURIComponent(String(e))
                }),
                c += "#" + l;
                var s = d(c);
                if (O.iOS) {
                    if (s = s ? s.result : null ,
                    !o)
                        return console.timeEnd(r),
                        s;
                    a(l, [s], !1, !0)
                }
            } else
                O.android && (c = "jsbridge://" + encodeURIComponent(e) + "/" + encodeURIComponent(n) + "/" + l,
                i.forEach(function(e) {
                    "object" == typeof e && (e = JSON.stringify(e)),
                    c += "/" + encodeURIComponent(String(e))
                }),
                d(c, l));
            return console.timeEnd(r),
            null 
        }
        function p(e, n, i, t, a) {
            if (!e || !n || !i)
                return null ;
            var r, c = w.call(arguments);
            "function" == typeof c[c.length - 1] ? (a = c[c.length - 1],
            c.pop()) : a = null ,
            t = 4 === c.length ? c[c.length - 1] : {},
            a && (t.callback_type = "javascript",
            r = o(a),
            t.callback_name = r),
            t.src_type = t.src_type || "web",
            t.version || (t.version = 1);
            var l = e + "://" + encodeURIComponent(n) + "/" + encodeURIComponent(i) + "?" + f(t);
            d(l)
        }
        function m(e) {
            var n, i, o, t = e.indexOf("?"), a = e.substring(t + 1).split("&"), r = {};
            for (n = 0; n < a.length; n++)
                t = a[n].indexOf("="),
                i = a[n].substring(0, t),
                o = a[n].substring(t + 1),
                r[i] = decodeURIComponent(o);
            return r
        }
        function f(e) {
            var n = [];
            for (var i in e)
                e.hasOwnProperty(i) && n.push(encodeURIComponent(String(i)) + "=" + encodeURIComponent(String(e[i])));
            return n.join("&")
        }
        function v(e, n) {
            var i = document.createElement("a");
            i.href = e;
            var o;
            return i.search && (o = m(String(i.search).substring(1)),
            n.forEach(function(e) {
                delete o[e]
            }),
            i.search = "?" + f(o)),
            i.hash && (o = m(String(i.hash).substring(1)),
            n.forEach(function(e) {
                delete o[e]
            }),
            i.hash = "#" + f(o)),
            e = i.href,
            i = null ,
            e
        }
        function b(e, n) {
            var i = "evt-" + e;
            return (T[i] = T[i] || []).push(n),
            !0
        }
        function k(e, n) {
            var i = "evt-" + e
              , o = T[i]
              , t = !1;
            if (!o)
                return !1;
            if (!n)
                return delete T[i],
                !0;
            for (var a = o.length - 1; a >= 0; a--)
                n === o[a] && (o.splice(a, 1),
                t = !0);
            return t
        }
        function g(e) {
            var n = "evt-" + e
              , i = T[n]
              , o = w.call(arguments, 1);
            i && i.forEach(function(e) {
                a(e, o, !1, !0)
            })
        }
        function h(e, n, i) {
            var o = {
                event: e,
                data: n || {},
                options: i || {}
            };
            O.android && o.options.broadcast === !1 && O.compare("5.2") < 0 && (o.options.domains = ["localhost"],
            o.options.broadcast = !0);
            var t = "jsbridge://event/dispatchEvent?p=" + encodeURIComponent(JSON.stringify(o) || "");
            d(t)
        }
        var O = {}
          , S = navigator.userAgent
          , w = Array.prototype.slice
          , A = /(iPad|iPhone|iPod).*? (IPad)?QQ\/([\d\.]+)/
          , _ = /\bV1_AND_SQI?_([\d\.]+)(.*? QQ\/([\d\.]+))?/
          , y = 100
          , T = {}
          , E = {}
          , R = {
            qbizApi: "5.0",
            pay: "999999",
            SetPwdJsInterface: "999999",
            GCApi: "999999",
            q_download: "999999",
            qqZoneAppList: "999999",
            qzone_app: "999999",
            qzone_http: "999999",
            qzone_imageCache: "999999",
            RoamMapJsPlugin: "999999"
        };
        O.debuging = !1,
        O.iOS = A.test(S),
        O.android = _.test(S),
        O.iOS && O.android && (O.iOS = !1),
        O.version = "20140826002",
        O.QQVersion = "0",
        O.ERROR_NO_SUCH_METHOD = "no such method",
        O.ERROR_PERMISSION_DENIED = "permission denied",
        O.android || O.iOS || console.log("mqqapi: not android or ios"),
        O.compare = function(e) {
            return n(O.QQVersion, e)
        }
        ,
        O.android && (O.QQVersion = function(e) {
            return e && (e[3] || e[1]) || 0
        }(S.match(_)),
        window.JsBridge || (window.JsBridge = {}),
        window.JsBridge.callMethod = s,
        window.JsBridge.callback = r,
        window.JsBridge.compareVersion = O.compare),
        O.iOS && (window.iOSQQApi = O,
        O.__RETURN_VALUE = e,
        O.QQVersion = function(e) {
            return e && e[3] || 0
        }(S.match(A))),
        O.platform = "GAMECENTER_" + (O.iOS ? "IPH" : O.android ? "AND" : "OTH");
        var C = function() {
            function e() {
                if (O.debuging) {
                    var e = w.call(arguments)
                      , n = [];
                    e.forEach(function(e) {
                        "object" == typeof e && (e = JSON.stringify(e)),
                        n.push(e)
                    }),
                    alert(n.join("\n"))
                }
            }
            return {
                debug: e
            }
        }();
        O.__androidForSamsung = /_NZ\b/.test(S),
        O.__supportAndroidJSBridge = O.android && (O.compare("4.5") > -1 || O.__androidForSamsung),
        O.__supportAndroidNewJSBridge = O.android && O.compare("4.7.2") > -1;
        var I = 0;
        return O.__aCallbacks = T,
        O.__aSupports = E,
        O.__fireCallback = a,
        O.build = l,
        O.support = q,
        O.invoke = s,
        O.invokeSchema = p,
        O.callback = o,
        O.execGlobalCallback = r,
        O.mapQuery = m,
        O.toQuery = f,
        O.removeQuery = v,
        O.addEventListener = b,
        O.removeEventListener = k,
        O.execEventCallback = g,
        O.dispatchEvent = h,
        O
    }),
    function() {
        "use strict";
        function e(e, n, o) {
            return o ? function() {
                var o = [e, n].concat(i.call(arguments));
                mqq.invoke.apply(mqq, o)
            }
             : function() {
                var o = i.call(arguments);
                return d[e][n].apply(d[e], o)
            }
        }
        function n(n, i) {
            if (i = i || 1,
            mqq.compare(i) < 0)
                return void console.info("jsbridge: version not match, apis ignored");
            for (var o in n) {
                var t = n[o];
                if (t && t.length && Array.isArray(t)) {
                    var a = window[o];
                    if (a)
                        "object" == typeof a && a.getClass && (d[o] = a,
                        window[o] = {});
                    else {
                        if (!q)
                            continue;window[o] = {}
                    }
                    var r = d[o];
                    a = window[o];
                    for (var c = 0, l = t.length; l > c; c++) {
                        var u = t[c];
                        a[u] || (r ? r[u] && (a[u] = e(o, u, !1)) : a[u] = e(o, u, !0))
                    }
                }
            }
        }
        var i = Array.prototype.slice
          , o = {
            QQApi: ["isAppInstalled", "isAppInstalledBatch", "startAppWithPkgName", "checkAppInstalled", "checkAppInstalledBatch", "getOpenidBatch", "startAppWithPkgNameAndOpenId"]
        }
          , t = {
            QQApi: ["lauchApp"]
        }
          , a = {
            publicAccount: ["close", "getJson", "getLocation", "hideLoading", "openInExternalBrowser", "showLoading", "viewAccount"]
        }
          , r = {
            publicAccount: ["getMemberCount", "getNetworkState", "getValue", "open", "openEmoji", "openUrl", "setRightButton", "setValue", "shareMessage", "showDialog"],
            qqZoneAppList: ["getCurrentVersion", "getSdPath", "getWebDisplay", "goUrl", "openMsgCenter", "showDialog", "setAllowCallBackEvent"],
            q_download: ["doDownloadAction", "getQueryDownloadAction", "registerDownloadCallBackListener", "cancelDownload", "cancelNotification"],
            qzone_http: ["httpRequest"],
            qzone_imageCache: ["downloadImage", "getImageRootPath", "imageIsExist", "sdIsMounted", "updateImage", "clearImage"],
            qzone_app: ["getAllDownAppInfo", "getAppInfo", "getAppInfoBatch", "startSystemApp", "uninstallApp"]
        }
          , c = {
            coupon: ["addCoupon", "addFavourBusiness", "gotoCoupon", "gotoCouponHome", "isCouponValid", "isFavourBusiness", "isFavourCoupon", "removeFavourBusiness"]
        }
          , l = navigator.userAgent
          , q = mqq.__supportAndroidJSBridge
          , d = {};
        window.JsBridge || (window.JsBridge = {}),
        window.JsBridge.restoreApis = n,
        n(o),
        n(t, "4.5"),
        q ? /\bPA\b/.test(l) || mqq.compare("4.6") >= 0 ? (n(a),
        n(r, "4.5"),
        n(c, "4.5")) : /\bQR\b/.test(l) && (n(c, "4.5"),
        mqq.compare("4.5") >= 0 && mqq.compare("4.6") < 0 && (window.publicAccount = {
            openUrl: function(e) {
                location.href = e
            }
        })) : n(a, "4.2")
    }(),
    mqq.build("mqq.ui.openUrl", {
        iOS: function(e) {
            switch (e || (e = {}),
            e.target) {
            case 0:
                window.open(e.url, "_self");
                break;
            case 1:
                e.styleCode = {
                    1: 4,
                    2: 2,
                    3: 5
                }[e.style] || 1,
                mqq.invoke("nav", "openLinkInNewWebView", {
                    url: e.url,
                    options: e
                });
                break;
            case 2:
                mqq.invoke("nav", "openLinkInSafari", {
                    url: e.url
                })
            }
        },
        android: function(e) {
            2 === e.target ? mqq.compare("4.6") >= 0 ? mqq.invoke("publicAccount", "openInExternalBrowser", e.url) : mqq.compare("4.5") >= 0 && mqq.invoke("openUrlApi", "openUrl", e.url) : 1 === e.target ? (e.style || (e.style = 0),
            mqq.compare("4.6") >= 0 ? mqq.invoke("qbizApi", "openLinkInNewWebView", e.url, e.style) : mqq.compare("4.5") >= 0 ? mqq.invoke("publicAccount", "openUrl", e.url) : location.href = e.url) : location.href = e.url
        },
        browser: function(e) {
            2 === e.target ? window.open(e.url, "_blank") : location.href = e.url
        },
        support: {
            iOS: "4.5",
            android: "4.6",
            browser: "0"
        }
    }),
    mqq.build("mqq.ui.refreshTitle", {
        iOS: function() {
            mqq.invoke("nav", "refreshTitle")
        },
        support: {
            iOS: "4.6"
        }
    }),
    mqq.build("mqq.app.launchAppWithTokens", {
        iOS: function(e) {
            return mqq.invoke("app", "launchApp", e)
        },
        android: function(e) {
            mqq.compare("4.6") >= 0 ? mqq.invoke("QQApi", "launchAppWithTokens", e.appID, e.paramsStr, e.packageName, e.flags || e.falgs || 0) : mqq.invoke("QQApi", "launchApp", e.appID, e.paramsStr, e.packageName)
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.app.downloadApp", {
        iOS: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("app", "downloadApp", e)
        },
        support: {
            iOS: "5.9.5"
        }
    }),
    mqq.build("mqq.device.qqVersion", {
        iOS: function(e) {
            return mqq.invoke("device", "qqVersion", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.qqBuild", {
        iOS: function(e) {
            return mqq.invoke("device", "qqBuild", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.getClientInfo", {
        iOS: function(e) {
            var n = {
                qqVersion: this.qqVersion(),
                qqBuild: this.qqBuild()
            }
              , i = mqq.callback(e, !1, !0);
            return "function" != typeof e ? n : void mqq.__fireCallback(i, [n])
        },
        android: function(e) {
            if (mqq.compare("4.6") >= 0) {
                var n = e;
                e = function(e) {
                    try {
                        e = JSON.parse(e)
                    } catch (i) {}
                    n && n(e)
                }
                ,
                mqq.invoke("qbizApi", "getClientInfo", e)
            } else
                e({
                    qqVersion: mqq.QQVersion,
                    qqBuild: function(e) {
                        return e = e && e[1] || 0,
                        e && e.slice(e.lastIndexOf(".") + 1) || 0
                    }(navigator.userAgent.match(/\bqq\/([\d\.]+)/i))
                })
        },
        support: {
            iOS: "4.5",
            android: "4.6"
        }
    }),
    mqq.build("mqq.device.systemName", {
        iOS: function(e) {
            return mqq.invoke("device", "systemName", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.systemVersion", {
        iOS: function(e) {
            return mqq.invoke("device", "systemVersion", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.model", {
        iOS: function(e) {
            return mqq.invoke("device", "model", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.modelVersion", {
        iOS: function(e) {
            return mqq.invoke("device", "modelVersion", e)
        },
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.getDeviceInfo", {
        iOS: function(e) {
            if (mqq.compare(4.7) >= 0)
                return mqq.invoke("device", "getDeviceInfo", e);
            var n = mqq.callback(e, !1, !0)
              , i = {
                isMobileQQ: this.isMobileQQ(),
                systemName: this.systemName(),
                systemVersion: this.systemVersion(),
                model: this.model(),
                modelVersion: this.modelVersion()
            };
            return "function" != typeof e ? i : void mqq.__fireCallback(n, [i])
        },
        android: function(e) {
            if (mqq.compare("4.6") >= 0) {
                var n = e;
                e = function(e) {
                    try {
                        e = JSON.parse(e)
                    } catch (i) {}
                    n && n(e)
                }
                ,
                mqq.invoke("qbizApi", "getDeviceInfo", e)
            } else {
                var i = navigator.userAgent;
                e({
                    isMobileQQ: !0,
                    systemName: "android",
                    systemVersion: function(e) {
                        return e && e[1] || 0
                    }(i.match(/\bAndroid ([\d\.]+)/i)),
                    model: function(e) {
                        return e && e[1] || null 
                    }(i.match(/;\s([^;]+)\s\bBuild\/\w+/i))
                })
            }
        },
        support: {
            iOS: "4.5",
            android: "4.5"
        }
    }),
    mqq.build("mqq.device.getNetworkType", {
        iOS: function(e) {
            var n = mqq.invoke("device", "networkStatus");
            return n = Number(n),
            "function" != typeof e ? n : void mqq.__fireCallback(e, [n], !1, !0)
        },
        android: function(e) {
            mqq.compare("4.6") >= 0 ? mqq.invoke("qbizApi", "getNetworkType", e) : mqq.invoke("publicAccount", "getNetworkState", function(n) {
                var i = {
                    "-1": 0,
                    0: 3,
                    1: 1
                }
                  , o = n in i ? i[n] : 4;
                e(o)
            })
        },
        support: {
            iOS: "4.5",
            android: "4.6"
        }
    }),
    mqq.build("mqq.device.networkStatus", {
        iOS: mqq.device.getNetworkType,
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.device.networkType", {
        iOS: mqq.device.getNetworkType,
        support: {
            iOS: "4.5"
        }
    }),
    mqq.build("mqq.ui.showProfile", {
        iOS: function(e) {
            mqq.compare("4.7") >= 0 ? mqq.invoke("nav", "showProfile", e) : mqq.compare("4.6") >= 0 && !e.uinType ? mqq.invoke("nav", "showProfile", e) : (1 === e.uinType && (e.card_type = "group"),
            mqq.invokeSchema("mqqapi", "card", "show_pslcard", e))
        },
        android: function(e) {
            mqq.compare("4.7") >= 0 ? mqq.invoke("publicAccount", "showProfile", e) : mqq.compare("4.6") >= 0 && !e.uinType ? mqq.invoke("publicAccount", "showProfile", e.uin) : (1 === e.uinType && (e.card_type = "group"),
            mqq.invokeSchema("mqqapi", "card", "show_pslcard", e))
        },
        support: {
            iOS: "4.5",
            android: "4.5"
        }
    }),
    mqq.build("mqq.ui.popBack", {
        iOS: function() {
            mqq.invoke("nav", "popBack")
        },
        android: function() {
            mqq.invoke("publicAccount", "close")
        },
        support: {
            iOS: "4.5",
            android: "4.6"
        }
    }),
    function() {
        var e = {}
          , n = {
            Abount: "com.tencent.mobileqq.activity.AboutActivity",
            GroupTribePublish: "com.tencent.mobileqq.troop.activity.TroopBarPublishActivity",
            GroupTribeReply: "com.tencent.mobileqq.troop.activity.TroopBarReplyActivity",
            GroupTribeComment: "com.tencent.mobileqq.troop.activity.TroopBarCommentActivity"
        };
        mqq.build("mqq.ui.openView", {
            iOS: function(n) {
                n.name = e[n.name] || n.name,
                "function" == typeof n.onclose && (n.onclose = mqq.callback(n.onclose)),
                mqq.invoke("nav", "openViewController", n)
            },
            android: function(e) {
                e.name = n[e.name] || e.name,
                "function" == typeof e.onclose && (e.onclose = mqq.callback(e.onclose)),
                mqq.compare("5.0") > -1 ? mqq.invoke("ui", "openView", e) : mqq.invoke("publicAccount", "open", e.name)
            },
            support: {
                iOS: "4.5",
                android: "4.6"
            }
        })
    }(),
    mqq.build("mqq.ui.setActionButton", {
        iOS: function(e, n) {
            "object" != typeof e && (e = {
                title: e
            });
            var i = mqq.callback(n, !1, !0);
            e.callback = i,
            mqq.invoke("nav", "setActionButton", e)
        },
        android: function(e, n) {
            var i = mqq.callback(n);
            e.hidden && (e.title = ""),
            mqq.compare("4.7") >= 0 ? (e.callback = i,
            mqq.invoke("ui", "setActionButton", e)) : mqq.invoke("publicAccount", "setRightButton", e.title, "", i)
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.ui.setWebViewBehavior", {
        iOS: function(e) {
            mqq.invoke("ui", "setWebViewBehavior", e)
        },
        android: function(e) {
            mqq.invoke("ui", "setWebViewBehavior", e)
        },
        support: {
            iOS: "4.7.2",
            android: "5.1"
        }
    }),
    mqq.build("mqq.device.isMobileQQ", {
        iOS: function(e) {
            var n = mqq.iOS;
            return e ? e(n) : n
        },
        android: function(e) {
            var n = mqq.android;
            return e ? e(n) : n
        },
        browser: function(e) {
            var n = mqq.android || mqq.iOS;
            return e ? e(n) : n
        },
        support: {
            iOS: "4.2",
            android: "4.2"
        }
    }),
    mqq.build("mqq.tenpay.openService", {
        android: function(e, n) {
            mqq.invoke("pay", "openService", JSON.stringify(e), n)
        },
        support: {
            android: "4.6.1"
        }
    }),
    mqq.build("mqq.ui.addShortcut", {
        iOS: function(e) {
            var n = "http://imgcache.qq.com/gc/gamecenterV2/dist/index/index/desk.html?";
            mqq.invoke("nav", "openLinkInSafari", {
                url: n + mqq.toQuery(e) + "#from=mqq"
            })
        },
        android: function(e) {
            e.data = {
                title: e.title,
                icon: e.icon,
                url: e.url
            },
            e.callback = mqq.callback(e.callback),
            mqq.invoke("ui", "addShortcut", e)
        },
        supportInvoke: !0,
        support: {
            iOS: "5.8",
            android: "5.8"
        }
    }),
    mqq.build("mqq.tenpay.rechargeQb", {
        android: function(e, n) {
            mqq.invoke("pay", "rechargeQb", JSON.stringify(e), n)
        },
        support: {
            android: "4.6.1"
        }
    }),
    mqq.build("mqq.ui.showDialog", {
        iOS: function(e, n) {
            e && (e.callback = mqq.callback(n, !0, !0),
            e.title = e.title + "",
            e.text = e.text + "",
            "needOkBtn" in e || (e.needOkBtn = !0),
            "needCancelBtn" in e || (e.needCancelBtn = !0),
            mqq.invoke("nav", "showDialog", e))
        },
        android: function(e, n) {
            if (mqq.compare("4.8.0") >= 0)
                e.callback = mqq.callback(n, !0),
                mqq.invoke("ui", "showDialog", e);
            else {
                var i = ""
                  , o = "";
                n && (i = mqq.callback(function() {
                    n({
                        button: 0
                    })
                }, !0),
                o = mqq.callback(function() {
                    n({
                        button: 1
                    })
                }, !0),
                i += "()",
                o += "()"),
                e.title = e.title + "",
                e.text = e.text + "",
                "needOkBtn" in e || (e.needOkBtn = !0),
                "needCancelBtn" in e || (e.needCancelBtn = !0),
                mqq.invoke("publicAccount", "showDialog", e.title, e.text, e.needOkBtn, e.needCancelBtn, i, o)
            }
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.ui.showTips", {
        iOS: function(e) {
            mqq.invoke("ui", "showTips", e)
        },
        android: function(e) {
            mqq.invoke("ui", "showTips", e)
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    mqq.build("mqq.ui.setLoading", {
        iOS: function(e) {
            e && (e.visible === !0 ? mqq.invoke("nav", "showLoading") : e.visible === !1 && mqq.invoke("nav", "hideLoading"),
            e.color && mqq.invoke("nav", "setLoadingColor", {
                r: e.color[0],
                g: e.color[1],
                b: e.color[2]
            }))
        },
        android: function(e) {
            "visible" in e && (e.visible ? mqq.invoke("publicAccount", "showLoading") : mqq.invoke("publicAccount", "hideLoading"))
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.ui.shareMessage", {
        iOS: function(e, n) {
            !("needPopBack" in e) && "back" in e && (e.needPopBack = e.back),
            e.share_url && (e.share_url = mqq.removeQuery(e.share_url, ["sid", "3g_sid"])),
            e.desc && (e.desc = e.desc.length > 50 ? e.desc.substring(0, 50) + "..." : e.desc),
            e.callback = mqq.callback(n, !0, !0),
            mqq.invoke("nav", "shareURLWebRichData", e)
        },
        android: function(e, n) {
            if (e.share_url && (e.share_url = mqq.removeQuery(e.share_url, ["sid", "3g_sid"])),
            e.callback = mqq.callback(function(e) {
                n && n({
                    retCode: e ? 0 : 1
                })
            }, !0),
            e.desc && (e.desc = e.desc.length > 50 ? e.desc.substring(0, 50) + "..." : e.desc),
            e.share_type && (2 === e.share_type || 3 === e.share_type) && mqq.compare("5.2") < 0 && mqq.support("mqq.app.isAppInstalled")) {
                var i = "您尚未安装微信，不可使用此功能";
                mqq.app.isAppInstalled("com.tencent.mm", function(n) {
                    n ? mqq.invoke("QQApi", "shareMsg", e) : mqq.support("mqq.ui.showTips") ? mqq.ui.showTips({
                        text: i
                    }) : alert(i)
                })
            } else
                mqq.invoke("QQApi", "shareMsg", e)
        },
        support: {
            iOS: "4.7.2",
            android: "4.7.2"
        }
    }),
    mqq.build("mqq.data.getUserInfo", {
        iOS: function(e) {
            return mqq.invoke("data", "userInfo", e)
        },
        android: function(e) {
            mqq.invoke("data", "userInfo", {
                callback: mqq.callback(e)
            })
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    function() {
        var e = function(e) {
            return function(n) {
                if (mqq.android && n && void 0 === n.result) {
                    try {
                        n = JSON.parse(n)
                    } catch (i) {}
                    n = {
                        result: 0,
                        data: n,
                        message: "成功"
                    }
                }
                e(n)
            }
        }
          , n = function(n) {
            if (mqq.compare("4.7.1") >= 0)
                mqq.invoke("qw_data", "getPerformance", e(n));
            else
                try {
                    common.getPerformance(e(n))
                } catch (i) {
                    n({
                        result: -1,
                        message: "该接口在手Q v4.7.1 或以上才支持！",
                        data: null 
                    })
                }
        }
        ;
        mqq.build("mqq.data.getPerformance", {
            iOS: n,
            android: n,
            support: {
                iOS: "4.7.1",
                android: "4.7.1"
            }
        })
    }(),
    function() {
        function e(e, i) {
            "string" == typeof e && /^{.*?}$/.test(e) && (e = JSON.parse(e)),
            e && "radio" in e && (e.radio = 1 === e.type ? "wifi" : e.type >= 2 ? n[e.radio] || "unknown" : "unknown"),
            i && i(e)
        }
        var n = {
            CTRadioAccessTechnologyGPRS: "gprs",
            CTRadioAccessTechnologyEdge: "edge",
            CTRadioAccessTechnologyWCDMA: "wcdma",
            CTRadioAccessTechnologyHSDPA: "hsdpa",
            CTRadioAccessTechnologyCDMA1x: "cdma",
            CTRadioAccessTechnologyCDMAEVDORev0: "evdo0",
            CTRadioAccessTechnologyCDMAEVDORevA: "evdoa",
            CTRadioAccessTechnologyCDMAEVDORevB: "evdob",
            CTRadioAccessTechnologyeHRPD: "ehrpd",
            CTRadioAccessTechnologyLTE: "lte",
            NETWORK_TYPE_GPRS: "gprs",
            NETWORK_TYPE_EDGE: "edge",
            NETWORK_TYPE_CDMA: "cdma",
            NETWORK_TYPE_1xRTT: "1xrtt",
            NETWORK_TYPE_EVDO_0: "evdo0",
            NETWORK_TYPE_EVDO_A: "evdoa",
            NETWORK_TYPE_EVDO_B: "evdob",
            NETWORK_TYPE_IDEN: "iden",
            NETWORK_TYPE_UMTS: "umts",
            NETWORK_TYPE_HSDPA: "hsdpa",
            NETWORK_TYPE_HSUPA: "hsupa",
            NETWORK_TYPE_HSPA: "hspa",
            NETWORK_TYPE_EHRPD: "ehrpd",
            NETWORK_TYPE_HSPAP: "hspap",
            NETWORK_TYPE_LTE: "lte",
            NETWORK_TYPE_WIFI: "wifi",
            NETWORK_TYPE_UNKNOWN: "unknown"
        };
        mqq.build("mqq.device.getNetworkInfo", {
            iOS: function(n) {
                mqq.invoke("device", "getNetworkInfo", {
                    callback: mqq.callback(function(i) {
                        e(i, n)
                    }, !1, !0)
                })
            },
            android: function(n) {
                mqq.invoke("qbizApi", "getNetworkInfo", function(i) {
                    e(i, n)
                })
            },
            support: {
                iOS: "5.2",
                android: "5.2"
            }
        })
    }(),
    mqq.build("mqq.app.isAppInstalledBatch", {
        iOS: function(e, n) {
            return mqq.invoke("app", "batchIsInstalled", {
                schemes: e
            }, n)
        },
        android: function(e, n) {
            e = e.join("|"),
            mqq.invoke("QQApi", "isAppInstalledBatch", e, function(e) {
                var i = [];
                e = (e + "").split("|");
                for (var o = 0; o < e.length; o++)
                    i.push(1 === parseInt(e[o]));
                n(i)
            })
        },
        support: {
            iOS: "4.2",
            android: "4.2"
        }
    }),
    mqq.build("mqq.app.isAppInstalled", {
        iOS: function(e, n) {
            return mqq.invoke("app", "isInstalled", {
                scheme: e
            }, n)
        },
        android: function(e, n) {
            mqq.invoke("QQApi", "isAppInstalled", e, n)
        },
        support: {
            iOS: "4.2",
            android: "4.2"
        }
    }),
    mqq.build("mqq.pay.pay", {
        iOS: function(e, n) {
            var i = n ? mqq.callback(n) : null ;
            mqq.invoke("pay", "pay", {
                params: e,
                callback: i
            })
        },
        support: {
            iOS: "4.6"
        }
    }),
    mqq.build("mqq.data.pbReport", {
        iOS: function(e, n) {
            mqq.invoke("data", "pbReport", {
                type: String(e),
                data: n
            })
        },
        android: function(e, n) {
            mqq.invoke("publicAccount", "pbReport", String(e), n)
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    function() {
        function e() {
            return "UID_" + ++i
        }
        var n = {}
          , i = 1;
        window.clientCallback = function(e, i) {
            var o = n[i];
            if (!o)
                return void console.log("this getJson no callbackToken!");
            if (o.callback) {
                if (clearTimeout(o.timer),
                "string" == typeof e)
                    try {
                        e = JSON.parse(e)
                    } catch (t) {
                        e = null 
                    }
                o.callback(e, o.context || window, 200),
                o.callback = null 
            }
        }
        ,
        mqq.build("mqq.data.fetchJson", {
            iOS: function(e, n) {
                var i = e.url
                  , o = e.params || {}
                  , t = e.options || {}
                  , a = e.context;
                o._t = +new Date;
                var r = n ? mqq.callback(function(e, i, o) {
                    if ("string" == typeof e)
                        try {
                            e = JSON.parse(e)
                        } catch (t) {
                            e = null 
                        }
                    n(e, i, o)
                }, !0, !0) : null ;
                mqq.invoke("data", "fetchJson", {
                    method: t.method || "GET",
                    timeout: t.timeout || -1,
                    options: t,
                    url: i,
                    params: mqq.toQuery(o),
                    callback: r,
                    context: JSON.stringify(a)
                })
            },
            android: function(i, o) {
                var t = i.options || {}
                  , a = t.method || "GET"
                  , r = {
                    param: i.params,
                    method: a
                };
                r = JSON.stringify(r);
                var c = e();
                i.callback = o,
                n[c] = i,
                t.timeout && (i.timer = setTimeout(function() {
                    i.callback && (i.callback("timeout", i.context || window, 0),
                    i.callback = null )
                }, t.timeout)),
                mqq.invoke("publicAccount", "getJson", i.url, r, "", c)
            },
            support: {
                iOS: "4.5",
                android: "4.6"
            }
        })
    }(),
    mqq.build("mqq.data.getPageLoadStamp", {
        iOS: function(e) {
            mqq.invoke("data", "getPageLoadStamp", {
                callback: mqq.callback(e)
            })
        },
        android: function(e) {
            mqq.invoke("publicAccount", "getPageLoadStamp", mqq.callback(e))
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.ui.shareMessage", {
        iOS: function(e, n) {
            !("needPopBack" in e) && "back" in e && (e.needPopBack = e.back),
            e.share_url && (e.share_url = mqq.removeQuery(e.share_url, ["sid", "3g_sid"])),
            e.desc && (e.desc = e.desc.length > 50 ? e.desc.substring(0, 50) + "..." : e.desc),
            e.callback = mqq.callback(n, !0, !0),
            mqq.invoke("nav", "shareURLWebRichData", e)
        },
        android: function(e, n) {
            if (e.share_url && (e.share_url = mqq.removeQuery(e.share_url, ["sid", "3g_sid"])),
            e.callback = mqq.callback(function(e) {
                n && n({
                    retCode: e ? 0 : 1
                })
            }, !0),
            e.desc && (e.desc = e.desc.length > 50 ? e.desc.substring(0, 50) + "..." : e.desc),
            e.share_type && (2 === e.share_type || 3 === e.share_type) && mqq.compare("5.2") < 0 && mqq.support("mqq.app.isAppInstalled")) {
                var i = "您尚未安装微信，不可使用此功能";
                mqq.app.isAppInstalled("com.tencent.mm", function(n) {
                    n ? mqq.invoke("QQApi", "shareMsg", e) : mqq.support("mqq.ui.showTips") ? mqq.ui.showTips({
                        text: i
                    }) : alert(i)
                })
            } else
                mqq.invoke("QQApi", "shareMsg", e)
        },
        support: {
            iOS: "4.7.2",
            android: "4.7.2"
        }
    }),
    mqq.build("mqq.ui.setOnShareHandler", {
        iOS: function(e) {
            mqq.invoke("nav", "addWebShareListener", {
                callback: mqq.callback(e, !1, !0)
            })
        },
        android: function(e) {
            mqq.invoke("ui", "setOnShareHandler", {
                callback: mqq.callback(e, !1, !0)
            })
        },
        support: {
            iOS: "4.7.2",
            android: "4.7.2"
        }
    }),
    mqq.build("mqq.ui.setOnCloseHandler", {
        iOS: function(e) {
            mqq.invoke("ui", "setOnCloseHandler", {
                callback: mqq.callback(e, !1, !0)
            })
        },
        android: function(e) {
            mqq.invoke("ui", "setOnCloseHandler", {
                callback: mqq.callback(e)
            })
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    mqq.build("mqq.data.writeH5Data", {
        iOS: function(e, n) {
            var i = n ? mqq.callback(n) : null ;
            mqq.invoke("data", "writeWebviewBizData", {
                callback: i,
                params: e
            })
        },
        android: function(e, n) {
            var i = e.data;
            i && (i = encodeURIComponent(i)),
            e.data = i,
            mqq.invoke("publicAccount", "writeH5Data", e, mqq.callback(n, !0))
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.data.readH5Data", {
        iOS: function(e, n) {
            var i = n ? mqq.callback(n) : null ;
            mqq.invoke("data", "readWebviewBizData", {
                callback: i,
                params: e
            })
        },
        android: function(e, n) {
            e = JSON.stringify(e || {}),
            mqq.invoke("publicAccount", "readH5Data", e, mqq.callback(function(e) {
                if (e && e.response && e.response.data) {
                    var i = e.response.data;
                    i = i.replace(/\\/g, ""),
                    i = decodeURIComponent(i),
                    e.response.data = i
                }
                n(e)
            }, !0))
        },
        support: {
            iOS: "4.6",
            android: "4.6"
        }
    }),
    mqq.build("mqq.media.showPicture", {
        iOS: function(e) {
            mqq.invoke("troopNotice", "showPicture", e)
        },
        android: function(e) {
            mqq.invoke("troopNotice", "showPicture", e)
        },
        support: {
            iOS: "5.0",
            android: "5.0"
        }
    }),
    mqq.build("mqq.ui.setTitleButtons", {
        iOS: function(e) {
            var n = e.left
              , i = e.right;
            n && (n.callback = mqq.callback(n.callback, !1, !0)),
            i && (i.callback = mqq.callback(i.callback, !1, !0)),
            mqq.compare("5.3") >= 0 ? mqq.invoke("ui", "setTitleButtons", e) : (n && (n.title && mqq.invoke("ui", "setLeftBtnTitle", {
                title: n.title
            }),
            n.callback && mqq.invoke("ui", "setOnCloseHandler", n)),
            i && mqq.invoke("nav", "setActionButton", i))
        },
        android: function(e) {
            var n = e.left
              , i = e.right;
            n && (n.callback = mqq.callback(n.callback)),
            i && (i.callback = mqq.callback(i.callback)),
            mqq.compare("5.3") >= 0 ? mqq.invoke("ui", "setTitleButtons", e) : (n && n.callback && mqq.invoke("ui", "setOnCloseHandler", n),
            i && (i.hidden && (i.title = ""),
            mqq.compare("4.7") >= 0 ? mqq.invoke("ui", "setActionButton", i) : mqq.invoke("publicAccount", "setRightButton", i.title, "", i.callback)))
        },
        support: {
            iOS: "5.0",
            android: "4.6"
        }
    }),
    mqq.build("mqq.redpoint.isEnterFromRedPoint", {
        iOS: function(e, n) {
            n && (e.callback = mqq.callback(n, !0)),
            mqq.invoke("redpoint", "isEnterFromRedPoint", e)
        },
        android: function(e, n) {
            n && (e.callback = mqq.callback(n, !0)),
            mqq.invoke("redpoint", "isEnterFromRedPoint", e)
        },
        support: {
            iOS: "5.4",
            android: "5.4"
        }
    }),
    mqq.build("mqq.redpoint.setAppInfo", {
        iOS: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("redpoint", "setAppInfo", e)
        },
        android: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("redpoint", "setAppInfo", e)
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    mqq.build("mqq.redpoint.getAppInfo", {
        iOS: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("redpoint", "getAppInfo", e)
        },
        android: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            mqq.invoke("redpoint", "getAppInfo", e)
        },
        support: {
            iOS: "4.7",
            android: "4.7"
        }
    }),
    function() {
        var e = function(e, n) {
            "function" != typeof n && (n = function() {}
            );
            for (var i = ["path", "service_type", "service_id", "act_id", "obj_id", "pay_amt"], o = 0, t = i.length; t > o; ++o)
                if ("undefined" == typeof e[i[o]])
                    return n({
                        code: -1,
                        errorMessage: "params invalid"
                    }),
                    n = null ,
                    !1;
            mqq.redpoint.isEnterFromRedPoint({
                path: e.path
            }, function(i) {
                0 == i.code && 1 == i.data ? (n && (e.callback = mqq.callback(n, !0)),
                mqq.invoke("redpoint", "reportBusinessRedTouch", e)) : (n({
                    code: -1,
                    errorMessage: i.errorMessage
                }),
                e = null ,
                n = null )
            })
        }
        ;
        mqq.build("mqq.redpoint.reportBusinessRedTouch", {
            iOS: e,
            android: e,
            support: {
                iOS: "5.4",
                android: "5.4"
            }
        })
    }(),
    mqq.build("mqq.debug.detailLog", {
        iOS: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            "undefined" == typeof e.isall && (e.isall = !0),
            e.id && "webviewDebugLog_" !== e.id.substr(0, 16) && (e.id = "webviewDebugLog_" + e.id),
            mqq.invoke("qw_debug", "detailLog", e)
        },
        android: function(e, n) {
            var i = mqq.callback(n);
            i && (e.callback = i),
            "undefined" == typeof e.isall && (e.isall = !0),
            e.id && "webviewDebugLog_" !== e.id.substr(0, 16) && (e.id = "webviewDebugLog_" + e.id),
            mqq.invoke("qw_debug", "detailLog", e)
        },
        support: {
            iOS: "5.8",
            android: "5.8"
        }
    }),
    mqq.build("mqq.ui.showOfficialAccountProfile", {
        iOS: function(e) {
            mqq.compare("6.0") >= 0 ? mqq.invoke("publicAccount", "showOfficialAccountProfile", e) : (e.showAIO = !1,
            mqq.invoke("nav", "showOfficalAccountDetail", e))
        },
        android: function(e) {
            mqq.compare("6.0") >= 0 ? mqq.invoke("publicAccountNew", "showOfficialAccountProfile", e) : mqq.compare("4.6") >= 0 ? mqq.invoke("publicAccount", "viewAccount", e.uin, !1) : mqq.invoke("publicAccount", "viewAccount", e.uin)
        },
        supportInvoke: !0,
        support: {
            iOS: "4.5",
            android: "4.6"
        }
    }),
    i.exports = window.mqq
});
define("util/uri", [], function(e, r) {
    r.getRealPath = function(e, r) {
        var t = 0
          , n = []
          , l = r || window.location.href;
        e = (e + "").replace("\\", "/"),
        -1 !== e.indexOf("://") && (t = 1),
        t || (e = l.substring(0, l.lastIndexOf("/") + 1) + e),
        n = e.split("/"),
        e = [];
        for (var a in n)
            "." != n[a] && (".." == n[a] ? e.length > 3 && e.pop() : (e.length < 2 || "" !== n[a]) && e.push(n[a]));
        return e.join("/")
    }
    ,
    r.parseUrl = function(e) {
        if (/^(([^:\/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/.test(e)) {
            var r = RegExp.$4.split(":");
            return {
                protocol: RegExp.$1,
                host: RegExp.$4,
                hostname: r[0],
                port: r[1] || "",
                pathname: RegExp.$5,
                search: RegExp.$6,
                hash: RegExp.$8,
                href: e
            }
        }
        return null 
    }
    ;
    var t = {};
    r.parseQueryString = function(e) {
        var e = String(e).replace(/^[\?&#]/, "").replace(/&$/, "");
        if (t[e])
            return t[e];
        var r, n, l, a, i, h, s, p, o, c, f, g, u, x, $, d = e.split("&"), R = d.length, v = function(e) {
            return decodeURIComponent(e.replace(/\+/g, "%20"))
        }
        , A = {};
        for (r = 0; R > r; r++) {
            for (c = d[r].split("="),
            f = v(c[0]),
            g = c.length < 2 ? "" : v(c[1]); " " === f.charAt(0); )
                f = f.slice(1);
            if (f.indexOf("\x00") > -1 && (f = f.slice(0, f.indexOf("\x00"))),
            f && "[" !== f.charAt(0)) {
                for (x = [],
                u = 0,
                n = 0; n < f.length; n++)
                    if ("[" !== f.charAt(n) || u) {
                        if ("]" === f.charAt(n) && u && (x.length || x.push(f.slice(0, u - 1)),
                        x.push(f.substr(u, n - u)),
                        u = 0,
                        "[" !== f.charAt(n + 1)))
                            break
                    } else
                        u = n + 1;
                for (x.length || (x = [f]),
                n = 0; n < x[0].length && (o = x[0].charAt(n),
                (" " === o || "." === o || "[" === o) && (x[0] = x[0].substr(0, n) + "_" + x[0].substr(n + 1)),
                "[" !== o); n++)
                    ;
                for (h = A,
                n = 0,
                $ = x.length; $ > n; n++)
                    if (f = x[n].replace(/^['"]/, "").replace(/['"]$/, ""),
                    s = n !== x.length - 1,
                    i = h,
                    "" !== f && " " !== f || 0 === n)
                        h[f] === p && (h[f] = {}),
                        h = h[f];
                    else {
                        l = -1;
                        for (a in h)
                            h.hasOwnProperty(a) && +a > l && a.match(/^\d+$/g) && (l = +a);
                        f = l + 1
                    }
                i[f] = g
            }
        }
        return t[e] = A
    }
});
define("util/cookie", ["lib/zepto"], function(e, n, o) {
    var t = e("lib/zepto");
    o.exports = function(e, n, o) {
        var i, r, p, c;
        return arguments.length > 1 && "[object Object]" !== String(n) ? (o = t.extend({}, o),
        (null  === n || void 0 === n) && (o.expires = -1),
        "number" == typeof o.expires && (i = 24 * o.expires * 60 * 60 * 1e3,
        r = o.expires = new Date,
        r.setTime(r.getTime() + i)),
        n = String(n),
        document.cookie = [encodeURIComponent(e), "=", o.raw ? n : encodeURIComponent(n), o.expires ? "; expires=" + o.expires.toUTCString() : "", o.path ? "; path=" + o.path : "", o.domain ? "; domain=" + o.domain : "", o.secure ? "; secure" : ""].join("")) : (o = n || {},
        c = o.raw ? function(e) {
            return e
        }
         : decodeURIComponent,
        (p = new RegExp("(?:^|; )" + encodeURIComponent(e) + "=([^;]*)").exec(document.cookie)) ? c(p[1]) : null )
    }
});
define("util/net", ["lib/zepto", "util/security", "util/detailLog"], function(e, t) {
    function n(e) {
        var t = [-12e4, -120002];
        return e && e.ecode && ~t.indexOf(e.ecode) ? !0 : (e.data && o.each(e.data, function(e, n) {
            return n && ~t.indexOf(n.retCode) ? !0 : void 0
        }),
        !1)
    }
    function r() {
        e.async(["widget/login"], function(e) {
            e && e.showLogin()
        })
    }
    var o = e("lib/zepto")
      , a = (e("util/security"),
    e("util/detailLog"));
    t.init = function(e, t) {
        o.ajaxSettings = t ? e : o.extend(!0, o.ajaxSettings, e)
    }
    ,
    t.ajax = function(t) {
        var s = Date.now()
          , i = t.success || function() {}
          , c = t.error || function() {}
          , u = t.url + "?" + JSON.stringify(t.data);
        t.success = function(e) {
            try {
                var t = Date.now()
                  , n = u + "|success cost: " + (t - s) + "|CGI cost: " + e.time_cost;
                a.detailLog(n, "CGI_SUCCESS")
            } catch (r) {
                console.error("err:report cgi success log")
            }
            i && i(e)
        }
        ,
        t.error = function(e, t, n) {
            try {
                var r = Date.now()
                  , o = u + "|error cost: " + (r - s) + "|CGI statusText: " + t;
                a.detailLog(o, "CGI_ERROR")
            } catch (i) {
                console.error("err:report cgi error log")
            }
            c && c(e, t, n)
        }
        ;
        var l = o.Deferred && o.Deferred()
          , p = o.extend(!0, {}, t.plugins, o.ajaxSettings.plugins);
        if (p) {
            var d = t.context || o.ajaxSettings.context;
            d ? d instanceof o || (d = t.context = o(d)) : d = t.context = o(window.document.createElement("span"));
            var f, g = ["abort", "getAllResponseHeaders", "getResponseHeader", "open", "overrideMimeType", "send", "setRequestHeader", "init", "openRequest", "sendAsBinary"], y = ["withCredentials"], h = ["readyState", "response", "responseText", "responseType", "responseXML", "status", "statusText"], x = ["abort", "error", "load", "loadend", "loadstart", "progress", "progress", "timeout", "readystatechange"];
            t.xhr = function(e) {
                for (var t = function() {}
                , n = 0, r = g.length; r > n; n++)
                    "undefined" != typeof e[g[n]] && (t.prototype[g[n]] = function(t) {
                        return function() {
                            return t && t.apply ? t.apply(e, Array.prototype.slice.call(arguments, 0)) : void 0
                        }
                    }(e[g[n]]));
                return t.prototype.open = function() {
                    for (var t = 0, n = x.length; n > t; t++)
                        !function(t) {
                            e[t] = function() {
                                if ("function" == typeof f[t]) {
                                    for (var n = 0, r = h.length; r > n; n++)
                                        try {
                                            "undefined" != typeof e[h[n]] && (f[h[n]] = e[h[n]])
                                        } catch (o) {}
                                    return f[t].apply(f, Array.prototype.slice.call(arguments, 0))
                                }
                            }
                        }("on" + x[t]);
                    return e.open.apply(e, Array.prototype.slice.call(arguments, 0))
                }
                ,
                t.prototype.send = function() {
                    for (var t = 0, n = y.length; n > t; t++)
                        "undefined" != typeof f[y[t]] && (e[y[t]] = f[y[t]]);
                    return e.send.apply(e, Array.prototype.slice.call(arguments, 0))
                }
                ,
                f = new t,
                l && l.promise(f),
                function() {
                    return f
                }
            }((t.xhr || o.ajaxSettings.xhr)());
            var v = [];
            for (var m in p)
                p.hasOwnProperty(m) && v.push(m);
            return v.push("util/security"),
            d.on("ajaxSuccess", function(e, t, o, a) {
                n(a) ? r() : l.resolveWith(this, [a, "success", t])
            }),
            d.on("ajaxError", function(e, t, n, r) {
                l.rejectWith(this, [t, r, r])
            }),
            e.async(v, function() {
                for (var e, n = 0, r = v.length; r > n; n++) {
                    e = arguments[n].getPluginHandlers.call(arguments[n], p[v[n]]);
                    for (var a in e)
                        e.hasOwnProperty(a) && d.on(a, e[a])
                }
                o(d).trigger(o.Event("ajaxStart"), [f, t]),
                o.ajax(t)
            }),
            f
        }
        return o.ajax(t)
    }
    ,
    t.get = function(e, t, n, r, a) {
        var s = {};
        return s = "function" == typeof t ? {
            url: e,
            success: t,
            dataType: n
        } : {
            url: e,
            data: t,
            success: n,
            dataType: r
        },
        this.ajax(o.extend(!0, s, a))
    }
    ,
    t.post = function(e, t, n, r, a) {
        return this.get(e, t, n, r, o.extend(!0, {
            type: "POST"
        }, a))
    }
    ,
    t.getJSON = function(e, t, n, r) {
        return this.get(e, t, n, "json", r)
    }
    ,
    t.getScript = function(e, t, n, r) {
        var o = document.createElement("script");
        o.async = "async",
        o.charset = r || "utf-8",
        o.src = e,
        o.onload = t || function() {}
        ,
        o.onerror = n || function() {}
        ,
        document.getElementsByTagName("head")[0].appendChild(o)
    }
    ,
    t.getCss = function(e, t, n) {
        var r = document.createElement("link");
        r.async = "async",
        r.rel = "stylesheet",
        r.type = "text/css",
        r.href = e,
        r.onload = t || function() {}
        ,
        r.onerror = n || function() {}
        ,
        document.getElementsByTagName("head")[0].appendChild(r)
    }
    ,
    t.getTpl = function(e, t, n) {
        var r = new XMLHttpRequest;
        return r.open("get", e, !0),
        r.onreadystatechange = function() {
            4 == r.readyState && 200 == r.status ? t && t(r.responseText) : 4 == r.readyState && 200 != r.status && n && n(r.responseText)
        }
        ,
        r.send(),
        r
    }
    ,
    t.ping = function(e) {
        var t = arguments.callee
          , n = "ping_" + (t.priority = (parseInt(t.priority) || 0) + 1)
          , r = window[n] = new Image;
        r.src = e,
        r.onerror = r.onload = function() {
            r.onerror = r.onload = null ,
            r = null ,
            delete window[n]
        }
    }
});
define("util/cacheData", [], function(e, t) {
    var r = {};
    r.sn = "gamecenter_",
    r.getName = function(e, t) {
        return r.sn + "/" + e.replace(/\//g, "//") + (t ? "/" + t.replace(/\//g, "//") : "")
    }
    ,
    r.getLocalStorage = function(e) {
        try {
            var t = window.localStorage.getItem(r.getName(e))
              , o = JSON.parse(window.localStorage.getItem(r.getName(e, "info")));
            t = JSON.parse(t)
        } catch (a) {
            return null 
        }
        try {
            window.localStorage.setItem(r.getName(e, "info"), JSON.stringify({
                time: o && parseInt(o.time) || (new Date).getTime(),
                count: (o && parseInt(o.count) || 0) + 1
            }))
        } catch (a) {
            return window.localStorage.clear(),
            null 
        }
        return t
    }
    ,
    r.setLocalStorage = function(e, t) {
        var o = JSON.stringify(t);
        try {
            window.localStorage.setItem(r.getName(e), o),
            window.localStorage.setItem(r.getName(e, "info"), JSON.stringify({
                time: (new Date).getTime(),
                count: 0
            }))
        } catch (a) {
            return window.localStorage.clear(),
            !1
        }
        return !0
    }
    ,
    r.getLocalStorageTime = function(e) {
        try {
            var t = JSON.parse(window.localStorage.getItem(r.getName(e, "info")));
            return t && parseInt(t.time) || 0
        } catch (o) {
            return 0
        }
    }
    ,
    r.getLocalStorageCount = function(e) {
        try {
            var t = JSON.parse(window.localStorage.getItem(r.getName(e, "info")));
            return t && parseInt(t.count) || 0
        } catch (o) {
            return 0
        }
    }
    ,
    r.setLocalStorageInfo = function(e, t, o) {
        if (0 === r.getLocalStorageTime.call(this, e))
            return !1;
        try {
            window.localStorage.setItem(r.getName(e, "info"), JSON.stringify({
                time: new Date(t).getTime() || 0,
                count: parseInt(o) || 0
            }))
        } catch (a) {
            return !1
        }
        return !0
    }
    ,
    r.getSessionStorage = function(e) {
        try {
            var t = window.sessionStorage.getItem(r.getName(e))
              , o = JSON.parse(window.sessionStorage.getItem(r.getName(e, "info")));
            return window.sessionStorage.setItem(r.getName(e, "info"), JSON.stringify({
                time: o && parseInt(o.time) || (new Date).getTime(),
                count: (o && parseInt(o.count) || 0) + 1
            })),
            JSON.parse(t)
        } catch (a) {
            return null 
        }
    }
    ,
    r.setSessionStorage = function(e, t) {
        var o = JSON.stringify(t);
        try {
            window.sessionStorage.setItem(r.getName(e), o),
            window.sessionStorage.setItem(r.getName(e, "info"), JSON.stringify({
                time: (new Date).getTime(),
                count: 0
            }))
        } catch (a) {
            return !1
        }
        return !0
    }
    ,
    r.getSessionStorageTime = function(e) {
        try {
            var t = JSON.parse(window.sessionStorage.getItem(r.getName(e, "info")));
            return t && parseInt(t.time) || 0
        } catch (o) {
            return 0
        }
    }
    ,
    r.getSessionStorageCount = function(e) {
        try {
            var t = JSON.parse(window.sessionStorage.getItem(r.getName(e, "info")));
            return t && parseInt(t.count) || 0
        } catch (o) {
            return 0
        }
    }
    ,
    r.setSessionStorageInfo = function(e, t, o) {
        if (0 === r.getSessionStorageTime.call(this, e))
            return !1;
        try {
            window.sessionStorage.setItem(r.getName(e, "info"), JSON.stringify({
                time: new Date(t).getTime() || 0,
                count: parseInt(o) || 0
            }))
        } catch (a) {
            return !1
        }
        return !0
    }
    ,
    r.memoryCache = {},
    r.getMemory = function(e) {
        {
            var t = r.memoryCache[r.getName(e)]
              , o = t && t.value;
            t && t.time,
            t && t.count
        }
        return "undefined" == typeof t ? null  : (null  !== t && (t.count = (parseInt(t.count) || 0) + 1),
        o)
    }
    ,
    r.setMemory = function(e, t) {
        return r.memoryCache[r.getName(e)] = {
            value: t,
            time: (new Date).getTime(),
            count: 0
        },
        !0
    }
    ,
    r.getMemoryTime = function(e) {
        var t = r.memoryCache[r.getName(e)];
        return t && parseInt(t.time) || 0
    }
    ,
    r.getMemoryCount = function(e) {
        var t = r.memoryCache[r.getName(e)];
        return t && parseInt(t.count) || 0
    }
    ,
    r.setMemoryInfo = function(e, t, o) {
        return r.memoryCache[r.getName(e)] ? (r.memoryCache[r.getName(e)].time = new Date(t).getTime() || 0,
        r.memoryCache[r.getName(e)].count = parseInt(o) || 0,
        !0) : !1
    }
    ,
    t.getCacheMode = function(e) {
        switch (e === !1 ? "memory" : e) {
        case "memory":
            return "memory";
        case "sessionStorage":
            return window.sessionStorage ? "sessionStorage" : "memory";
        default:
            return window.localStorage ? "localStorage" : "memory"
        }
    }
    ,
    t.get = function(e, t) {
        switch (this.getCacheMode(t)) {
        case "localStorage":
            return r.getLocalStorage.call(this, e);
        case "sessionStorage":
            return r.getSessionStorage.call(this, e);
        case "memory":
            return r.getMemory.call(this, e)
        }
    }
    ,
    t.set = function(e, t, o) {
        switch (this.getCacheMode(o)) {
        case "localStorage":
            return r.setLocalStorage.call(this, e, t);
        case "sessionStorage":
            return r.setSessionStorage.call(this, e, t);
        case "memory":
            return r.setMemory.call(this, e, t)
        }
    }
    ,
    t.isExpire = function(e, t, o, a) {
        var n = 0
          , s = 0;
        switch (this.getCacheMode(a)) {
        case "localStorage":
            n = r.getLocalStorageTime.call(this, e),
            s = r.getLocalStorageCount.call(this, e);
            break;
        case "sessionStorage":
            n = r.getSessionStorageTime.call(this, e),
            s = r.getSessionStorageCount.call(this, e);
            break;
        case "memory":
            n = r.getMemoryTime.call(this, e),
            s = r.getMemoryCount.call(this, e)
        }
        return 0 === n ? !0 : Math.abs((new Date).getTime() - n) > 1e3 * t ? !0 : s > o ? !0 : !1
    }
    ,
    t.setInfo = function(e, t, o, a) {
        switch (this.getCacheMode(a)) {
        case "localStorage":
            return r.setLocalStorageInfo.call(this, e, t, o);
        case "sessionStorage":
            return r.setSessionStorageInfo.call(this, e, t, o);
        case "memory":
            return r.setMemoryInfo.call(this, e, t, o)
        }
    }
});
define("util/detailLog", ["lib/qqapi"], function(i, e) {
    var t = i("lib/qqapi");
    e.detailLog = function(i, e, n, o) {
        if (i) {
            if ("object" == typeof i)
                try {
                    i = JSON.stringify(i)
                } catch (f) {
                    i = "[json stringify error]"
                }
            o = o || "gameCenter",
            e = e || "business",
            n = n || "info";
            var a = {
                id: o,
                subid: e,
                content: i,
                level: n
            };
            setTimeout(function() {
                t.debug.detailLog(a)
            }, 0)
        }
    }
});
define("business/environment", ["lib/zepto", "jsBridge/common", "business/router", "business/access"], function(e, t, n) {
    function o(e) {
        g || (g = document.createElement("div"),
        g.style.position = "fixed",
        g.style.background = "rgb(109, 101, 101)",
        g.style.top = "80%",
        g.style.left = "50%",
        g.style.marginLeft = "-54px",
        g.style.zIndex = "999",
        g.style.color = "white",
        g.style.padding = "10px",
        g.style.whiteSpace = "nowrap",
        g.innerHTML = e,
        document.body.appendChild(g),
        g.addEventListener("touchstart", function(e) {
            f = !0,
            p = e.targetTouches[0].pageX,
            h = e.targetTouches[0].pageY
        }),
        g.addEventListener("touchmove", function(e) {
            if (f) {
                var t = e.targetTouches[0].pageX - p
                  , n = e.targetTouches[0].pageY - h
                  , o = s(document.body).scrollTop()
                  , i = s(g).position()
                  , c = i.left + t
                  , a = i.top + n - o;
                s(g).offset({
                    left: c,
                    top: a
                }),
                p = e.targetTouches[0].pageX,
                h = e.targetTouches[0].pageY
            }
            e.preventDefault()
        }),
        g.addEventListener("touchend", function() {
            f = !1,
            p = 0,
            h = 0
        }),
        g.addEventListener("click", function() {
            g && (document.body.removeChild(g),
            g = null )
        }),
        setTimeout(function() {
            g && (document.body.removeChild(g),
            g = null )
        }, 3e3))
    }
    var i, s = e("lib/zepto"), c = e("jsBridge/common"), a = e("business/router"), r = e("business/access"), d = a.getParams("ADTAG") || a.getParams("adtag"), u = "game_browser" === d, l = n.exports = {};
    i = "iphoneqq" == c.getClient() ? "ios" : "android",
    l.platform = i,
    c.getQQVersion(function(e) {
        0 == e.result && (l.qqVersion = e.data)
    }),
    function() {
        u || (r.config({
            wx: {
                lauchQQ: !0
            },
            mobile: {
                lauchQQ: !0
            },
            pc: {
                lauchQQ: !0
            },
            qzone: {
                lauchQQ: !0
            }
        }),
        r.addPlatform({
            platName: "qzone",
            isThisPlat: function(e) {
                return /.*(Qzone).*/.test(e)
            }
        }),
        r.execute())
    }(),
    a.pageReady(function() {
        c.getSystemVersion(function(e) {
            0 == e.result && (l.osVersion = e.data)
        }),
        c.getDeviceModel(function(e) {
            0 == e.result && (l.device = e.data)
        }),
        c.getNetworkType(function(e) {
            0 == e.result && (l.netType = e.data)
        })
    }),
    l.isOnline = "ios" == i && -1 != window.location.href.indexOf("/cdn/ios/") || "android" == i && -1 != window.location.href.indexOf("/cdn/android/index/") ? 1 : 0,
    l.resolution = function() {
        return [screen.width, screen.height].join("*")
    }();
    var g = null 
      , f = !1
      , p = 0
      , h = 0;
    -1 != window.location.host.indexOf("gamecentertest.cs0309.3g.qq.com") ? o("开发测试环境") : -1 != window.location.host.indexOf("gconlytest.cs0309.3g.qq.com") ? o("专业测试环境") : -1 != window.location.host.indexOf("gcpre.cs0309.3g.qq.com") && o("预发布环境")
});
define("business/access", ["jsBridge/common", "lib/zepto"], function(t, e) {
    function n(t) {
        var e = /.*(Android).*/;
        return e.test(t) ? !0 : !1
    }
    function r(t) {
        var e = /.*?(iPad|iPhone|iPod).*/;
        return e.test(t) ? !0 : !1
    }
    function i(t) {
        var e = /(iPad|iPhone|iPod).*? (IPad)?QQ\/([\d\.]+)/
          , n = /\bV1_AND_SQI?_([\d\.]+)(.*? QQ\/([\d\.]+))?/;
        return a(t) && (e.test(t) || n.test(t)) ? !0 : !1
    }
    function o(t) {
        return a(t)
    }
    function a(t) {
        return n(t) || r(t) ? !0 : !1
    }
    function u(t) {
        return !a(t)
    }
    var c = (t("jsBridge/common"),
    t("lib/zepto"))
      , s = location.href
      , l = navigator.userAgent
      , p = {
        qq: {
            "default": !0
        },
        wx: {
            "default": !0
        },
        mobile: {
            "default": !0
        },
        pc: {
            "default": !0
        }
    };
    "function" != typeof Object.create && (Object.create = function(t) {
        function e() {}
        return e.prototype = t,
        new e
    }
    );
    var f = {
        create: function(t) {
            var e = this.get(t);
            return e ? this : (e = Object.create(this.prototype),
            e.parent = this,
            e.init.apply(e, arguments),
            this.opCollections[t] = e,
            this)
        },
        get: function(t) {
            return this.opCollections[t]
        },
        "default": function(t) {
            t && t()
        },
        redirect: function(t) {
            window.location = t
        },
        lauchQQ: function() {
            this.lauchQQUrl(s)
        },
        lauchQQUrl: function(t) {
            /Agent\/\d{1,2}/.test(navigator.userAgent) && (location.href = "jsbridge://qqZoneAppList/back/0");
            var e = "mqqapi://forward/url?url_prefix=base64Url&version=1&src_type=web"
              , n = e.replace("base64Url", window.btoa(t))
              , r = c('<iframe src="' + n + '" style="display: none;"></iframe>');
            document.addEventListener("WeixinJSBridgeReady", function() {
                c("body").append(r)
            }, !1),
            c("body").append(r)
        },
        alertMsg: function(t) {
            alert(t)
        },
        extendOp: function(t) {
            t && t()
        },
        prototype: {
            init: function(t, e) {
                this.platformName = t,
                this.rule = e
            },
            setRule: function(t) {
                this.rule = t
            },
            getRule: function() {
                return this.rule
            }
        },
        opCollections: {}
    }
      , h = {
        create: function(t) {
            var e = this.get(t.name);
            return e ? this : (e = Object.create(this.prototype),
            e.parent = this,
            e.init.apply(e, arguments),
            this.platforms.push(e),
            this)
        },
        get: function(t) {
            for (var e = this.platforms.length, n = 0; e > n; n++)
                if (this.platforms[n].name == t)
                    return this.platforms[n];
            return null 
        },
        setPriorities: function(t) {
            var e = function() {
                return function(e, n) {
                    var r = t.indexOf(e.name)
                      , i = t.indexOf(n.name);
                    return e.setpriority(r),
                    n.setpriority(i),
                    e.priority < n.priority ? -1 : e.priority > n.priority ? 1 : 0
                }
            }
            ;
            this.platforms.sort(e("priority"))
        },
        prototype: {
            init: function(t) {
                this.name = t.name,
                this.checkFun = t.checkFun,
                this.priority = this.parent.platforms.length,
                this.operation = f.create(t.name, t.operationRule).get(t.name)
            },
            setpriority: function(t) {
                this.priority = t
            },
            getOperation: function() {
                return this.operation
            }
        },
        platforms: []
    }
      , d = ["extendOp", "redirect", "alertMsg", "default"]
      , m = ["extendOp", "redirect", "lauchQQUrl", "lauchQQ", "alertMsg", "default"]
      , g = {
        qq: {
            checkFun: i,
            rule: d
        },
        wx: {
            checkFun: o,
            rule: m
        },
        mobile: {
            checkFun: a,
            rule: m
        },
        pc: {
            checkFun: u,
            rule: d
        }
    };
    for (var y in g)
        h.create({
            name: y,
            checkFun: g[y].checkFun,
            operationRule: g[y].rule
        });
    e.execute = function(t) {
        for (var t = t || function() {}
        , e = h.platforms.length, n = 0; e > n; n++) {
            var r = h.platforms[n]
              , i = r.name;
            if (r.checkFun(l) && p[i]) {
                t && (p[i]["default"] = t);
                for (var o = r.getOperation(), a = o.getRule(), u = 0; u < a.length; u++) {
                    var c = a[u];
                    if (p[i][c])
                        return o.parent[c](p[i][c]),
                        i
                }
            }
        }
    }
    ,
    e.config = function(t) {
        c.extend(p, t)
    }
    ;
    var v = ["qq", "wx", "mobile", "pc"];
    e.addPlatform = function(t) {
        v.splice(1, 0, t.platName),
        h.create({
            name: t.platName,
            checkFun: t.isThisPlat,
            operationRule: m
        }).setPriorities(v)
    }
});
define("business/gameList", ["lib/zepto", "business/router", "business/userInfo", "util/cacheData", "util/net", "jsBridge/app", "jsBridge/common", "util/process"], function e(n, a, o) {
    function t(e) {
        w || (w = !0,
        d.ajax({
            url: c.createUrl("/cgi-bin/gc_gameinfo_fcgi"),
            data: {
                module: "game_info_cmd",
                method: "getList",
                param: {
                    sourcePage: "1_2_3_4_5_6_7_8",
                    version: 1
                }
            },
            plugins: {
                "business/mergeRequest": !0
            },
            cache: !1,
            dataType: "json",
            success: function(n) {
                w = !1,
                q(n, e)
            },
            error: function() {
                w = !1
            }
        }))
    }
    function i(e, n, a) {
        appId = e.appId || "0";
        var o = "banner_" + (e.bannerId || 0)
          , t = e.QQVersion || 0;
        if (0 != appId) {
            var i = [c.getUserId(), C, appId, o].join("/")
              , r = l.get(i)
              , s = 300
              , u = 2;
            if (r && !a)
                try {
                    if (!l.isExpire(i, s, u))
                        return void (n && n(r))
                } catch (p) {
                    console.log(p)
                }
            d.ajax({
                url: c.createUrl("/cgi-bin/gc_gameinfo_fcgi"),
                data: {
                    module: "game_info_cmd",
                    method: "getDetail",
                    param: {
                        appid: appId + "",
                        referId: o + "",
                        QQVersion: t + ""
                    }
                },
                plugins: {
                    "business/mergeRequest": !0
                },
                cache: !1,
                dataType: "json",
                success: function(e) {
                    if (0 == e.ret && e.items && e.items[0]) {
                        var a = e.items[0]
                          , o = x(a)
                          , t = e.entranceItems || []
                          , r = {
                            result: 0,
                            data: o,
                            entrance: t,
                            message: e.msg
                        };
                        n && n(r),
                        l.set(i, r)
                    } else
                        n && n(e)
                }
            })
        }
    }
    {
        var r, s = n("lib/zepto"), c = n("business/router"), u = n("business/userInfo"), l = n("util/cacheData"), d = n("util/net"), p = n("jsBridge/app"), g = n("jsBridge/common");
        n("util/process")
    }
    g.isIOS9(function(e) {
        r = e
    });
    var f = o.exports = {}
      , m = null 
      , h = []
      , I = []
      , y = /(iPad|iPhone|iPod)/.test(navigator.userAgent)
      , b = navigator.userAgent.match(/(iPad).*OS\s([\d_]+)/)
      , v = (c.getUserId(),
    location.search.indexOf("plat=wx") > -1)
      , w = !1
      , _ = window.GCApi && GCApi.startToAuthorized
      , G = location.host || ""
      , N = G && (G.indexOf("gamecentertest.cs0309.3g.qq.com") > -1 || G.indexOf("gconlytest.3g.qq.com") > -1) ? G : "download.wegame.qq.com"
      , k = "game_list_v0722"
      , C = "get_game_detail_v0723"
      , A = 1;
    f.fork = function(a) {
        var t = o.uri + A++;
        define(t, [], e),
        n.async(t, a)
    }
    ,
    f.search = function(e, n, a) {
        P(e, function(a) {
            var a = {
                result: 0,
                data: T(e)
            };
            n(a)
        }, a)
    }
    ,
    f.query = function(e, n, a) {
        P({}, function(a) {
            var a = {
                result: 0,
                data: F(e)
            };
            n(a)
        }, a)
    }
    ,
    f.get = function(e, n, a) {
        P(e, function(a) {
            var a = {
                result: 0,
                data: T(e)[0]
            };
            n(a)
        }, a)
    }
    ,
    f.checkInstallChange = function(e) {
        var n = y ? h : I
          , a = !1;
        p.isInstalled(n, function(o) {
            var t = {};
            0 == o.result && s.each(m, function(e, i) {
                i.installed != o.data[n[e]] && (a = !0,
                t[i.appId] = o.data[n[e]]),
                i.installed = o.data[n[e]]
            }),
            e(t),
            a && D(t)
        })
    }
    ;
    var D = function(e) {
        var n = l.get(k);
        s.each(n, function(n, a) {
            "undefined" != typeof e[a.appId] && (a.installed = e[a.appId])
        }),
        l.set(k, n)
    }
      , P = function(e, n, a) {
        if (m && !a)
            return void (n && n(m));
        if (e.appId)
            return void i({
                appId: e.appId
            }, function(e) {
                m = [e.data],
                U(n, m)
            }, a);
        var o = 7200
          , r = 1
          , c = l.get(k);
        if (a)
            window.GAME_INFO && 0 == window.GAME_INFO.result ? q(GAME_INFO, function(e) {
                n && n(e),
                setTimeout(function() {
                    t(n)
                }, 2e3)
            }) : t(n);
        else if (c)
            m = c,
            0 == h.length && s.each(m, function(e, n) {
                h.push("tencent" + n.appId),
                I.push(n.pkgName)
            }),
            n && n(m),
            l.isExpire(k, o, r) && t(n);
        else if (window.GAME_INFO && 0 == window.GAME_INFO.result) {
            var u = /(iPad|iPhone|iPod)/gi.test(navigator.userAgent) ? 2 : 1;
            window.GAME_INFO.items = s.grep(window.GAME_INFO.items, function(e) {
                return !e || 0 != e._sortType && u != e._sortType ? !1 : !0
            }),
            window.GAME_INFO.promotion = s.grep(window.GAME_INFO.promotion, function(e) {
                return !e || 0 != e._sortType && u != e._sortType ? !1 : !0
            }),
            q(GAME_INFO, function(e) {
                n && n(e),
                setTimeout(function() {
                    t(n)
                }, 2e3)
            })
        } else
            t(n)
    }
      , q = function(e, n) {
        if (e && 0 == e.ret) {
            var a = [];
            s.each(e.preitems, function(e, n) {
                n.preview = 1,
                a.push(x(n))
            }),
            s.each(e.promotion, function(e, n) {
                n.promotion = 1,
                n.ribbon = "new",
                a.push(x(n))
            }),
            s.each(e.items, function(e, n) {
                a.push(x(n))
            }),
            _ || s.each(a, function(e, n) {
                "1" == n.qhGameVersionCode && (n.preview = 1,
                n.ribbon = "")
            }),
            e.globalconf && (a[0].globalconf = {
                batchAppfNum: e.globalconf.batchAppfNum || 0,
                pageCacheTime: e.globalconf.pageCacheTime || 0,
                promotionGameMaxNum: e.globalconf.promotionGameMaxNum || 0
            }),
            h = [],
            I = [],
            U(n, a)
        }
    }
    ;
    f.getGameDetail = function(e, n, a) {
        if (!e)
            return console.log("input params error"),
            null ;
        var o = 0;
        o = "object" == typeof e ? e.appId || 0 : e || 0;
        var t = e.bannerId || 0
          , r = e.QQVersion || 0;
        return o ? void i({
            appId: o,
            bannerId: t,
            QQVersion: r
        }, n, a) : (console.log("input params error"),
        null )
    }
    ,
    f.checkQianghaoGame = function(e, n) {
        e && e.pkgName && p.getVersion(e.pkgName, function(a) {
            if (0 == a.result) {
                var o = a.data || 0;
                "1" == e.qhGameVersionCode && e.yybVersionCode > o ? n && n({
                    result: 0,
                    data: !0
                }) : n && n({
                    result: 0,
                    data: !1
                })
            } else
                n && n({
                    result: 0,
                    data: !1
                })
        })
    }
    ,
    f.checkQianghao = function(e) {
        var n = {
            result: 0,
            data: []
        };
        y || "gameCenter" == g.getWebView() && p.getVersion(I, function(a) {
            0 == a.result ? (s.each(m, function(e, o) {
                var t = parseInt(a.data[I[e]]) || 0;
                "1" == o.qhGameVersionCode && o.yybVersionCode > t && n.data.push(o)
            }),
            e(n)) : console.log("no yybVersionCode")
        })
    }
    ,
    f.orderGame = function(e, n) {
        return O(n, e)
    }
    ;
    var U = function(e, n) {
        0 == h.length && s.each(n, function(e, n) {
            h.push("tencent" + n.appId),
            I.push(n.pkgName)
        });
        var a = y ? h : I;
        p.isInstalled(a, function(o) {
            if (0 == o.result && o.data)
                if (1 == n.length) {
                    var t = y ? "tencent" + n[0].appId : n[0].pkgName;
                    n[0].installed = o.data[t]
                } else
                    s.each(n, function(e, n) {
                        n.installed = o.data[a[e]]
                    });
            else
                s.each(n, function(e, n) {
                    n.installed = !1
                });
            m = n,
            n.length > 1 && l.set(k, n),
            e && e(m)
        })
    }
      , O = function(e, n) {
        var a = l.get("game_order");
        return n = n || m,
        a && n.sort(function(e, n) {
            return (a[e.appId] || 0) >= (a[n.appId] || 0) ? -1 : 1
        }),
        "function" == typeof e && e(n),
        n
    }
      , V = function(e) {
        var n = l.get("game_order") || {};
        n[e] = Date.now(),
        l.set("game_order", n)
    }
      , T = function(e) {
        var n = [];
        for (var a in e)
            return s.each(m, function(a, o) {
                s.each(e, function(e, a) {
                    o[e] == a && n.push(o)
                })
            }),
            n;
        return m
    }
      , F = function(e) {
        var n = {}
          , a = [];
        return s.each(e, function(e, a) {
            n[a] = !0
        }),
        s.each(m, function(e, o) {
            n[o.appId] && a.push(o)
        }),
        a
    }
      , x = function(e) {
        if (e && e.tagList && e.tagList.length) {
            e.tagList.sort(function(e, n) {
                return (n || 0) - (e || 0)
            });
            for (var n = {
                3: "礼包",
                2: "攻略",
                1: "视频"
            }, a = [], o = 0; item = e.tagList[o]; o++)
                item && n[item] && a.push(n[item]);
            e.tagList = a || []
        }
        return {
            appId: e.appId,
            pkgName: e.pkgName,
            gameType: e.gameType || "",
            gameIcon: e.gameIcon,
            gameIntroPics: e.gameIntroPics,
            iconGrayFlag: e.iconGrayFlag,
            iconGrayId: e.iconGrayId,
            iconGrayUrl: e.iconGrayUrl,
            gameName: e.gameName,
            appName: e.gameName,
            hotTag: e.hottag,
            downloadDesc: e.downloadDesc,
            gameCategory: e.gameCategory,
            sourcePage: e.sourcePage,
            firstPromotion: e.firstPromotion,
            morePromotionIcon: e.morePromotionIcon,
            promotionType: e.promotionType,
            promotionReason: e.promotionReason,
            showInHome: e.showInHome,
            launchVersion: e.launchVersion,
            bannerIconUrl: "http://" + N + "/gc/formal/common/" + e.appId + "/thumImg.png",
            promotionIconUrl: "http://" + N + "/gc/formal/common/" + e.appId + "/promotion.png",
            slogan: e.slogan || "",
            url: y ? b && e.iPadDownloadUrl ? e.iPadDownloadUrl : e.iosDownloadUrl : v && e.wxDownloadUrl ? e.wxDownloadUrl : e.qqDownloadUrl,
            target: 1,
            hasRankList: e.hasRankList,
            hasDownloadGift: e.hasDownloadGift,
            showUpdateFlag: e.showUpdateFlag,
            ribbon: e.ribbon,
            preview: !!e.preview,
            promotion: !!e.promotion,
            settlementDay: e.settlement_day || 0,
            mobileOfficialWebsite: e.mobileOfficialWebsite || "",
            tickets: e.tickets,
            introduction: e.introduction || "",
            pkgSize: e.iosPkgSize || e.yybPkgSize || e.pkgSize,
            yybPackageSize: e.yybPkgSize || 0,
            yybApkId: e.yybApkId,
            yybAppId: e.yybAppId,
            source: e.source,
            qhGameVersionCode: e.qhGameVersionCode,
            wording: e.yybDownloadSlogan || "",
            downloadChannel: e.downloadChannel || 0,
            yybQhqqSlogan: e.yybQhQqSlogan || "",
            yybVersionCode: parseInt(e.yybVersionCode),
            hasGroupChallenge: 1 == e.hasGroupChallenge,
            groupChallengeUrl: e.groupChallengeUrl || "",
            videoId: e.videoId || "",
            videoSnapshot: e.videoSnapshot || "",
            hasNeighbour: e.hasNeighbour || 0,
            hasMission: e.hasMission || 0,
            hasRally: e.hasRally || 0,
            startGameGiftId: e.startGameGiftId || 0,
            status: e.status,
            bid: e.bid,
            tagList: e.tagList || []
        }
    }
    ;
    f.fixGameInfo = x,
    f.isInstalled = function(e, n) {
        var a = e;
        s.isArray(a) || (a = [a]);
        for (var o = [], t = 0, i = a.length; i > t; t++)
            o.push("iphoneqq" == g.getClient() ? "tencent" + a[t].appId : a[t].pkgName);
        p.isInstalled(o, function(t) {
            if (t && 0 == t.result) {
                for (var i = {}, r = 0, s = a.length; s > r; r++)
                    i[a[r].appId] = t.data[o[r]];
                a !== e ? n({
                    result: 0,
                    data: i[e.appId]
                }, e) : n({
                    result: 0,
                    data: i
                }, e)
            } else
                n(t, e)
        })
    }
    ,
    f.isInstalledForGift = function(e, n) {
        g.isIOS9(function(a) {
            a ? n({
                result: 0,
                data: !0
            }) : f.isInstalled(e, n)
        })
    }
    ,
    f.registerChangeListener = function(e) {
        p.registerChangeListener(e)
    }
    ,
    f.getDownloadInfo = function(e, n) {
        p.getDownloadInfo(e, function(a) {
            n && n(a, e)
        })
    }
    ,
    f.checkUpdate = function(e, n) {
        var a = e;
        s.isArray(a) || (a = [a]);
        for (var o = [], t = 0, i = a.length; i > t; t++)
            o.push(a[t].pkgName);
        p.checkUpdate(o, function(o) {
            if (o && 0 == o.result && o.data) {
                for (var t = {}, i = 0, r = a.length; r > i; i++)
                    t[a[i].appId] = o.data[a[i].pkgName];
                a !== e ? n({
                    result: 0,
                    data: t[e.appId]
                }, e) : n({
                    result: 0,
                    data: t
                }, e)
            } else
                n(o, e)
        })
    }
    ,
    f.startDownload = function(e, n) {
        p.startDownload(e, n),
        V(e.appId)
    }
    ,
    f.stopDownload = function(e, n) {
        p.stopDownload(e, n)
    }
    ,
    f.install = function(e, n) {
        p.install(e, n),
        V(e.appId)
    }
    ,
    f.launch = function(e, n) {
        e.openId ? p.launch(e, n) : u.getOpenId(e.appId, function(a) {
            0 == a.result ? (e.openId = a.data[e.appId],
            p.launch(e, n)) : p.launch(e, n)
        }, function() {
            p.launch(e, n)
        }),
        V(e.appId)
    }
    ,
    f.rob = function(e, n) {
        p.rob(e, n)
    }
});
define("business/userInfo", ["lib/zepto", "util/net", "util/cacheData", "business/router", "jsBridge/common"], function(e, i) {
    function r(e, i) {
        var r = [s.getUserId(), "selfinfo_get"].join("/")
          , n = t.get(r);
        if (n && !i)
            try {
                return void (e && e(n))
            } catch (p) {}
        a.ajax({
            url: s.createUrl("/selfinfo/get", {
                appid: null 
            }),
            data: {
                appid: 0
            },
            dataType: "json",
            success: function(i) {
                if (0 == i.ret) {
                    var n = {
                        result: 0,
                        data: {
                            uin: i.uin || 0,
                            nick: i.nick_name || "",
                            figureUrl: i.figureurl_qq || "",
                            qqVipInfo: i.qq_vip_info || {},
                            openId: i.openid,
                            playAppnum: i.play_appnum || 0
                        },
                        message: i.msg
                    };
                    e && e(n),
                    t.set(r, n)
                } else
                    e && e(i)
            }
        })
    }
    function n(e, i, r, n) {
        if (!e)
            return console.log("input params error"),
            null ;
        e instanceof Array ? appidArr = e : (appidArr = [],
        appidArr.push(e));
        for (var p = {}, o = [], u = 0; u < appidArr.length; u++) {
            var d = appidArr[u]
              , l = [s.getUserId(), "openid_get", d].join("/")
              , g = t.get(l);
            g ? p[d] = g : o.push(d)
        }
        return o.length <= 0 && !n ? void (i && i({
            result: 0,
            data: p,
            message: ""
        })) : void a.ajax({
            url: s.createUrl("/cgi-bin/gc_get_openid_fcgi"),
            data: {
                appid: o.join(",") || 0
            },
            dataType: "json",
            success: function(e) {
                if (0 == e.ret) {
                    for (var r = {}, n = 0; n < e.items.length; n++) {
                        var a = e.items[n];
                        if (a.appid && a.openid) {
                            r[a.appid] = a.openid;
                            var p = [s.getUserId(), "openid_get", a.appid].join("/");
                            t.set(p, a.openid)
                        }
                    }
                    var o = {
                        result: 0,
                        data: r,
                        message: e.msg || ""
                    };
                    i && i(o)
                } else
                    i && i(e)
            },
            error: r
        })
    }
    {
        var a = (e("lib/zepto"),
        e("util/net"))
          , t = e("util/cacheData")
          , s = e("business/router");
        e("jsBridge/common")
    }
    i.getUserInfo = r,
    i.getOpenId = n
});
define("jsBridge/app", ["lib/zepto", "lib/ctrl", "jsBridge/common", "util/process", "util/cookie", "business/userInfo", "business/report"], function(require, exports, module) {
    function launch(e, a) {
        var o = ["platform=qq_m&current_uin=$OPID$"];
        switch (e.extraMsg && o.push("extraMsg=" + encodeURIComponent(e.extraMsg)),
        o.push("launchfrom=" + encodeURIComponent(e.launchfrom || "sq_gamecenter")),
        o.push("gamedata=" + encodeURIComponent(e.gamedata || "")),
        o.push("platformdata=" + encodeURIComponent(e.platformdata || "")),
        common.getClient()) {
        case "androidqq":
            launchForAndroid(e, o, a);
            break;
        case "iphoneqq":
            launchForIOS(e, o, a)
        }
    }
    function launchForIOS(e, a, o) {
        function n() {
            var a = {}
              , o = e.tickets.split(",")
              , n = ["platform=qq_m&user_openid=$OPID$"];
            e.extraMsg && n.push("extraMsg=" + encodeURIComponent(e.extraMsg)),
            n.push("launchfrom=" + encodeURIComponent(e.launchfrom || "sq_gamecenter")),
            n.push("gamedata=" + encodeURIComponent(e.gamedata || "")),
            n.push("platformdata=" + encodeURIComponent(e.platformdata || "")),
            a.appID = e.appId,
            a.flag = "536870912",
            a.packageName = e.pkgName;
            for (var t = 0; t < o.length; t++)
                n.push(ticketMap[o[t]] || "");
            a.paramsStr = "?" + n.join("&"),
            p(a, r)
        }
        function t() {
            for (var a = {}, o = e.tickets.split(","), n = ["platform=qq_m&user_openid=" + e.openId + "&openid=" + e.openId], t = 0; t < o.length; t++)
                "OPID" != o[t] && n.push(ticketMap[o[t]] || "");
            e.extraMsg && n.push("extraMsg=" + encodeURIComponent(e.extraMsg)),
            n.push("launchfrom=" + encodeURIComponent(e.launchfrom || "sq_gamecenter")),
            n.push("gamedata=" + encodeURIComponent(e.gamedata || "")),
            n.push("platformdata=" + encodeURIComponent(e.platformdata || "")),
            a.appID = e.appId,
            a.flag = "536870912",
            a.packageName = e.pkgName,
            a.paramsStr = "?" + n.join("&"),
            p(a, i)
        }
        function r(e) {
            0 != e.result || 0 == e.result && !e.data ? t() : o(e)
        }
        function i(n) {
            a.push("user_openid=" + e.openId);
            var t = "?" + a.join("&");
            0 != n.result || 0 == n.result && !n.data ? (location.href = "tencent" + e.appId + "://" + t,
            common.isIOS9(function(a) {
                a && setTimeout(function() {
                    e.url && _startDownload(e, o)
                }, 500)
            })) : o(n)
        }
        function p(e, a) {
            mqq.compare("6.1.0") >= 0 ? (e.callback = mqq.callback(function(e) {
                a({
                    result: 0,
                    data: e.result
                })
            }),
            common._invokeByCommonAPI("mqq.app.launchAppWithTokens", [e])) : common._invokeByCommonAPI("mqq.app.launchAppWithTokens", [e], a)
        }
        ctrl([function(a) {
            a.data.isSupportQuickLaunch = !1,
            common._invokeByCommonAPI("mqq.app.isAppInstalled", ["tencentlaunch" + e.appId, function(e) {
                a.data.isSupportQuickLaunch = e,
                a.next()
            }
            ])
        }
        , function(e) {
            e.data.isSupportQuickLaunch ? n() : common.isIOS9(function(e) {
                t(e)
            })
        }
        ])
    }
    function launchForAndroid(e, a, o) {
        ctrl([function(a) {
            a.data.remoteLaunchVersion = -1,
            void 0 != e.launchVersion && "" != e.launchVersion && (a.data.remoteLaunchVersion = parseInt(e.launchVersion)),
            a.next()
        }
        , function(a) {
            a.data.localVersion = -1,
            exports.getVersion(e.pkgName, function(e) {
                0 == e.result && (a.data.localVersion = e.data),
                a.next()
            })
        }
        , function(o) {
            var n;
            if (-1 == o.data.remoteLaunchVersion || -1 == o.data.localVersion || o.data.localVersion < o.data.remoteLaunchVersion)
                a.push(ticketMap.OPID);
            else {
                n = e.tickets.split(",");
                for (var t = 0; t < n.length; t++)
                    a.push(ticketMap[n[t]] || "")
            }
            o.next()
        }
        , function(n) {
            var t = {};
            t.appID = e.appId,
            t.flag = "536870912",
            t.packageName = e.pkgName,
            t.paramsStr = a.join("&"),
            common._invokeByCommonAPI("mqq.app.launchAppWithTokens", [t], function(e) {
                return 0 == e.result ? void o(e) : void ((1 == e.result || 2 == e.result) && n.next())
            })
        }
        , function(a) {
            e.openId ? common._invokeByCommonAPI("QQApi.startAppWithPkgNameAndOpenId", [e.pkgName, e.openId], function(e) {
                e && 0 != e.result ? a.next() : o(e)
            }) : common._invokeByCommonAPI("QQApi.startAppWithPkgName", [e.pkgName], function(e) {
                e && 0 != e.result ? a.next() : o(e)
            })
        }
        , function() {
            $(document).ready(function() {
                common._invokeByCommonAPI("x5mtt.runApk", [JSON.stringify({
                    packagename: e.pkgName
                })], function(e) {
                    o(e)
                })
            })
        }
        ])
    }
    function getDownloaderVersion(e) {
        var a = arguments.callee;
        a.json ? e(a.json) : process.lockNext("q_download.getDownloadVersion", "jsBridge/app/getDownloaderVersion", function(o) {
            e(a.json = o)
        }, function(e) {
            common._invokeByCommonAPI("q_download.getDownloadVersion", [function(a) {
                e({
                    result: 0,
                    data: a
                })
            }
            ], function(a) {
                a && 0 !== a.result && e({
                    result: 0,
                    data: 0
                })
            })
        })
    }
    function registerQzoneApiEvent(event, callback) {
        var cache = arguments.callee;
        cache.isInit || (window.Downloader = {},
        window.QzoneApp = {
            fire: function(eventId, queryData) {
                if ("object" != typeof queryData && (queryData = eval("(" + queryData + ")")),
                eventId && queryData)
                    if ("interface.getQueryDownloadAction" == eventId && "function" == typeof window.Downloader.callbackFunc) {
                        if (!queryData.data)
                            return;
                        window.Downloader.callbackFunc(queryData.data, !0)
                    } else if ("interface.getQueryDownloadActionByVia" == eventId && "function" == typeof window.Downloader.viaCallbackFunc) {
                        if (!queryData.data)
                            return;
                        window.Downloader.viaCallbackFunc(queryData.data, !0)
                    } else if ("interface.checkUpdate" == eventId && "function" == typeof window.Downloader.updateCallbackFunc) {
                        if (!queryData.data)
                            return;
                        window.Downloader.updateCallbackFunc(queryData.data)
                    } else if ("loadProcess" == eventId) {
                        if ($.isArray(queryData))
                            for (var data = [], i = 0; i < queryData.length; i++)
                                data.push({
                                    pkgName: queryData[i].packagename || "",
                                    state: queryData[i].state || 0,
                                    progress: queryData[i].pro || 0
                                });
                        else
                            var data = [{
                                pkgName: queryData.packagename || "",
                                state: queryData.state || 0,
                                progress: queryData.pro || 0
                            }];
                        exports.triggerChangeListener({
                            result: 0,
                            data: data
                        })
                    }
            }
        },
        cache.isInit = !0),
        window.Downloader[event] = callback
    }
    function _startDownload(e, a) {
        report.reportDownloadToAchievement(e.appId);
        var o = exports
          , n = function(e) {
            return "10001" == e ? "http://imgcache.qq.com/vipstyle/icon/pcGame/Cf.png" : "http://download.wegame.qq.com/gc/formal/common/" + e + "/thumImg.png"
        }
        ;
        switch (common.getClient()) {
        case "iphoneqq":
            if (!e.url)
                return;
            if (-1 != e.url.indexOf("itunes.apple.com")) {
                var t = /.*id(\d+)[$|?]?/.exec(e.url)
                  , r = t ? t[1] : 0;
                getCookieUin()
            }
            if (r) {
                var i = {
                    appid: r,
                    url: e.url
                };
                common._invokeByCommonAPI("mqq.app.downloadApp", [JSON.stringify(i)], function(a) {
                    a && 0 == a.result || (location.href = e.url)
                })
            } else
                location.href = e.url;
            break;
        case "androidqq":
            getDownloaderVersion(function(t) {
                isSamsungS6(function(r) {
                    if (t && t.data && 1 != e.downloadChannel && !r) {
                        var i = {
                            appid: String(e.appId),
                            iconUrl: n(e.appId),
                            url: e.url,
                            packageName: e.pkgName,
                            actionCode: 2,
                            via: "ANDROIDQQ.GAME.DETAIL",
                            appName: e.appName || e.gameName,
                            myAppConfig: 2,
                            notifyKey: "N_" + e.appId,
                            updateData: "",
                            updateType: "0",
                            wording: e.wording || "",
                            myAppId: e.yybAppId || "",
                            apkId: e.yybApkId || "",
                            versionCode: e.yybVersionCode || "",
                            isAutoDownload: 1,
                            showNotification: 1,
                            isAutoInstall: 1,
                            toPageType: e.target || 1,
                            sourceType: 2
                        };
                        o.isInstalled(e.pkgName, function(n) {
                            n && 0 == n.result && n.data ? o.checkUpdate(e.pkgName, function(o) {
                                o && o.data && (2 == o.data || 4 == o.data.updateMethod) ? common._invokeByCommonAPI("q_download.doDownloadAction", [JSON.stringify($.extend(!0, i, {
                                    actionCode: 12,
                                    updateData: {
                                        packageName: o.data.pkgName,
                                        newapksize: o.data.newApkSize,
                                        patchsize: o.data.patchSize,
                                        updatemethod: o.data.updateMethod,
                                        versioncode: o.data.versionCode,
                                        versionname: o.data.versionName,
                                        fileMd5: o.data.fileMd5,
                                        sigMd5: o.data.sigMd5,
                                        url: o.data.url
                                    }
                                }))], function(o) {
                                    o && 0 !== o.result && a(o, e)
                                }) : common._invokeByCommonAPI("q_download.doDownloadAction", [JSON.stringify(i)], function(o) {
                                    o && 0 !== o.result && a(o, e)
                                })
                            }) : common._invokeByCommonAPI("q_download.doDownloadAction", [JSON.stringify(i)], function(o) {
                                o && 0 !== o.result && a(o, e)
                            })
                        })
                    } else
                        common._invokeByCommonAPI("q_download.doGCDownloadAction", [JSON.stringify({
                            appid: String(e.appId),
                            iconUrl: n(e.appId),
                            url: e.url,
                            packageName: e.pkgName,
                            actionCode: 2,
                            via: "ANDROIDQQ.GAME.DETAIL",
                            appName: e.appName || e.gameName,
                            myAppConfig: "0",
                            notifyKey: e.appId,
                            versionCode: e.yybVersionCode || "",
                            dType: 0,
                            actionType: 900,
                            gf: "gf",
                            from: "gamecenter"
                        })], function(a) {
                            a && 0 !== a.result && (location.href = e.url)
                        })
                })
            });
            break;
        default:
            a({
                result: 4,
                message: "no support"
            })
        }
    }
    function isSamsungS6(e) {
        common._invokeByCommonAPI("mqq.device.getDeviceInfo", [], function(a) {
            if (a && 0 == a.result && a.data && a.data.model) {
                var o = a.data.model;
                e && e(/^SM-G92\d{2}$/.test(o))
            } else
                e && e(!1)
        })
    }
    var $ = require("lib/zepto")
      , ctrl = require("lib/ctrl")
      , common = require("jsBridge/common")
      , process = require("util/process")
      , cookie = require("util/cookie")
      , user = require("business/userInfo")
      , report = require("business/report")
      , getCookieUin = function() {
        var e = cookie("uin");
        return e ? (e = /^o(\d+)$/.exec(e),
        e && (e = new Number(e[1]) + 0) > 1e4 ? e : 0) : 0
    }
      , ticketMap = {
        OPID: "openid=$OPID$",
        AT: "atoken=$AT$",
        PT: "ptoken=$PT$",
        PF: "pfkey=$PF$",
        ESK: "skey=$ESK$"
    };
    exports.launch = function(e, a) {
        report.reportLaunchToAchievement(e.appId),
        e.openId ? setTimeout(function() {
            launch(e, a)
        }, 40) : user.getOpenId(e.appId, function(o) {
            0 == o.result && o.data ? (e.openId = o.data[e.appId],
            launch(e, a)) : launch(e, a)
        }, function() {
            launch(e, a)
        })
    }
    ,
    exports.isInstalled = function(e, a) {
        var o = e;
        return $.isArray(o) || (o = [o]),
        0 == o.length ? (a({
            result: -1,
            message: "params error"
        }),
        !1) : void common.isIOS9(function(n) {
            return n ? (a({
                result: 0,
                data: {}
            }),
            !1) : void setTimeout(function() {
                common._invokeByCommonAPI("mqq.app.isAppInstalledBatch", [o, function(n) {
                    for (var t = {}, r = 0, i = o.length; i > r; r++)
                        t[o[r]] = n && 1 == n[r];
                    a(o !== e ? {
                        result: 0,
                        data: t[e]
                    } : {
                        result: 0,
                        data: t
                    })
                }
                ], function(n) {
                    if (0 != n.result)
                        if ("undefined" != typeof x5mtt && "function" == typeof x5mtt.isApkInstalled) {
                            for (var t = {}, r = 0; r < o.length; r++)
                                t[o[r]] = 1 == x5mtt.isApkInstalled('{"packagename":"' + o[r] + '"}');
                            a(o !== e ? {
                                result: 0,
                                data: t[e]
                            } : {
                                result: 0,
                                data: t
                            })
                        } else
                            a(n)
                })
            }, 0)
        })
    }
    ,
    exports.checkUpdate = function(e, a) {
        if ("androidqq" == common.getClient()) {
            var o = e;
            if ($.isArray(o) || (o = [o]),
            0 == o.length)
                return a({
                    result: -1,
                    message: "params error"
                }),
                !1;
            process.lockMultiple("q_download.checkUpdate", "jsBridge/app/checkUpdate", function(n) {
                if (n && 0 == n.result && n.data) {
                    for (var t = {}, r = 0, i = o.length; i > r; r++)
                        n.data[r] && (t[o[r]] = {
                            pkgName: n.data[r].packageName,
                            newApkSize: n.data[r].newapksize,
                            patchSize: n.data[r].patchsize,
                            updateMethod: n.data[r].updatemethod,
                            versionCode: n.data[r].versioncode,
                            versionName: n.data[r].versionname,
                            fileMd5: n.data[r].fileMd5,
                            sigMd5: n.data[r].sigMd5,
                            url: n.data[r].url
                        });
                    o !== e ? a({
                        result: 0,
                        data: t[e]
                    }, e) : a({
                        result: 0,
                        data: t
                    }, e)
                } else
                    a(n, e)
            }, function(e) {
                registerQzoneApiEvent.call(this, "updateCallbackFunc", function(a) {
                    var o = a ? JSON.parse(a) : null ;
                    e({
                        result: 0,
                        data: o
                    })
                }),
                common._invokeByCommonAPI("q_download.checkUpdate", [JSON.stringify({
                    packageNames: o
                }), "1"], function(a) {
                    a && 0 == a.result || e(a)
                })
            })
        } else
            a({
                result: 4,
                message: "no support"
            })
    }
    ,
    exports.startDownload = function(e, a) {
        function o() {
            exports.launch(e, function(o) {
                n.launching[e.appId] || (n.launching[e.appId] = !0,
                setTimeout(function() {
                    n.launching[e.appId] = !1
                }, 1e3),
                o && !o.data && _startDownload(e, a))
            })
        }
        var n = arguments.callee;
        n.launching = {},
        common.isIOS9(function(n) {
            n ? o() : _startDownload(e, a)
        })
    }
    ;
    var changeCallback = [];
    exports.triggerChangeListener = function(e) {
        for (var a = 0, o = changeCallback.length; o > a; a++)
            changeCallback[a](e)
    }
    ;
    var _reportDownloadChannel = function() {
        var e = {};
        return function(a) {
            $.each(a, function(a, o) {
                e[o.appId] || 2 != o.state || 0 != o.progress || (e[o.appId] = !0,
                report.collect({
                    appId: o.appId,
                    business: 4,
                    page: 421,
                    operModule: 249,
                    moduleType: 24901,
                    operId: 201609,
                    locId: o.via,
                    objId: o.realDownloadChannel
                }))
            })
        }
    }();
    exports.registerChangeListener = function(e) {
        var a = arguments.callee
          , o = this;
        a.isInit || ("iphoneqq" === common.getClient() ? window.reloadGame = function() {
            o.triggerChangeListener({
                result: 1
            })
        }
         : (registerQzoneApiEvent.call(this, "changeCallbackFunc", function(e) {
            "object" != typeof e && (e = e ? JSON.parse(e) : !1);
            var a = {
                0: 1,
                1: 2
            };
            if ($.isArray(e))
                for (var n = [], t = 0; t < e.length; t++)
                    n.push({
                        appId: e[t].appid || 0,
                        pkgName: e[t].packagename || "",
                        via: e[t].via || "",
                        realDownloadChannel: "undefined" != typeof e[t].realDownloadType ? a[e[t].realDownloadType] : 0,
                        state: e[t].state || 0,
                        progress: e[t].pro || 0
                    });
            else
                var n = [{
                    appId: e.appid || 0,
                    pkgName: e.packagename || "",
                    via: e.via || "",
                    realDownloadChannel: "undefined" != typeof e.realDownloadType ? a[e.realDownloadType] : 0,
                    state: e.state || 0,
                    progress: e.pro || 0
                }];
            _reportDownloadChannel(n),
            o.triggerChangeListener({
                result: 0,
                data: n
            })
        }),
        common._invokeByCommonAPI("q_download.registerDownloadCallBackListener", ["window.Downloader.changeCallbackFunc"], function() {})),
        a.isInit = !0),
        changeCallback.push(e)
    }
    ,
    exports.getDownloadInfo = function(e, a) {
        var o = e;
        return $.isArray(o) || (o = [o]),
        0 == o.length ? (a({
            result: -1,
            message: "params error"
        }),
        !1) : void getDownloaderVersion(function(n) {
            if (n && n.data)
                process.lockMultiple("q_download.getQueryDownloadAction", "jsBridge/app/getDownloadInfo", function(n) {
                    if (n && 0 == n.result) {
                        for (var t = {}, r = 0, i = n.data && n.data.length || 0; i > r; r++)
                            t[n.data[r].appid] = {
                                state: n.data[r].state,
                                progress: n.data[r].pro
                            };
                        for (var p = {}, r = 0, i = o.length; i > r; r++)
                            p[o[r].appId] = o[r].appId in t ? {
                                state: t[o[r].appId].state || 0,
                                progress: t[o[r].appId].progress || 0
                            } : {
                                state: 0,
                                progress: 0
                            };
                        o !== e ? a({
                            result: 0,
                            data: p[e.appId]
                        }, e) : a({
                            result: 0,
                            data: p
                        }, e)
                    } else
                        a(n, e)
                }, function(e) {
                    registerQzoneApiEvent.call(this, "callbackFunc", function(a) {
                        e({
                            result: 0,
                            data: a
                        })
                    });
                    for (var a = [], t = 0, r = o.length; r > t; t++)
                        a.push({
                            appid: o[t].appId,
                            myAppId: o[t].yybAppId,
                            apkId: o[t].yybApkId,
                            versionCode: o[t].yybVersionCode,
                            packageName: o[t].pkgName
                        });
                    3 == n.data ? common._invokeByCommonAPI("q_download.getQueryDownloadAction", [JSON.stringify({
                        infolist: a,
                        guid: 1
                    })], function(a) {
                        a && 0 == a.result || e(a)
                    }) : common._invokeByCommonAPI("q_download.getQueryDownloadAction", [JSON.stringify(a), "1"], function(a) {
                        a && 0 == a.result || e(a)
                    })
                });
            else {
                for (var t = [], r = 0, i = o.length; i > r; r++)
                    t.push(o[r].appId);
                common._invokeByCommonAPI("q_download.getQueryDownloadAction", [JSON.stringify(t), !1], function(n) {
                    if (n && 0 === n.result) {
                        for (var r = n.data ? JSON.parse(n.data) || [] : [], i = {}, p = 0, d = r.length; d > p; p++)
                            i[r[p].appid] = {
                                state: r[p].state,
                                progress: r[p].pro
                            };
                        for (var s = {}, p = 0, d = t.length; d > p; p++)
                            s[o[p].appId] = o[p].appId in i ? {
                                state: i[o[p].appId].state || 0,
                                progress: i[o[p].appId].progress || 0
                            } : {
                                state: 0,
                                progress: 0
                            };
                        o !== e ? a({
                            result: 0,
                            data: s[e.appId]
                        }, e) : a({
                            result: 0,
                            data: s
                        }, e)
                    } else
                        a(n, e)
                })
            }
        })
    }
    ,
    exports.getDownloadInfoByVia = function(e, a) {
        e = e || "ANDROIDQQ.GAME.DETAIL",
        process.lockMultiple("q_download.getQueryDownloadActionByVia", "jsBridge/app/getDownloadInfoByVia", function(e) {
            if (e && 0 == e.result) {
                for (var o = {}, n = 0, t = e.data && e.data.length || 0; t > n; n++)
                    o[e.data[n].appid] = {
                        state: e.data[n].state,
                        progress: e.data[n].pro
                    };
                a({
                    result: 0,
                    data: o
                })
            } else
                a(e)
        }, function(a) {
            registerQzoneApiEvent.call(this, "viaCallbackFunc", function(e) {
                a({
                    result: 0,
                    data: e
                })
            }),
            common._invokeByCommonAPI("q_download.getQueryDownloadActionByVia", [JSON.stringify({
                via: e,
                guid: 1
            })], function(e) {
                e && 0 == e.result || a(e)
            })
        })
    }
    ,
    exports.deleteDownload = function(e, a) {
        return e ? void process.lockMultiple("q_download.deleteDownload", "jsBridge/app/deleteDownload", function(e) {
            console.log("deleteDownload" + JSON.stringify(e)),
            a(e && 0 == e.result ? {
                result: 0,
                data: e.data
            } : e)
        }, function(a) {
            common._invokeByCommonAPI("q_download.deleteDownload", [String(e), "_" + String(e)], function(e) {
                console.log("q_download.deleteDownload:" + JSON.stringify(e)),
                e && 0 == e.result || a(e)
            })
        }) : void a({
            result: 0
        })
    }
    ,
    exports.goToDownloadTaskList = function(e, a) {
        e = e || "ANDROIDQQ.GAME.DETAIL",
        common._invokeByCommonAPI("qqZoneAppList.goToDownloadTaskList", [JSON.stringify({
            via: e,
            guid: 1
        })], function(e) {
            e && 0 == e.result || a(e)
        })
    }
    ,
    exports.stopDownload = function(e, a) {
        switch (common.getClient()) {
        case "iphoneqq":
            window.open(e.url),
            a({
                result: 0
            });
            break;
        case "androidqq":
            getDownloaderVersion(function(o) {
                if (o && o.data) {
                    var n = {
                        appid: e.appId,
                        url: e.url,
                        packageName: e.pkgName,
                        actionCode: 3,
                        via: "ANDROIDQQ.GAME.DETAIL",
                        appName: e.appName,
                        myAppConfig: "2",
                        notifyKey: "N_" + e.appId,
                        updateData: "",
                        updateType: "0",
                        myAppId: e.yybAppId || "",
                        apkId: e.yybApkId || "",
                        versionCode: e.yybVersionCode || "",
                        isAutoDownload: "1",
                        showNotification: 1,
                        isAutoInstall: "1",
                        toPageType: e.target || 1,
                        sourceType: "2"
                    };
                    common._invokeByCommonAPI("q_download.doDownloadAction", [JSON.stringify(n)], function(e) {
                        a(e)
                    })
                } else
                    common._invokeByCommonAPI("q_download.doDownloadAction", [JSON.stringify({
                        appid: e.appId,
                        url: e.url,
                        packageName: e.pkgName,
                        actionCode: 3,
                        via: e.source || "ANDROIDQQ.GAME.DETAIL",
                        appName: e.appName,
                        notifyKey: e.appId,
                        dType: 0,
                        actionType: 900,
                        gf: "gf",
                        from: "gamecenter"
                    })], function(e) {
                        a(e)
                    })
            });
            break;
        default:
            a({
                result: 4,
                message: "no support"
            })
        }
    }
    ,
    exports.install = function(e, a) {
        switch (common.getClient()) {
        case "iphoneqq":
            window.open(e.url),
            a({
                result: 0
            });
            break;
        case "androidqq":
            getDownloaderVersion(function(o) {
                if (o && o.data && 1 != e.downloadChannel) {
                    var n = {
                        appid: e.appId,
                        url: e.url,
                        packageName: e.pkgName,
                        actionCode: 5,
                        via: e.source || "ANDROIDQQ.GAME.DETAIL",
                        appName: e.appName,
                        myAppConfig: "2",
                        notifyKey: "N_" + e.appId,
                        updateData: "",
                        updateType: "0",
                        myAppId: e.yybAppId || "",
                        apkId: e.yybApkId || "",
                        versionCode: e.yybVersionCode || "",
                        isAutoDownload: "1",
                        isAutoInstall: "1",
                        toPageType: e.target || 1,
                        sourceType: "2"
                    };
                    common._invokeByCommonAPI("q_download.doDownloadAction", [JSON.stringify(n)], function(e) {
                        a(e)
                    })
                } else
                    common._invokeByCommonAPI("q_download.doDownloadAction", [JSON.stringify({
                        appid: e.appId,
                        url: e.url,
                        packageName: e.pkgName,
                        actionCode: 5,
                        via: e.source || "ANDROIDQQ.GAME.DETAIL",
                        appName: e.appName,
                        notifyKey: e.appId,
                        dType: 0,
                        actionType: 900,
                        gf: "gf",
                        from: "gamecenter"
                    })], function(e) {
                        a(e)
                    })
            });
            break;
        default:
            a({
                result: 4,
                message: "no support"
            })
        }
    }
    ,
    exports.getVersion = function(e, a) {
        var o = e;
        $.isArray(o) || (o = [e]),
        common._invokeByCommonAPI("QQApi.getAppsVerionCodeBatch", [o.join("|"), function(n) {
            for (var t = n.split("|"), r = {}, i = 0, p = o.length; p > i; i++)
                r[o[i]] = t[i];
            a(o !== e ? {
                result: 0,
                data: r[e]
            } : {
                result: 0,
                data: r
            })
        }
        ], function(o) {
            0 != o.result && a(o, e)
        })
    }
    ,
    exports.rob = function(e, a) {
        var o = {};
        o.appid = e.appId + "",
        o.myAppid = e.yybAppId || "0",
        o.apkId = e.yybApkId || "",
        o.versionCode = e.yybVersionCode || "",
        o.via = e.via || "ANDROIDQQ.GAME.DETAIL",
        o.appName = e.appName,
        o.appPackageName = e.pkgName || "",
        o.channelId = "6633",
        o.appAuthorizedStr = e.yybQhqqSlogan || "",
        "androidqq" == common.getClient() ? common._invokeByCommonAPI("GCApi.startToAuthorized", [JSON.stringify(o)], function(e) {
            a(e)
        }) : a({
            result: 4,
            message: "no support"
        })
    }
});
define("util/process", [], function(l, c) {
    var n = {};
    n.lockCount = {},
    n.callback = {},
    n.process = {},
    c.lockNext = function(l, c, o, t, u) {
        var a = "next&" + escape(c || "default") + "&" + escape(l);
        n.lockCount[a] ? (n.callback[a].push(o),
        n.lockCount[a]++) : (n.lockCount[a] = 1,
        n.callback[a] = [o],
        t.call(u || null , function() {
            for (var l = null ; l = n.callback[a].shift(); )
                l.apply(u || null , Array.prototype.slice.call(arguments, 0));
            n.lockCount[a] = 0
        }))
    }
    ,
    n.lockMultiple = function(l, c, o, t, u) {
        var a = "single&" + escape(o || "default") + "&" + escape(c);
        if (l && (n.lockCount[a] ? (n.lockCount[a]++,
        n.callback[a].push(t),
        n.process[a].push(u)) : (n.lockCount[a] = 1,
        n.callback[a] = [t],
        n.process[a] = [u])),
        !l || n.lockCount[a] <= 1) {
            var u = n.process[a].shift();
            "function" == typeof u && u.call(null , function() {
                n.lockCount[a]--;
                var l = n.callback[a].shift();
                "function" == typeof l && l.apply(null , Array.prototype.slice.call(arguments, 0)),
                n.lockMultiple(!1, c, o)
            })
        }
    }
    ,
    c.lockMultiple = function(l, c, o, t) {
        n.lockMultiple.call(this, !0, l, c, o, t)
    }
    ,
    c.lockResult = function(l, c) {
        var n = []
          , o = null ;
        o = c(function() {
            n.push(Array.prototype.slice.call(arguments, 0)),
            null  !== o && n.length >= o && (o = null ,
            l.apply(null , n))
        }),
        null  !== o && n.length >= o && (o = null ,
        l.apply(null , n))
    }
});
define("lib/ctrl", [], function(n, t, r) {
    var e, u, l, a, s, i, o = function(n, t) {
        return function() {
            return n.apply(t, arguments)
        }
    }
    ;
    l = function(n) {
        return Array.prototype.slice.call(n)
    }
    ,
    i = function(n) {
        return null  != n && Array.isArray(n)
    }
    ,
    u = {
        next: function(n, t) {
            var r;
            return n.steps = l(n.steps),
            r = -1,
            n.next = function() {
                var t;
                return r++,
                t = [n].concat(l(arguments)),
                r >= n.steps.length ? n.callback.apply(null , t) : n.steps[r].apply(null , t)
            }
            ,
            t()
        },
        spawn: function(n, t) {
            var r, e, u;
            return u = null ,
            r = function() {
                function n(n, t) {
                    this.callback = t,
                    this.spawn = o(this.spawn, this),
                    this.threadCount = -1,
                    this.returnedThreads = -1,
                    this.returnValues = {}
                }
                return n.prototype.spawn = function() {
                    var n;
                    return this.threadCount++,
                    n = this.threadCount,
                    function(t) {
                        return function() {
                            if (null  != t.returnValues[n])
                                throw "A spawn's callback can not be called multiple times!";
                            return t.returnValues[n] = function() {
                                switch (arguments.length) {
                                case 0:
                                    return null ;
                                case 1:
                                    return arguments[0];
                                default:
                                    return l(arguments)
                                }
                            }
                            .apply(t, arguments),
                            t.returnedThreads++,
                            t.checkIfAllReturned()
                        }
                    }(this)
                }
                ,
                n.prototype.checkIfAllReturned = function() {
                    return this.returnValues.length && this.returnedThreads === this.threadCount ? (this.callback.apply(null , l(this.returnValues)),
                    u = null ) : void 0
                }
                ,
                n.prototype.doneSpawning = function() {
                    return this.returnValues.length = this.threadCount + 1,
                    this.checkIfAllReturned()
                }
                ,
                n
            }(),
            e = n.next,
            n.spawn = function() {
                return u || (u = new r(n,e)),
                u.spawn()
            }
            ,
            n.next = function() {
                return null  === u ? e.apply(null , arguments) : u.doneSpawning()
            }
            ,
            t()
        },
        errorHandler: function(n, t) {
            var r;
            return n.options.errorHandler ? (r = n.next,
            n.next = function() {
                var t;
                try {
                    return r.apply(null , arguments)
                } catch (e) {
                    return t = e,
                    n.options.errorHandler(n, t)
                }
            }
            ,
            t()) : void t()
        },
        data: function(n, t) {
            return n.data = null  != n.options.data ? n.options.data : {},
            t()
        }
    },
    e = function() {
        function n(n) {
            this.builders = n,
            this.run = o(this.run, this),
            i(this.builders) || (this.builders = l(arguments))
        }
        return n.prototype.run = function(n, t, r) {
            var e, a, s;
            return null  == t && (t = {}),
            null  == r && (r = function() {}
            ),
            s = {
                steps: n,
                options: t,
                callback: r
            },
            u = l(this.builders),
            e = -1,
            (a = function() {
                return e++,
                e >= u.length ? s.next() : u[e](s, a)
            }
            )()
        }
        ,
        n
    }(),
    a = new e(u.next,u.spawn,u.data,u.errorHandler),
    s = a.run,
    s.builders = u,
    s.defaultCtrlRunner = a,
    s.CtrlRunner = e,
    "undefined" == typeof r ? window.ctrl = s : r.exports = s
});
define("business/mqqShare", [], function(e, n) {
    var i = n
      , t = {}
      , r = "http://pub.idqqimg.com/qqmobile/qqapi.js?_bid=152"
      , a = navigator.userAgent
      , u = 3
      , o = 5;
    t.mqqObj = window.mqq,
    t.wxObj = window.WeixinJSBridge,
    t.eventQueue = [],
    t.paramQueue = [],
    t.getEnvironment = function() {
        var e = {
            1: /.*(Android).*/,
            2: /.*(iPad|iPhone|iPod).*/
        }
          , n = {
            1: /(iPad|iPhone|iPod).*? (IPad)?QQ\/([\d\.]+)|\bV1_AND_SQI?_([\d\.]+)(.*? QQ\/([\d\.]+))?/,
            2: /.*(MicroMessenger).*/,
            3: /.*(Qzone).*/
        };
        for (var i in e)
            e[i].test(a) && (u = i);
        if (3 != u) {
            o = 4;
            for (var i in n)
                if (n[i].test(a)) {
                    o = i;
                    break
                }
        }
    }
    ,
    t.loadJsBridge = function() {
        var e = this;
        if (1 == o) {
            if (e.mqqObj)
                return;
            var n = document.createElement("script");
            n.src = r,
            n.addEventListener("load", e.onloadJsBridgeEvent),
            document.body.appendChild(n)
        } else if (2 == o) {
            if (e.wxObj)
                return;
            document.addEventListener("WeixinJSBridgeReady", e.onloadJsBridgeEvent)
        }
    }
    ,
    t.onloadJsBridgeEvent = function() {
        var e = t
          , n = e.eventQueue.length;
        if (1 == o ? e.mqqObj = window.mqq : e.wxObj = window.WeixinJSBridge,
        n > 0) {
            for (var r = 0; n > r; r++)
                e.eventQueue[r].apply(i, e.paramQueue[r] || []);
            e.eventQueue = [],
            e.paramQueue = []
        }
    }
    ,
    t.addEventToQueue = function(e, n) {
        t.eventQueue.push(e),
        t.paramQueue.push(n)
    }
    ,
    n.getEnvironmentType = function(e) {
        return "function" == typeof e && e(o),
        o
    }
    ,
    n.getSystemType = function(e) {
        return "function" == typeof e && e(u),
        u
    }
    ,
    n.getQQVersion = function() {
        return t.mqqObj ? t.mqqObj.QQVersion : void t.addEventToQueue(arguments.callee, arguments)
    }
    ,
    n.compareQQVersion = function(e) {
        return t.mqqObj ? t.mqqObj.compare(e) : void t.addEventToQueue(arguments.callee, arguments)
    }
    ,
    n.setQQShare = function(e, n) {
        if (!t.mqqObj)
            return void t.addEventToQueue(arguments.callee, arguments);
        var i = {
            title: e.title || "",
            desc: e.desc || "",
            share_type: e.shareType || 0,
            share_url: e.shareUrl || "",
            image_url: e.imageUrl || "",
            back: e.back || !1,
            shareElement: e.shareElement || "news",
            flash_url: e.flashUrl || "",
            puin: 2747277822,
            sourceName: "QQ手游",
            appid: e.appid,
            toUin: e.toUin || "",
            uinType: e.uinType || 0
        };
        t.mqqObj.ui.shareMessage(i, n)
    }
    ,
    n.setOnQQShareHandler = function(e) {
        return t.mqqObj ? void t.mqqObj.ui.setOnShareHandler(e) : void t.addEventToQueue(arguments.callee, arguments)
    }
    ,
    n.setWxShare = function(e, n) {
        function i(e) {
            t.wxObj.invoke(e, r, n)
        }
        if (!t.wxObj)
            return void t.addEventToQueue(arguments.callee, arguments);
        var r = {
            appid: e.appid,
            img_url: e.imageUrl,
            img_width: e.imageWidth + "" || "640",
            img_height: e.imageHeight + "" || "640",
            link: e.shareUrl,
            desc: e.desc || "",
            title: e.title || ""
        };
        t.wxObj.on("menu:share:appmessage", function() {
            (1 == e.shareType || 3 == e.shareType) && i("sendAppMessage")
        }),
        t.wxObj.on("menu:share:timeline", function() {
            (2 == e.shareType || 3 == e.shareType) && i("shareTimeline")
        })
    }
    ,
    n.setDefaultActionButton = function() {
        var e = n.getQQVersion();
        "5.2" >= e || t.mqqObj && t.mqqObj.ui.setActionButton && t.mqqObj.ui.setActionButton({
            title: "分享",
            hidden: !1,
            iconID: 4
        })
    }
    ,
    t.getEnvironment(),
    t.loadJsBridge()
});
define("util/h5Data", ["jsBridge/common"], function(e, t) {
    function n(e, t, n) {
        var a = d++;
        n = n || f,
        i._invokeByCommonAPI("mqq.data.writeH5Data", [{
            callid: a,
            path: u,
            key: e,
            data: JSON.stringify(t)
        }, function(e) {
            e && "undefined" != typeof e.ret && (e.result = e.ret,
            delete e.ret),
            e && "undefined" != typeof e.response && (e.data = e.response,
            delete e.response),
            n(e)
        }
        ], function(e) {
            e && 0 != e.result && n(e)
        })
    }
    function a(e, t) {
        var n = d++;
        t = t || f,
        i._invokeByCommonAPI("mqq.data.readH5Data", [{
            callid: n,
            path: u,
            key: e
        }, function(e) {
            if (e && "undefined" != typeof e.ret && (e.result = e.ret,
            delete e.ret),
            e && "undefined" != typeof e.response)
                try {
                    e.response = e.response || {},
                    e.data = JSON.parse(e.response.data || "{}") || {},
                    delete e.response
                } catch (n) {
                    e.data = {}
                }
            t(e)
        }
        ], function(e) {
            e && 0 != e.result && t(e)
        })
    }
    function r(e) {
        var t = d++;
        i._invokeByCommonAPI("mqq.data.deleteH5Data", [{
            callid: t,
            path: u,
            key: o(e, "info")
        }, function(e) {
            if (e && "undefined" != typeof e.ret && (e.result = e.ret,
            delete e.ret),
            e && "undefined" != typeof e.response)
                try {
                    e.response = e.response || {},
                    e.data = JSON.parse(e.response.data || "{}") || {},
                    delete e.response
                } catch (t) {
                    e.data = {}
                }
        }
        ], function() {})
    }
    function o(e, t, n) {
        return escape(t || "normal") + "&" + escape(e) + (n ? "&" + escape(n) : "")
    }
    function s(e, t) {
        t = t || f;
        try {
            var n = d++;
            i._invokeByCommonAPI("mqq.data.readH5Data", [{
                callid: n,
                path: u,
                key: o(e, "info")
            }, function(e) {
                if (e && "undefined" != typeof e.ret && (e.result = e.ret,
                delete e.ret),
                e && "undefined" != typeof e.response)
                    try {
                        e.response = e.response || {},
                        e.data = JSON.parse(e.response.data || "{}") || {},
                        delete e.response
                    } catch (n) {
                        e.data = {}
                    }
                t(e)
            }
            ], function() {
                json && 0 != json.result && t(json)
            })
        } catch (a) {
            return 0
        }
    }
    var i = e("jsBridge/common")
      , u = "frd"
      , d = 0
      , f = function() {}
    ;
    t.get = function(e, t) {
        if (t = t || f,
        !e || !t)
            return {
                msg: "param error"
            };
        try {
            a(o(e, "info"), function(t) {
                var a = t.data || {};
                n(o(e, "info"), {
                    time: a && parseInt(a.time) || Date.now(),
                    count: (a && parseInt(a.count) || 0) + 1
                })
            }),
            a(o(e), function(e) {
                t(e && 0 == e.result ? e.data || {} : null )
            })
        } catch (r) {
            return t(null ),
            !1
        }
    }
    ,
    t.set = function(e, t) {
        if (!e)
            return {
                msg: "param error"
            };
        try {
            return n(o(e), t),
            n(o(e, "info"), {
                time: Date.now(),
                count: 0
            }),
            !0
        } catch (a) {
            return !1
        }
    }
    ,
    t.isExpired = function(e, t, n, a) {
        a = a || f,
        s(e, function(e) {
            if (e && 0 == e.result) {
                var r = e.data || {};
                a(r.time + 1e3 * t <= Date.now() || r.count >= n ? !0 : !1)
            } else
                a(!0)
        })
    }
    ,
    mqq.support("mqq.data.writeH5Data") || (a = function(e, t) {
        t = t || f;
        var n = JSON.parse(localStorage.getItem(e));
        t(n ? {
            result: 0,
            data: n
        } : {
            result: -5,
            data: null 
        })
    }
    ,
    n = function(e, t, n) {
        localStorage.setItem(e, JSON.stringify(t)),
        n && n({
            result: 0
        })
    }
    ,
    r = function(e) {
        localStorage.setItem(e, void 0)
    }
    )
});
</script>
<script type="text/javascript">

seajs.use("business/router", function(router) {
    router.ready(function(params, index) {
        index.init(params);
    }, "page/strategy_new/strategy_game.js")
});
</script>
</html>