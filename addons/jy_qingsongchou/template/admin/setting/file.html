{template 'common/header'}
{template 'admin/setting/tabs'}

<style>
  #qniu,#oss{
      display:none;
  }
</style>
<div class="panel panel-info">
    <div class="panel-heading">
        附件设置
    </div>
    <div class="panel-body">

        <form class="form-horizontal"  method="post">
            <input type="hidden" name="dopost" value="save_file">
            <input type="hidden" name="id" value="{php echo $this->sys['id']}">

            <div class="form-group">
                <label class="col-md-2 control-label">附件类型</label>
                <div class="col-md-10">
                    <label class="radio-inline">
                      <input type="radio" name="file_type" onclick='_show(0)' value="0" {if $this->sys['file_type']==0}checked{/if}>系统
                   </label>
                   <label class="radio-inline">
                     <input type="radio" name="file_type"  onclick='_show(1)' value="1" {if $this->sys['file_type']==1}checked{/if}>OSS
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="file_type"   onclick='_show(2)' value="2" {if $this->sys['file_type']==2}checked{/if}>七牛
                 </label>
                </div>
            </div>


            <!-- 七牛 -->
            <div id="qniu" {if $this->sys['file_type']==2}style="display:block;"{/if}>
              <div class="form-group">
                <label  class="col-md-2 control-label">七牛公钥</label>
                <div class="col-md-10">
                    <input type="text" class='form-control' name='qniu_access' value="{php echo $this->sys['qniu_access']}" placeholder="七牛公钥">
                </div>
              </div>
              <div class="form-group">
                <label  class="col-md-2 control-label">七牛私钥</label>
                <div class="col-md-10">
                    <input type="text" class='form-control' name='qniu_secret' value="{php echo $this->sys['qniu_secret']}" placeholder="七牛私钥">
                </div>
              </div>
              <div class="form-group">
                <label  class="col-md-2 control-label">七牛Bucket</label>
                <div class="col-md-10">
                    <input type="text" class='form-control' name='qniu_bucket' value="{php echo $this->sys['qniu_bucket']}" placeholder="七牛Bucket">
                </div>
              </div>
              <div class="form-group">
                <label  class="col-md-2 control-label">七牛自定义域名</label>
                <div class="col-md-10">
                    <input type="text" class='form-control' name='qniu_url' value="{php echo $this->sys['qniu_url']}" placeholder="七牛自定义域名">
                </div>
              </div>

            </div>
            <!-- oos -->

            <div id="oss" {if $this->sys['file_type']==1}style="display:block;"{/if}>
              <div class="form-group">
                <label  class="col-md-2 control-label">OSS公钥</label>
                <div class="col-md-10">
                    <input type="text" class='form-control' name='oss_access' placeholder="OSS公钥" value="{php echo $this->sys['oss_access']}">
                </div>
              </div>
              <div class="form-group">
                <label  class="col-md-2 control-label">OSS私钥</label>
                <div class="col-md-10">
                    <input type="text" class='form-control' name='oss_secret' placeholder="OSS私钥" value="{php echo $this->sys['oss_secret']}">
                </div>
              </div>
              <div class="form-group">
                <label  class="col-md-2 control-label">OSSBucket</label>
                <div class="col-md-10">
                    <input type="text" class='form-control' name='oss_bucket' placeholder="OSSBucket" value="{php echo $this->sys['oss_bucket']}">
                </div>
              </div>

            <div class="form-group">
              <label  class="col-md-2 control-label">ossEndpoint</label>
              <div class="col-md-10">
                  <input type="text" class='form-control' name='oss_endpoint' placeholder="oss域名" value="{php echo $this->sys['oss_endpoint']}">
              </div>
            </div>

              <div class="form-group">
                <label  class="col-md-2 control-label">oss域名</label>
                <div class="col-md-10">
                    <input type="text" class='form-control' name='oss_url' placeholder="oss域名" value="{php echo $this->sys['oss_url']}">
                </div>
              </div>

            </div>

            <div class="form-group">
                <div class="col-md-12 text-center">
                    提示:改附件存储设置，针对前端使用，微擎0.7新版后，<font color="red">在系统->附件设置->远程附件</font> 里面支持oss和7牛设置，请保存前端附件存储方式跟后台的存储方式相同。以免不必要的冲突.
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-12 text-right">
                    <button class="btn btn-info btn-sm" type='submit'>保存</button>
                </div>
            </div>

        </form>
    </div>
</div>

<script>
    function _show(type){
       switch (type) {
         case 0:
            $("#qniu").hide();
            $("#oss").hide();
           break;
         case 2:
           $("#qniu").show();
           $("#oss").hide();
           break;
         case 1:
             $("#qniu").hide();
             $("#oss").show();
             break;
       }
    }
</script>
