function getChineseSpell(e,t){var n,i,a,o="",r="";for(null==t&&(t=""),n=0;n<e.length;n++)if(e.charCodeAt(n)>=19968&&(a=strChinese.indexOf(e.charAt(n)),a>-1&&6763>a)){for(i=qswhSpell.length-1;i>0&&!(qswhSpell[i]<=a);i-=2);i>0&&(o+=qswhSpell[i-1]+t,r+=qswhSpell[i-1].substr(0,1)+t)}return new Array(o.substr(0,o.length-t.length),r)}function getShowLength(e,t,n,i){var a=getTextWidth("...",t,n);e=e.replace(/(^\s*)|(\s*$)/g,""),e=e.replace(/ +/g," ");for(var o=0,r=0,s=e.length,c=0;s>c&&(o+=getCharWidth(e.charAt(c),t,n),i>=o+a);c++)r++;return r==s?-1:r==s-1&&i>=o?-1:r}function getCharWidth(e,t,n){var i=1,a=0,o=MG_TEXT_WIDTH_CHAR_IDS[n];o||(o=MG_TEXT_WIDTH_CHAR_IDS.MYH,n="MYH");var r=o.indexOf(e);if(r>=0){i=MG_TEXT_WIDTH_FACTORS[n][r];var s=MG_TEXT_WIDTH_FIX[n].indexOf(e);s>=0&&(a=MG_TEXT_WIDTH_DELTA[n][s][t-12],void 0==a&&(a=0))}return Math.round(i*t)+a}function getTextWidth(e,t,n){e=e.replace(/(^\s*)|(\s*$)/g,""),e=e.replace(/ +/g," ");for(var i=0,a=e.length,o=0;a>o;o++)i+=getCharWidth(e.charAt(o),t,n);return i}function getFontName(e){var t=document.createElement("span");t.style.visibility="hidden",t.style.fontSize="50px",t.style.whiteSpace="nowrap",t.appendChild(document.createTextNode("~")),e.appendChild(t);var n=t.offsetWidth;switch(e.removeChild(t),n){case 37:return"MYH";case 41:return"VER";case 36:return"TAH";case 29:return"ARI";case 32:return"GEO";case 27:return"TIM";case 34:return"SEG"}return!1}function baseTypeCheck(e,t){var n=!1;switch((void 0===t||null===t)&&(t=""),e){case"string":n=""+t;break;case"number":n=parseInt(t,0),isNaN(n)&&(n=0);break;case"boolean":t&&(n=!0)}return n}function parseURL(e){var t=document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,query:t.search,params:function(){for(var e,n={},i=t.search.replace(/^\?/,"").split("&"),a=i.length,o=0;a>o;o++)i[o]&&(e=i[o].split("="),n[e[0]]=e[1]);return n}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}}function mkPy(e){var t="",n="",i="";if(e.length>0){for(var a=0;a<e.length;a++)cnReg.test(e.charAt(a))?(i=getChineseSpell(e.charAt(a)),t+=i[1],n+=i[0]):(t+=e.charAt(a).toLowerCase(),n+=e.charAt(a).toLowerCase());t=n.replace(/[^a-zA-Z0-9]/g,"")+";"+t.replace(/[^a-zA-Z0-9]/g,"")}return t}function mkMarkEval(e){var t=/\[(.+?)]\((.*?)\)/g,n=/^(file|gopher|news|nntp|telnet|http|ftp|https|ftps|sftp):\/\//;return e=mk_string.escapeHTML(mk_string.unescapeHTML(e)),e.replace(t,function(e,t,i){var a=$.trim(i).split(" ");return uriTest=!n.test(a[0]),newURI="",tmpTitle="",uriTest?e:(newURI=a[0].split("://"),newURI=newURI[0]+"://"+newURI[1],a[1]&&(tmpTitle="title="+JSON.stringify(a[1])),'<a href="'+newURI+'" target="_blank" '+tmpTitle+">"+t+'<img width="12" height="12" src="images/icon/externalLink.png"></a>')})}function uidMaker(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function _debug_out(e){return'<p style="margin-top:10px;background-color:#EFEEEF">'+e+"</p>"}function htmlStr(e){var t,n;return n=function(e){var t;return t="",0!==e.length&&(t=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")),t},t=function(e){var t;return t="",0!==e.length&&(t=e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/<br(\/)*>/gim,"\n")),t},n(t(e))}function mk_layout(e){var t=Math.min(window.screen.width,window.innerWidth),n="MYH",i=e.component;i.forEach(function(e){var i=[];if("basic_gender"===e.name||"id_radio"===e.name||"id_checkBox"===e.name){if("single"!==e.layout){e.value.forEach(function(e){e.input||i.push(parseInt(window.getTextWidth(e.name,14,n),0)+52)});for(var a=!1,o=3;o>1&&!a;o--)0===i.filter(function(e){return e>t/o-24}).length&&(e.layout="x-"+o+"l",a=!0);a||(e.layout="single")}}else"id_multiple"===e.name&&(e.title.indexOf("描述")>=0||e.title.indexOf("阐述")>=0)&&(e.size="textarea xxl")})}!function(e,t){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return t(e)}):t(e,!0)}(this,function(e,t){function n(t,n,i){e.WeixinJSBridge?WeixinJSBridge.invoke(t,a(n),function(e){r(t,e,i)}):d(t,i)}function i(t,n,i){e.WeixinJSBridge?WeixinJSBridge.on(t,function(e){i&&i.trigger&&i.trigger(e),r(t,e,n)}):i?d(t,i):d(t,n)}function a(e){return e=e||{},e.appId=I.appId,e.verifyAppId=I.appId,e.verifySignType="sha1",e.verifyTimestamp=I.timestamp+"",e.verifyNonceStr=I.nonceStr,e.verifySignature=I.signature,e}function o(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,"package":e["package"],paySign:e.paySign,signType:e.signType||"SHA1"}}function r(e,t,n){var i,a,o;switch(delete t.err_code,delete t.err_desc,delete t.err_detail,i=t.errMsg,i||(i=t.err_msg,delete t.err_msg,i=s(e,i,n),t.errMsg=i),n=n||{},n._complete&&(n._complete(t),delete n._complete),i=t.errMsg||"",I.debug&&!n.isInnerInvoke&&void 0,a=i.indexOf(":"),o=i.substring(a+1)){case"ok":n.success&&n.success(t);break;case"cancel":n.cancel&&n.cancel(t);break;default:n.fail&&n.fail(t)}n.complete&&n.complete(t)}function s(e,t){var n,i,a,o;if(t){switch(n=t.indexOf(":"),e){case m.config:i="config";break;case m.openProductSpecificView:i="openProductSpecificView";break;default:i=t.substring(0,n),i=i.replace(/_/g," "),i=i.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}),i=i.substring(0,1).toLowerCase()+i.substring(1),i=i.replace(/ /g,""),-1!=i.indexOf("Wcpay")&&(i=i.replace("Wcpay","WCPay")),a=h[i],a&&(i=a)}o=t.substring(n+1),"confirm"==o&&(o="ok"),"failed"==o&&(o="fail"),-1!=o.indexOf("failed_")&&(o=o.substring(7)),-1!=o.indexOf("fail_")&&(o=o.substring(5)),o=o.replace(/_/g," "),o=o.toLowerCase(),("access denied"==o||"no permission to execute"==o)&&(o="permission denied"),"config"==i&&"function not exist"==o&&(o="ok"),t=i+":"+o}return t}function c(e){var t,n,i,a;if(e){for(t=0,n=e.length;n>t;++t)i=e[t],a=m[i],a&&(e[t]=a);return e}}function d(e,t){if(!(!I.debug||t&&t.isInnerInvoke)){var n=h[e];n&&(e=n),void(t&&t._complete&&delete t._complete)}}function l(){if(!("6.0.2">k||C.systemType<0)){var e=new Image;C.appId=I.appId,C.initTime=x.initEndTime-x.initStartTime,C.preVerifyTime=x.preVerifyEndTime-x.preVerifyStartTime,S.getNetworkType({isInnerInvoke:!0,success:function(t){C.networkType=t.networkType;var n="https://open.weixin.qq.com/sdk/report?v="+C.version+"&o="+C.isPreVerifyOk+"&s="+C.systemType+"&c="+C.clientVersion+"&a="+C.appId+"&n="+C.networkType+"&i="+C.initTime+"&p="+C.preVerifyTime+"&u="+C.url;e.src=n}})}}function u(){return(new Date).getTime()}function p(t){v&&(e.WeixinJSBridge?t():g.addEventListener&&g.addEventListener("WeixinJSBridgeReady",t,!1))}function f(){S.invoke||(S.invoke=function(t,n,i){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,a(n),i)},S.on=function(t,n){e.WeixinJSBridge&&WeixinJSBridge.on(t,n)})}var m,h,g,_,b,v,w,y,k,x,C,I,T,D,S;return e.jWeixin?void 0:(m={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},h=function(){var e,t={};for(e in m)t[m[e]]=e;return t}(),g=e.document,_=g.title,b=navigator.userAgent.toLowerCase(),v=-1!=b.indexOf("micromessenger"),w=-1!=b.indexOf("android"),y=-1!=b.indexOf("iphone")||-1!=b.indexOf("ipad"),k=function(){var e=b.match(/micromessenger\/(\d+\.\d+\.\d+)/)||b.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),x={initStartTime:u(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},C={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:y?1:w?2:-1,clientVersion:k,url:encodeURIComponent(location.href)},I={},T={_completes:[]},D={state:0,res:{}},p(function(){x.initEndTime=u()}),S={config:function(e){I=e,d("config",e);var t=I.check===!1?!1:!0;p(function(){var e,i,a;if(t)n(m.config,{verifyJsApiList:c(I.jsApiList)},function(){T._complete=function(e){x.preVerifyEndTime=u(),D.state=1,D.res=e},T.success=function(){C.isPreVerifyOk=0},T.fail=function(e){T._fail?T._fail(e):D.state=-1};var e=T._completes;return e.push(function(){I.debug||l()}),T.complete=function(){for(var t=0,n=e.length;n>t;++t)e[t]();T._completes=[]},T}()),x.preVerifyStartTime=u();else{for(D.state=1,e=T._completes,i=0,a=e.length;a>i;++i)e[i]();T._completes=[]}}),I.beta&&f()},ready:function(e){0!=D.state?e():(T._completes.push(e),!v&&I.debug&&e())},error:function(e){"6.0.2">k||(-1==D.state?e(D.res):T._fail=e)},checkJsApi:function(e){var t=function(e){var t,n,i=e.checkResult;for(t in i)n=h[t],n&&(i[n]=i[t],delete i[t]);return e};n("checkJsApi",{jsApiList:c(e.jsApiList)},function(){return e._complete=function(e){if(w){var n=e.checkResult;n&&(e.checkResult=JSON.parse(n))}e=t(e)},e}())},onMenuShareTimeline:function(e){i(m.onMenuShareTimeline,{complete:function(){n("shareTimeline",{title:e.title||_,desc:e.title||_,img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareAppMessage:function(e){i(m.onMenuShareAppMessage,{complete:function(){n("sendAppMessage",{title:e.title||_,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){i(m.onMenuShareQQ,{complete:function(){n("shareQQ",{title:e.title||_,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){i(m.onMenuShareWeibo,{complete:function(){n("shareWeiboApp",{title:e.title||_,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){i(m.onMenuShareQZone,{complete:function(){n("shareQZone",{title:e.title||_,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},startRecord:function(e){n("startRecord",{},e)},stopRecord:function(e){n("stopRecord",{},e)},onVoiceRecordEnd:function(e){i("onVoiceRecordEnd",e)},playVoice:function(e){n("playVoice",{localId:e.localId},e)},pauseVoice:function(e){n("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){n("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){i("onVoicePlayEnd",e)},uploadVoice:function(e){n("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){n("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){n("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){n("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},function(){return e._complete=function(e){if(w){var t=e.localIds;t&&(e.localIds=JSON.parse(t))}},e}())},previewImage:function(e){n(m.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){n("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){n("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getNetworkType:function(e){var t=function(e){var t,n,i,a=e.errMsg;if(e.errMsg="getNetworkType:ok",t=e.subtype,delete e.subtype,t)e.networkType=t;else switch(n=a.indexOf(":"),i=a.substring(n+1)){case"wifi":case"edge":case"wwan":e.networkType=i;break;default:e.errMsg="getNetworkType:fail"}return e};n("getNetworkType",{},function(){return e._complete=function(e){e=t(e)},e}())},openLocation:function(e){n("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){e=e||{},n(m.getLocation,{type:e.type||"wgs84"},function(){return e._complete=function(e){delete e.type},e}())},hideOptionMenu:function(e){n("hideOptionMenu",{},e)},showOptionMenu:function(e){n("showOptionMenu",{},e)},closeWindow:function(e){e=e||{},n("closeWindow",{immediate_close:e.immediateClose||0},e)},hideMenuItems:function(e){n("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){n("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){n("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){n("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){e=e||{},n("scanQRCode",{needResult:e.needResult||0,scanType:e.scanType||["qrCode","barCode"]},function(){return e._complete=function(e){var t,n;y&&(t=e.resultStr,t&&(n=JSON.parse(t),e.resultStr=n&&n.scan_code&&n.scan_code.scan_result))},e}())},openProductSpecificView:function(e){n(m.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0},e)},addCard:function(e){var t,i,a,o,r=e.cardList,s=[];for(t=0,i=r.length;i>t;++t)a=r[t],o={card_id:a.cardId,card_ext:a.cardExt},s.push(o);n(m.addCard,{card_list:s},function(){return e._complete=function(e){var t,n,i,a=e.card_list;if(a){for(a=JSON.parse(a),t=0,n=a.length;n>t;++t)i=a[t],i.cardId=i.card_id,i.cardExt=i.card_ext,i.isSuccess=i.is_succ?!0:!1,delete i.card_id,delete i.card_ext,delete i.is_succ;e.cardList=a,delete e.card_list}},e}())},chooseCard:function(e){n("chooseCard",{app_id:I.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},function(){return e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e}())},openCard:function(e){var t,i,a,o,r=e.cardList,s=[];for(t=0,i=r.length;i>t;++t)a=r[t],o={card_id:a.cardId,code:a.code},s.push(o);n(m.openCard,{card_list:s},e)},chooseWXPay:function(e){n(m.chooseWXPay,o(e),e)}},t&&(e.wx=e.jWeixin=S),S)}),window.Modernizr=function(e,t,n){function i(e){m.cssText=e}function a(e,t){return typeof e===t}function o(){d.inputtypes=function(e){for(var i,a,o,r=0,s=e.length;s>r;r++)h.setAttribute("type",a=e[r]),i="text"!==h.type,i&&(h.value=g,h.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&h.style.WebkitAppearance!==n?(u.appendChild(h),o=t.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(h,null).WebkitAppearance&&0!==h.offsetHeight,u.removeChild(h)):/^(search|tel)$/.test(a)||(i=/^(url|email)$/.test(a)?h.checkValidity&&h.checkValidity()===!1:h.value!=g)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r,s,c="2.7.1",d={},l=!0,u=t.documentElement,p="modernizr",f=t.createElement(p),m=f.style,h=t.createElement("input"),g=":)",_=({}.toString,{}),b={},v=[],w=v.slice,y={}.hasOwnProperty;s=a(y,"undefined")||a(y.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return y.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=w.call(arguments,1),i=function(){if(this instanceof i){var a=function(){};a.prototype=t.prototype;var o=new a,r=t.apply(o,n.concat(w.call(arguments)));return Object(r)===r?r:o}return t.apply(e,n.concat(w.call(arguments)))};return i});for(var k in _)s(_,k)&&(r=k.toLowerCase(),d[r]=_[k](),v.push((d[r]?"":"no-")+r));return d.input||o(),d.addTest=function(e,t){if("object"==typeof e)for(var i in e)s(e,i)&&d.addTest(i,e[i]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,"undefined"!=typeof l&&l&&(u.className+=" "+(t?"":"no-")+e),d[e]=t}return d},i(""),f=h=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=b.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=_[e[h]];return t||(t={},g++,e[h]=g,_[g]=t),t}function o(e,n,i){if(n||(n=t),l)return n.createElement(e);i||(i=a(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():m.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!o.canHaveChildren||f.test(e)||o.tagUrn?o:i.frag.appendChild(o)}function r(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||a(e);for(var o=n.frag.cloneNode(),r=0,s=i(),c=s.length;c>r;r++)o.createElement(s[r]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return b.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(b,t.frag)}function c(e){e||(e=t);var i=a(e);return b.shivCSS&&!d&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||s(e,i),e}var d,l,u="3.7.0",p=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",g=0,_={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",d="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){d=!0,l=!0}}();var b={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:p.shivCSS!==!1,supportsUnknownElements:l,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:c,createElement:o,createDocumentFragment:r};e.html5=b,c(t)}(this,t),d._version=c,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(l?" js "+v.join(" "):""),d}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==g.call(e)}function a(e){return"string"==typeof e}function o(){}function r(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=_.shift();b=1,e?e.t?m(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):b=0}function c(e,n,i,a,o,c,d){function l(t){if(!f&&r(u.readyState)&&(v.r=f=1,!b&&s(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&m(function(){y.removeChild(u)},50);for(var i in T[n])T[n].hasOwnProperty(i)&&T[n][i].onload()}}var d=d||p.errorTimeout,u=t.createElement(e),f=0,g=0,v={t:i,s:n,e:o,a:c,x:d};1===T[n]&&(g=1,T[n]=[]),"object"==e?u.data=n:(u.src=n,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){l.call(this,g)},_.splice(a,0,v),"img"!=e&&(g||2===T[n]?(y.insertBefore(u,w?null:h),m(l,d)):T[n].push(u))}function d(e,t,n,i,o){return b=0,t=t||"j",a(e)?c("c"==t?x:k,e,t,this.i++,n,i,o):(_.splice(this.i++,0,e),1==_.length&&s()),this}function l(){var e=p;return e.loader={load:d,i:0},e}var u,p,f=t.documentElement,m=e.setTimeout,h=t.getElementsByTagName("script")[0],g={}.toString,_=[],b=0,v="MozAppearance"in f.style,w=v&&!!t.createRange().compareNode,y=w?f:h.parentNode,f=e.opera&&"[object Opera]"==g.call(e.opera),f=!!t.attachEvent&&!f,k=v?"object":f?"script":"img",x=f?"script":k,C=Array.isArray||function(e){return"[object Array]"==g.call(e)},I=[],T={},D={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,n,i,e=e.split("!"),a=I.length,o=e.pop(),r=e.length,o={url:o,origUrl:o,prefixes:e};for(n=0;r>n;n++)i=e[n].split("="),(t=D[i.shift()])&&(o=t(o,i));for(n=0;a>n;n++)o=I[n](o);return o}function r(e,a,o,r,s){var c=t(e),d=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(a&&(a=i(a)?a:a[e]||a[r]||a[e.split("/").pop().split("?")[0]]),c.instead?c.instead(e,a,o,r,s):(T[c.url]?c.noexec=!0:T[c.url]=1,o.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(i(a)||i(d))&&o.load(function(){l(),a&&a(c.origUrl,s,r),d&&d(c.origUrl,s,r),T[c.url]=2})))}function s(e,t){function n(e,n){if(e){if(a(e))n||(u=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}),r(e,u,t,0,d);else if(Object(e)===e)for(c in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(c)&&(!n&&!--s&&(i(u)?u=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}:u[c]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(p[c])),r(e[c],u,t,c,d))}else!n&&f()}var s,c,d=!!e.test,l=e.load||e.both,u=e.callback||o,p=u,f=e.complete||o;n(d?e.yep:e.nope,!!l),l&&n(l)}var c,d,u=this.yepnope.loader;if(a(e))r(e,0,u,0);else if(C(e))for(c=0;c<e.length;c++)d=e[c],a(d)?r(d,0,u,0):C(d)?p(d):Object(d)===d&&s(d,u);else Object(e)===e&&s(e,u)},p.addPrefix=function(e,t){D[e]=t},p.addFilter=function(e){I.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,i,a,c,d){var l,u,f=t.createElement("script"),a=a||p.errorTimeout;f.src=e;for(u in i)f.setAttribute(u,i[u]);n=d?s:n||o,f.onreadystatechange=f.onload=function(){!l&&r(f.readyState)&&(l=1,n(),f.onload=f.onreadystatechange=null)},m(function(){l||(l=1,n(1))},a),c?f.onload():h.parentNode.insertBefore(f,h)},e.yepnope.injectCss=function(e,n,i,a,r,c){var d,a=t.createElement("link"),n=c?s:n||o;a.href=e,a.rel="stylesheet",a.type="text/css";for(d in i)a.setAttribute(d,i[d]);r||(h.parentNode.insertBefore(a,h),m(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},!function(){function e(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(t,function(t){return e[t]||t}):this}}function t(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var n,i={version:"0.0.2B",templateRule:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g}};n=function(){return this||(0,eval)("this")}(),n.mkT=i,String.prototype.encodeHTML=e(),i.template=function(e){var n,a=i.templateRule,o={start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},r=0;skip=/$^/,e=("var out='"+e.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,"").replace(/'|\\/g,"\\$&").replace(a.interpolate||skip,function(e,n){return o.start+t(n)+o.end}).replace(a.conditional||skip,function(e,n,i){return n?i?"';}else if("+t(i)+"){out+='":"';}else{out+='":i?"';if("+t(i)+"){out+='":"';}out+='"}).replace(a.iterate||skip,function(e,i,a,o){return i?(r+=1,n=o||"i"+r,i=t(i),"';var arr"+r+"="+i+";if(arr"+r+"){var "+a+","+n+"=-1,l"+r+"=arr"+r+".length-1;while("+n+"<l"+r+"){"+a+"=arr"+r+"["+n+"+=1];out+='"):"';} } out+='"}).replace(a.evaluate||skip,function(e,n){return"';"+t(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+=");try{return new Function("formTemplate",e)}catch(s){throw"undefined"!=typeof console&&void 0,s}}}();var strChinese="啊阿吖嗄锕埃挨哎唉哀皑癌蔼矮艾碍爱隘捱嗳嗌嫒瑷暧砹锿霭鞍氨安俺按暗岸胺案谙埯揞犴庵桉铵鹌黯肮昂盎凹敖熬翱袄傲奥懊澳坳嗷岙廒遨媪骜獒聱螯鏊鳌鏖芭捌扒叭吧笆八疤巴拔跋靶把耙坝霸罢爸茇菝岜灞钯粑鲅魃白柏百摆佰败拜稗捭掰斑班搬扳般颁板版扮拌伴瓣半办绊阪坂钣瘢癍舨邦帮梆榜膀绑棒磅蚌镑傍谤蒡浜苞胞包褒剥薄雹保堡饱宝抱报暴豹鲍爆勹葆宀孢煲鸨褓龅杯碑悲卑北辈背贝钡倍狈备惫焙被陂邶蓓呗悖碚鹎褙鐾鞴奔苯本笨畚坌贲锛崩绷甭泵蹦迸嘣甏逼鼻比鄙笔彼碧蓖蔽毕毙毖币庇痹闭敝弊必辟壁臂避陛匕俾荜荸萆薜吡哔狴庳愎滗濞弼妣婢嬖璧畀铋秕裨筚箅篦舭襞跸髀鞭边编贬扁便变卞辨辩辫遍匾弁苄忭汴缏煸砭碥窆褊蝙笾鳊标彪膘表婊骠飑飙飚镖镳瘭裱鳔髟鳖憋别瘪蹩彬斌濒滨宾摈傧豳缤玢槟殡膑镔髌鬓兵冰柄丙秉饼炳病并禀邴摒疒玻菠播拨钵波博勃搏铂箔伯帛舶脖膊渤泊驳捕卜孛亳啵饽檗擘礴钹鹁簸趵跛踣哺补埠不布步簿部怖卟逋瓿晡钚钸醭擦礤猜裁材才财睬踩采彩菜蔡餐参蚕残惭惨灿骖璨粲黪苍舱仓沧藏操糙槽曹草艹嘈漕螬艚厕策侧册测刂恻岑涔层蹭噌插叉茬茶查碴搽察岔差诧嚓猹汊姹杈槎檫锸镲衩拆柴豺侪钗瘥虿搀掺蝉馋谗缠铲产阐颤冁谄蒇廛忏潺澶孱羼婵骣觇禅蟾躔昌猖场尝常长偿肠厂敞畅唱倡伥鬯苌菖徜怅惝阊娼嫦昶氅鲳超抄钞朝嘲潮巢吵炒怊晁焯耖车扯撤掣彻澈坼砗郴臣辰尘晨忱沉陈趁衬伧谌谶抻嗔宸琛榇碜龀撑称城橙成呈乘程惩澄诚承逞骋秤丞埕枨柽塍瞠铖铛裎蛏酲吃痴持匙池迟弛驰耻齿侈尺赤翅斥炽傺墀茌叱哧啻嗤彳饬媸敕眵鸱瘛褫蚩螭笞篪豉踟魑充冲虫崇宠茺忡憧铳舂艟抽酬畴踌稠愁筹仇绸瞅丑臭俦惆瘳雠初出橱厨躇锄雏滁除楚础储矗搐触处亍刍怵憷屮绌杵楮樗褚蜍蹰黜揣搋嘬膪踹川穿椽传船喘串舛遄巛氚钏舡疮窗幢床闯创怆吹炊捶锤垂陲棰槌春椿醇唇淳纯蠢莼鹑蝽戳绰啜辍踔龊疵茨磁雌辞慈瓷词此刺赐次呲祠鹚糍聪葱囱匆从丛苁淙骢琮璁枞凑楱辏腠粗醋簇促蔟徂猝殂蹙蹴蹿篡窜汆撺爨镩摧崔催脆瘁粹淬翠萃啐悴璀榱毳村存寸忖皴磋撮搓措挫错厝嵯脞锉矬痤鹾蹉搭达答瘩打大耷哒嗒怛妲疸褡笪靼鞑呆歹傣戴带殆代贷袋待逮怠埭甙岱迨骀绐玳黛耽担丹单郸掸胆旦氮但惮淡诞弹蛋亻儋卩萏啖澹殚赕眈瘅聃箪当挡党荡档谠凼菪宕砀裆刀捣蹈倒岛祷导到稻悼道盗叨帱忉氘纛德得的锝蹬灯登等瞪凳邓噔嶝戥磴镫簦堤低滴迪敌笛狄涤翟嫡抵底地蒂第帝弟递缔氐籴诋谛邸坻荻嘀娣柢棣觌砥碲睇镝羝骶嗲颠掂滇碘点典靛垫电佃甸店惦奠淀殿丶坫巅玷钿癜癫簟踮碉叼雕凋刁掉吊钓调铞貂鲷跌爹碟蝶迭谍叠垤堞揲喋牒瓞耋蹀鲽丁盯叮钉顶鼎锭定订仃啶玎腚碇町铤疔耵酊丢铥东冬董懂动栋侗恫冻洞垌咚岽峒夂氡胨胴硐鸫兜抖斗陡豆逗痘蔸窦蚪篼都督毒犊独读堵睹赌杜镀肚度渡妒芏嘟渎椟牍蠹笃髑黩端短锻段断缎椴煅簖堆兑队对怼憝碓镦墩吨蹲敦顿囤钝盾遁沌炖砘礅盹趸掇哆多夺垛躲朵跺舵剁惰堕咄哚沲缍铎裰踱蛾峨鹅俄额讹娥恶厄扼遏鄂饿噩谔垩苊莪萼呃愕阏婀轭腭锇锷鹗颚鳄诶恩蒽摁唔嗯而儿耳尔饵洱二贰佴迩珥铒鸸鲕发罚筏伐乏阀法珐垡砝藩帆番翻樊矾钒繁凡烦反返范贩犯饭泛蕃蘩幡犭梵攵燔畈蹯坊芳方肪房防妨仿访纺放邡枋钫舫鲂菲非啡飞肥匪诽吠肺废沸费芾狒悱淝妃绯榧腓斐扉镄痱蜚篚翡霏鲱芬酚吩氛分纷坟焚汾粉奋份忿愤粪偾瀵棼鲼鼢丰封枫蜂峰锋风疯烽逢冯缝讽奉凤俸酆葑唪沣砜佛否缶夫敷肤孵扶拂辐幅氟符伏俘服浮涪福袱弗甫抚辅俯釜斧脯腑府腐赴副覆赋复傅付阜父腹负富讣附妇缚咐匐凫郛芙苻茯菔拊呋幞怫滏艴孚驸绂绋桴赙祓砩黻黼罘稃馥蚨蜉蝠蝮麸趺跗鲋鳆噶嘎伽尬呷尕尜旮钆该改概钙盖溉丐陔垓戤赅干甘杆柑竿肝赶感秆敢赣坩苷尴擀泔淦澉绀橄旰矸疳酐冈刚钢缸肛纲岗港杠戆罡筻篙皋高膏羔糕搞镐稿告睾诰郜藁缟槔槁杲锆哥歌搁戈鸽胳疙割革葛格蛤阁隔铬个各鬲哿圪塥嗝纥搿膈硌镉袼虼舸骼给根跟亘茛哏艮耕更庚羹埂耿梗哽赓绠鲠工攻功恭龚供躬公宫弓巩汞拱贡共珙肱蚣觥钩勾沟苟狗垢构购够佝诟岣遘媾缑枸觏彀笱篝鞲辜菇咕箍估沽孤姑鼓古蛊骨谷股故顾固雇嘏诂菰崮汩梏轱牯牿臌毂瞽罟钴锢鸪痼蛄酤觚鲴鹘刮瓜剐寡挂褂卦诖呱栝胍鸹乖拐怪棺关官冠观管馆罐惯灌贯倌掼涫盥鹳鳏光广逛咣犷桄胱瑰规圭硅归龟闺轨鬼诡癸桂柜跪贵刽匦刿庋宄妫桧炅晷皈簋鲑鳜辊滚棍衮绲磙鲧锅郭国果裹过馘埚掴呙帼崞猓椁虢聒蜾蝈哈铪骸孩海氦亥害骇胲醢酣憨邯韩含涵寒函喊罕翰撼捍旱憾悍焊汗汉邗菡撖瀚晗焓顸颔蚶鼾夯杭航沆绗颃壕嚎豪毫郝好耗号浩蒿薅嗥嚆濠灏昊皓颢蚝呵喝荷菏核禾和何合盒貉阂河涸赫褐鹤贺诃劾壑嗬阖曷盍颌翮嘿黑嗨痕很狠恨哼亨横衡恒蘅珩桁轰哄烘虹鸿洪宏弘红黉訇讧荭蕻薨闳泓喉侯猴吼厚候后堠後逅瘊篌糇鲎骺呼乎忽瑚壶葫胡蝴狐糊湖弧虎唬护互沪户冱唿囫岵猢怙惚浒滹琥槲轷觳烀煳戽扈祜瓠鹄鹕鹱虍笏醐斛花哗华猾滑画划化话骅桦砉铧槐徊怀淮坏踝欢环桓还缓换患唤痪豢焕涣宦幻奂萑擐圜獾洹浣漶寰逭缳锾鲩鬟荒慌黄磺蝗簧皇凰惶煌晃幌恍谎隍徨湟潢遑璜肓癀蟥篁鳇灰挥辉徽恢蛔回毁悔慧卉惠晦贿秽会烩汇讳诲绘诙茴荟蕙咴喙隳洄浍彗缋珲晖恚虺蟪麾荤昏婚魂浑混诨馄阍溷豁活伙火获或惑霍货祸劐藿攉嚯夥钬锪镬耠蠖击圾基机畸稽积箕肌饥迹激讥鸡姬绩缉吉极棘辑籍集及急疾汲即嫉级挤几脊己蓟技冀季伎祭剂悸济寄寂计记既忌际妓继纪丌亟乩剞佶偈墼芨芰蒺蕺掎叽咭哜唧岌嵴洎屐骥畿玑楫殛戟戢赍觊犄齑矶羁嵇稷瘠虮笈笄暨跻跽霁鲚鲫髻麂嘉枷夹佳家加荚颊贾甲钾假稼价架驾嫁郏葭岬浃迦珈戛胛恝铗镓痂瘕袷蛱笳袈跏歼监坚尖笺间煎兼肩艰奸缄茧检柬碱硷拣捡简俭剪减荐槛鉴践贱见键箭件健舰剑饯渐溅涧建僭谏谫廴菅蒹搛囝湔蹇謇缣枧楗戋戬牮犍毽腱睑锏鹣裥笕翦趼踺鲣鞯僵姜将浆江疆蒋桨奖讲匠酱降茳洚绛缰犟礓耩糨豇蕉椒礁焦胶交郊浇骄娇嚼搅铰矫侥脚狡角饺缴绞剿教酵轿较叫窖佼僬艽茭挢噍徼姣纟敫皎鹪蛟糸醮跤鲛揭接皆秸街阶截劫节桔杰捷睫竭洁结解姐戒藉芥界借介疥诫届讦诘拮喈嗟婕孑桀碣疖颉蚧羯鲒骱巾筋斤金今津襟紧锦仅谨进靳晋禁近烬浸尽劲卺荩堇噤馑廑妗缙瑾槿赆觐钅衿矜荆兢茎睛晶鲸京惊精粳经井警景颈静境敬镜径痉靖竟竞净刭儆阱菁獍憬泾迳弪婧肼胫腈旌炯窘迥扃揪究纠玖韭久灸九酒厩救旧臼舅咎就疚僦啾阄柩桕鸠鹫赳鬏鞠拘狙疽居驹菊局咀矩举沮聚拒据巨具距踞锯俱句惧炬剧倨讵苣苴莒掬遽屦琚椐榘榉橘犋飓钜锔窭裾趄醵踽龃雎鞫捐鹃娟倦眷卷绢鄄狷涓桊蠲锩镌撅攫抉掘倔爵觉决诀绝厥劂谲矍蕨噘崛獗孓珏桷橛爝镢蹶觖均菌钧军君峻俊竣浚郡骏捃皲筠隽麇喀咖卡咯佧咔胩开揩楷凯慨剀垲蒈忾恺铠锎锴刊堪勘坎砍看侃莰阚戡龛瞰康慷糠扛抗亢炕伉闶钪考拷烤靠尻栲犒铐坷苛柯棵磕颗科壳咳可渴克刻客课嗑岢恪溘屙骒缂珂轲氪瞌钶锞稞疴窠颏蚵蝌髁肯啃垦恳裉坑吭铿空恐孔控倥崆箜抠口扣寇芤蔻叩眍筘枯哭窟苦酷库裤刳堀喾绔骷夸垮挎跨胯侉块筷侩快蒯郐哙狯脍宽款髋匡筐狂框矿眶旷况诓诳邝圹夼哐纩贶亏盔岿窥葵奎魁傀馈愧溃馗匮夔蒉揆喹喟悝愦逵暌睽聩蝰篑跬坤昆捆困悃阃琨锟醌鲲髡括扩廓阔蛞垃拉喇蜡腊辣啦剌邋旯砬瘌莱来赖崃徕涞濑赉睐铼癞籁蓝婪栏拦篮阑兰澜谰揽览懒缆烂滥岚漤榄斓罱镧褴琅榔狼廊郎朗浪莨蒗啷阆锒稂螂捞劳牢老佬姥酪烙涝唠崂栳铑铹痨耢醪勒乐仂叻泐鳓雷镭蕾磊累儡垒擂肋类泪羸诔嘞嫘缧檑耒酹棱楞冷塄愣厘梨犁黎篱狸离漓理李里鲤礼莉荔吏栗丽厉励砾历利傈例俐痢立粒沥隶力璃哩俪俚郦坜苈莅蓠藜呖唳喱猁溧澧逦娌嫠骊缡枥栎轹戾砺詈罹锂鹂疠疬蛎蜊蠡笠篥粝醴雳鲡鳢黧俩联莲连镰廉怜涟帘敛脸链恋炼练蔹奁潋濂琏楝殓臁裢裣蠊鲢粮凉梁粱良两辆量晾亮谅冫墚椋踉靓魉撩聊僚疗燎寥辽潦了撂镣廖料蓼尥嘹獠寮缭钌鹩列裂烈劣猎冽埒捩咧洌趔躐鬣琳林磷霖临邻鳞淋凛赁吝拎蔺啉嶙廪懔遴檩辚膦瞵粼躏麟玲菱零龄铃伶羚凌灵陵岭领另令酃苓呤囹泠绫柃棂瓴聆蛉翎鲮溜琉榴硫馏留刘瘤流柳六浏遛骝绺旒熘锍镏鹨鎏龙聋咙笼窿隆垄拢陇垅茏泷珑栊胧砻癃楼娄搂篓漏陋蒌喽嵝镂瘘耧蝼髅芦卢颅庐炉掳卤虏鲁麓碌露路赂鹿潞禄录陆戮垆撸噜泸渌漉逯璐栌橹轳辂辘氇胪镥鸬鹭簏舻鲈驴吕铝侣旅履屡缕虑氯律率滤绿偻捋闾榈膂稆褛峦挛孪滦卵乱脔娈栾鸾銮掠略锊抡轮伦仑沦纶论囵萝螺罗逻锣箩骡裸落洛骆络倮蠃荦摞猡泺漯珞椤脶镙瘰跞雒妈麻玛码蚂马骂嘛吗犸杩蟆埋买麦卖迈脉劢荬唛霾瞒馒蛮满蔓曼慢漫谩墁幔缦熳镘颟螨鳗鞔芒茫盲氓忙莽邙漭硭蟒猫茅锚毛矛铆卯茂冒帽貌贸袤茆峁泖瑁昴牦耄旄懋瞀蟊髦么麽玫枚梅酶霉煤没眉媒镁每美昧寐妹媚莓嵋猸浼湄楣镅鹛袂魅门闷们扪焖懑钔萌蒙檬盟锰猛梦孟勐甍瞢懵朦礞虻蜢蠓艋艨眯醚靡糜迷谜弥米秘觅泌蜜密幂芈谧蘼咪嘧猕汨宓弭脒祢敉縻麋棉眠绵冕免勉娩缅面沔渑湎腼眄黾苗描瞄藐秒渺庙妙喵邈缈杪淼眇鹋蔑灭咩蠛篾民抿皿敏悯闽苠岷闵泯缗玟珉愍鳘明螟鸣铭名命冥茗溟暝瞑酩谬缪摸摹蘑模膜磨摩魔抹末莫墨默沫漠寞陌谟茉蓦馍嫫嬷殁镆秣瘼耱貊貘谋牟某侔哞眸蛑蝥鍪拇牡亩姆母墓暮幕募慕木目睦牧穆仫坶苜呒沐毪钼拿哪呐钠那娜纳捺肭镎衲氖乃奶耐奈鼐艿萘柰南男难喃囡楠腩蝻赧囊攮囔馕曩挠脑恼闹淖孬垴呶猱瑙硇铙蛲呢讷馁内嫩能妮霓倪泥尼拟你匿腻逆溺伲坭猊怩昵旎睨铌鲵蔫拈年碾撵捻念廿埝辇黏鲇鲶娘酿鸟尿茑嬲脲袅捏聂孽啮镊镍涅乜陧蘖嗫颞臬蹑您恁柠狞凝宁拧泞佞咛甯聍牛扭钮纽拗狃忸妞脓浓农弄侬廾哝耨奴努怒弩胬孥驽女恧钕衄暖虐疟挪懦糯诺傩搦喏锘哦噢欧鸥殴藕呕偶沤讴怄瓯耦啪趴爬帕怕琶葩杷筢拍排牌徘湃派俳蒎哌攀潘盘磐盼畔判叛爿泮袢襻蟠蹒乓庞旁耪胖彷滂逄螃抛咆刨炮袍跑泡匏狍庖脬疱呸胚培裴赔陪配佩沛辔帔旆锫醅霈喷盆湓砰抨烹澎彭蓬棚硼篷膨朋鹏捧碰堋嘭怦蟛坯砒霹批披劈琵毗啤脾疲皮匹痞僻屁譬丕仳陴邳郫圮埤鼙芘擗噼庀淠媲纰枇甓睥罴铍癖蚍蜱貔篇偏片骗谝骈犏胼翩蹁飘漂瓢票剽莩嘌嫖缥殍瞟螵撇瞥丿苤氕拼频贫品聘拚姘嫔榀牝颦乒坪苹萍平凭瓶评屏俜冖娉枰鲆坡泼颇婆破魄迫粕剖叵鄱珀攴钋钷皤笸裒掊扑铺仆莆葡菩蒲埔朴圃普浦谱曝瀑匍噗溥濮璞氆镤镨蹼期欺栖戚妻七凄漆柒沏其棋奇歧畦崎脐齐旗祈祁骑起岂乞企启契砌器气迄弃汽泣讫亓圻芑芪荠萁萋葺蕲嘁屺岐汔淇骐绮琪琦杞桤槭耆祺憩碛颀蛴蜞綦綮蹊鳍麒掐恰洽葜髂牵扦钎铅千迁签仟谦乾黔钱钳前潜遣浅谴堑嵌欠歉倩佥阡芊芡茜荨掮岍悭骞搴褰缱椠肷愆钤虔箝枪呛腔羌墙蔷强抢戕嫱樯戗炝锖锵镪襁蜣羟跄橇锹敲悄桥瞧乔侨巧鞘撬翘峭俏窍劁诮谯荞峤愀憔缲樵硗跷鞒切茄且怯窃郄惬慊妾挈锲箧钦侵亲秦琴勤芹擒禽寝沁芩揿吣嗪噙溱檎锓螓衾青轻氢倾卿清擎晴氰情顷请庆苘圊檠磬蜻罄箐謦鲭黥琼穷邛茕穹蛩筇跫銎秋丘邱球求囚酋泅俅巯犰湫逑遒楸赇虬蚯裘糗鳅鼽趋区蛆曲躯屈驱渠取娶龋趣去匚诎劬蕖蘧岖衢阒璩觑氍朐祛磲鸲癯蛐蠼麴瞿黢圈颧权醛泉全痊拳犬券劝诠荃悛绻辁畎铨蜷筌鬈缺炔瘸却鹊榷确雀阕阙悫裙群逡然燃冉染苒蚺髯瓤壤攘嚷让禳穰饶扰绕荛娆桡惹热壬仁人忍韧任认刃妊纫仞荏饪轫稔衽扔仍日戎茸蓉荣融熔溶容绒冗嵘狨榕肜蝾揉柔肉糅蹂鞣茹蠕儒孺如辱乳汝入褥蓐薷嚅洳溽濡缛铷襦颥软阮朊蕊瑞锐芮蕤枘睿蚋闰润若弱偌箬撒洒萨卅仨脎飒腮鳃塞赛噻三叁伞散彡馓氵毵桑嗓丧搡磉颡搔骚扫嫂埽缫臊瘙鳋瑟色涩啬铯穑森僧莎砂杀刹沙纱傻啥煞唼歃铩痧裟霎鲨筛晒酾珊苫杉山删煽衫闪陕擅赡膳善汕扇缮讪鄯凵埏芟潸姗嬗骟膻钐疝蟮舢跚鳝墒伤商赏晌上尚裳垧绱殇熵觞梢捎稍烧芍勺韶少哨邵绍劭潲杓蛸筲艄奢赊蛇舌舍赦摄射慑涉社设厍佘猞滠畲麝砷申呻伸身深娠绅神沈审婶甚肾慎渗诜谂莘葚哂渖胂矧蜃糁声生甥牲升绳省盛剩胜圣嵊晟眚笙师失狮施湿诗尸虱十石拾时什食蚀实识史矢使屎驶始式示士世柿事拭誓逝势是嗜噬适仕侍释饰氏市恃室视试谥埘莳蓍弑饣轼贳炻礻铈螫舐筮豕鲥鲺收手首守寿授售受瘦兽狩绶艏蔬枢梳殊抒输叔舒淑疏书赎孰熟薯暑曙署蜀黍鼠属术述树束戍竖墅庶数漱恕丨倏塾菽摅忄沭澍姝纾毹腧殳秫刷耍唰摔衰甩帅蟀栓拴闩涮霜双爽孀谁水睡税吮瞬顺舜说硕朔烁蒴搠妁槊铄斯撕嘶思私司丝死肆寺嗣四伺似饲巳厮俟兕厶咝汜泗澌姒驷缌灬祀锶鸶耜蛳笥松耸怂颂送宋讼诵凇菘崧嵩忪悚淞竦搜艘擞叟薮嗖嗾馊溲飕瞍锼螋嗽苏酥俗素速粟僳塑溯宿诉肃夙谡蔌嗉愫涑簌觫稣酸蒜算狻虽隋随绥髓碎岁穗遂隧祟谇荽濉邃燧眭睢孙损笋荪狲飧榫隼蓑梭唆缩琐索锁所唢嗦嗍娑桫挲睃羧塌他它她塔獭挞蹋踏闼溻遢榻沓铊趿鳎胎苔抬台泰酞太态汰邰薹呔肽炱钛跆鲐坍摊贪瘫滩坛檀痰潭谭谈坦毯袒碳探叹炭郯昙忐钽锬镡覃汤塘搪堂棠膛唐糖倘躺淌趟烫傥帑饧溏瑭樘铴镗耥螗螳羰醣掏涛滔绦萄桃逃淘陶讨套鼗啕洮韬焘饕特忑慝铽藤腾疼誊滕梯剔踢锑提题蹄啼体替嚏惕涕剃屉倜扌悌逖绨缇鹈裼醍天添填田甜恬舔腆掭忝阗殄畋挑条迢眺跳佻苕祧窕蜩笤粜龆鲦髫贴铁帖萜餮厅听烃汀廷停亭庭挺艇莛葶婷梃蜓霆通桐酮瞳同铜彤童桶捅筒统痛冂佟僮仝茼嗵恸潼砼偷投头透钭骰凸秃突图徒途涂屠土吐兔堍荼菟钍酴湍团抟彖疃推颓腿蜕褪退忒煺吞屯臀氽饨暾豚拖托脱鸵陀驮驼椭妥拓唾乇佗坨庹沱柝柁橐砣箨酡跎鼍挖哇蛙洼娃瓦袜佤娲腽歪外崴豌弯湾玩顽丸烷完碗挽晚皖惋宛婉万腕剜芄莞菀纨绾琬脘畹蜿汪王亡枉网往旺望忘妄罔惘辋魍威巍微危韦违桅围唯惟为潍维苇萎委伟伪尾纬未蔚味畏胃喂魏位渭谓尉慰卫偎诿隈隗葳薇囗帏帷嵬猥猬闱沩洧涠逶娓玮韪軎炜煨痿艉鲔瘟温蚊文闻纹吻稳紊问刎亠阌汶璺雯嗡翁瓮蓊蕹挝蜗涡窝我斡卧握沃倭莴喔幄渥肟硪龌巫呜钨乌污诬屋无芜梧吾吴毋武五捂午舞伍侮坞戊雾晤物勿务悟误兀仵阢邬圬芴庑怃忤浯寤迕妩婺骛杌牾焐鹉鹜痦蜈鋈鼯昔熙析西硒矽晰嘻吸锡牺稀息希悉膝夕惜熄烯溪汐犀檄袭席习媳喜铣洗系隙戏细僖兮隰郗菥葸蓰奚唏徙饩阋浠淅屣嬉玺樨曦觋欷歙熹禊禧皙穸蜥螅蟋舄舾羲粞翕醯鼷瞎虾匣霞辖暇峡侠狭下厦夏吓狎遐瑕柙硖罅黠掀锨先仙鲜纤咸贤衔舷闲涎弦嫌显险现献县腺馅羡宪陷限线冼苋莶藓岘猃暹娴氙燹祆鹇痫蚬筅籼酰跣跹霰相厢镶香箱襄湘乡翔祥详想响享项巷橡像向象芗葙饷庠骧缃蟓鲞飨萧硝霄削哮嚣销消宵淆晓小孝校肖啸笑效哓崤潇逍骁绡枭枵筱箫魈楔些歇蝎鞋协挟携邪斜胁谐写械卸蟹懈泄泻谢屑偕亵勰燮薤撷獬廨渫瀣邂绁缬榭榍躞薪芯锌欣辛新忻心信衅囟馨昕歆鑫星腥猩惺兴刑型形邢行醒幸杏性姓陉荇擤悻硎兄凶胸匈汹雄熊芎休修羞朽嗅锈秀袖绣咻岫馐庥溴鸺貅髹墟戌需虚嘘须徐许蓄酗叙旭序畜恤絮婿绪续诩勖圩蓿洫溆顼栩煦盱胥糈醑轩喧宣悬旋玄选癣眩绚儇谖萱揎泫渲漩璇楦暄炫煊碹铉镟痃靴薛学穴雪血谑噱泶踅鳕勋熏循旬询寻驯巡殉汛训讯逊迅巽郇埙荀蕈薰峋徇獯恂洵浔彐曛窨醺鲟压押鸦鸭呀丫芽牙蚜崖衙涯雅哑亚讶伢垭揠岈迓娅琊桠氩砑睚痖疋焉咽阉烟淹盐严研蜒岩延言颜阎炎沿奄掩眼衍演艳堰燕厌砚雁唁彦焰宴谚验厣赝剡俨偃兖讠谳阽郾鄢菸崦恹闫湮滟妍嫣琰檐晏胭腌焱罨筵酽魇餍鼹殃央鸯秧杨扬佯疡羊洋阳氧仰痒养样漾徉怏泱炀烊恙蛘鞅邀腰妖瑶摇尧遥窑谣姚咬舀药要耀夭爻吆崾徭幺珧杳轺曜肴铫鹞窈繇鳐椰噎耶爷野冶也页掖业叶曳腋夜液靥谒邺揶晔烨铘一壹医揖铱依伊衣颐夷遗移仪胰疑沂宜姨彝椅蚁倚已乙矣以艺抑易邑屹亿役臆逸肄疫亦裔意毅忆义益溢诣议谊译异翼翌绎刈劓仡佚佾诒圯埸懿苡荑薏弈奕挹弋呓咦咿噫峄嶷猗饴怿怡悒漪迤驿缢殪轶贻欹旖熠眙钇镒镱痍瘗癔翊衤蜴舣羿翳酏黟茵荫因殷音阴姻吟银淫寅饮尹引隐印胤鄞垠堙茚吲喑狺夤洇氤铟瘾蚓霪龈英樱婴鹰应缨莹萤营荧蝇迎赢盈影颖硬映嬴郢茔荥莺萦蓥撄嘤膺滢潆瀛瑛璎楹媵鹦瘿颍罂哟唷拥佣臃痈庸雍踊蛹咏泳涌永恿勇用俑壅墉喁慵邕镛甬鳙饔幽优悠忧尤由邮铀犹油游酉有友右佑釉诱又幼迂卣攸侑莠莜莸尢呦囿宥柚猷牖铕疣蚰蚴蝣蝤鱿黝鼬淤于盂榆虞愚舆余俞逾鱼愉渝渔隅予娱雨与屿禹宇语羽玉域芋郁吁遇喻峪御愈欲狱育誉浴寓裕预豫驭禺毓伛俣谀谕萸蓣揄圄圉嵛狳饫馀庾阈鬻妪妤纡瑜昱觎腴欤於煜燠肀聿钰鹆鹬瘐瘀窬窳蜮蝓竽臾舁雩龉鸳渊冤元垣袁原援辕园员圆猿源缘远苑愿怨院垸塬芫掾沅媛瑗橼爰眢鸢螈箢鼋曰约越跃钥岳粤月悦阅龠哕瀹樾刖钺耘云郧匀陨允运蕴酝晕韵孕郓芸狁恽愠纭韫殒昀氲熨匝砸杂拶咂栽哉灾宰载再在崽甾咱攒暂赞瓒昝簪糌趱錾赃脏葬奘驵臧遭糟凿藻枣早澡蚤躁噪造皂灶燥唣责择则泽仄赜啧帻迮昃笮箦舴贼怎谮增憎曾赠缯甑罾锃扎喳渣札轧铡闸眨栅榨咋乍炸诈揸吒咤哳馇楂砟痄蚱齄摘斋宅窄债寨砦瘵瞻毡詹粘沾盏斩辗崭展蘸栈占战站湛绽谵搌旃樟章彰漳张掌涨杖丈帐账仗胀瘴障仉鄣幛嶂獐嫜璋蟑招昭找沼赵照罩兆肇召诏棹钊笊遮折哲蛰辙者锗蔗这浙谪摺柘辄磔鹧褶蜇赭珍斟真甄砧臻贞针侦枕疹诊震振镇阵圳蓁浈缜桢椹榛轸赈胗朕祯畛稹鸩箴蒸挣睁征狰争怔整拯正政帧症郑证诤峥徵钲铮筝芝枝支吱蜘知肢脂汁之织职直植殖执值侄址指止趾只旨纸志挚掷至致置帜峙制智秩稚质炙痔滞治窒卮陟郅埴芷摭帙忮彘咫骘栉枳栀桎轵轾贽胝膣祉祗黹雉鸷痣蛭絷酯跖踬踯豸觯中盅忠钟衷终种肿重仲众冢锺螽舯踵舟周州洲诌粥轴肘帚咒皱宙昼骤荮啁妯纣绉胄碡籀酎珠株蛛朱猪诸诛逐竹烛煮拄瞩嘱主著柱助蛀贮铸筑住注祝驻伫侏邾苎茱洙渚潴杼槠橥炷铢疰瘃竺箸舳翥躅麈抓爪拽专砖转撰赚篆啭馔颛桩庄装妆撞壮状丬椎锥追赘坠缀惴骓缒隹谆准肫窀捉拙卓桌琢茁酌啄着灼浊倬诼擢浞涿濯禚斫镯兹咨资姿滋淄孜紫仔籽滓子自渍字谘茈嵫姊孳缁梓辎赀恣眦锱秭耔笫粢趑觜訾龇鲻髭鬃棕踪宗综总纵偬腙粽邹走奏揍诹陬鄹辶驺鲰租足卒族祖诅阻组俎菹镞钻纂攥缵躜嘴醉最罪蕞尊遵撙樽鳟昨左佐柞做作坐座阝阼唑怍胙祚酢",qswhSpell=["a",0,"ai",5,"an",27,"ang",45,"ao",48,"ba",70,"bai",96,"ban",106,"bang",127,"bao",141,"bei",166,"ben",191,"beng",199,"bi",207,"bian",260,"biao",286,"bie",301,"bin",306,"bing",322,"bo",335,"bu",369,"ca",385,"cai",387,"can",398,"cang",409,"cao",414,"ce",424,"cen",431,"ceng",433,"cha",436,"chai",457,"chan",464,"chang",489,"chao",515,"che",528,"chen",536,"cheng",556,"chi",582,"chong",620,"chou",631,"chu",647,"chuai",676,"chuan",681,"chuang",694,"chui",701,"chun",709,"chuo",719,"ci",725,"cong",741,"cou",753,"cu",757,"cuan",767,"cui",774,"cun",788,"cuo",793,"da",807,"dai",823,"dan",843,"dang",870,"dao",881,"de",898,"deng",902,"di",915,"dia",952,"dian",953,"diao",978,"die",990,"ding",1006,"diu",1025,"dong",1027,"dou",1047,"du",1058,"duan",1082,"dui",1091,"dun",1099,"duo",1114,"e",1133,"ei",1163,"en",1164,"er",1169,"fa",1183,"fan",1193,"fang",1219,"fei",1235,"fen",1264,"feng",1284,"fo",1305,"fou",1306,"fu",1308,"ga",1388,"gai",1397,"gan",1408,"gang",1432,"gao",1444,"ge",1463,"gei",1494,"gen",1495,"geng",1501,"gong",1512,"gou",1531,"gu",1552,"gua",1592,"guai",1604,"guan",1607,"guang",1624,"gui",1631,"gun",1659,"guo",1666,"ha",1684,"hai",1686,"han",1695,"hang",1724,"hao",1730,"he",1749,"hei",1776,"hen",1779,"heng",1783,"hong",1791,"hou",1808,"hu",1823,"hua",1867,"huai",1880,"huan",1886,"huang",1914,"hui",1939,"hun",1977,"huo",1987,"ji",2007,"jia",2107,"jian",2142,"jiang",2212,"jiao",2234,"jie",2279,"jin",2321,"jing",2356,"jiong",2395,"jiu",2399,"ju",2425,"juan",2475,"jue",2489,"jun",2515,"ka",2531,"kai",2538,"kan",2551,"kang",2563,"kao",2573,"ke",2581,"ken",2616,"keng",2621,"kong",2624,"kou",2631,"ku",2640,"kua",2652,"kuai",2658,"kuan",2667,"kuang",2670,"kui",2686,"kun",2713,"kuo",2724,"la",2729,"lai",2741,"lan",2753,"lang",2775,"lao",2789,"le",2806,"lei",2812,"leng",2831,"li",2836,"lia",2911,"lian",2912,"liang",2938,"liao",2955,"lie",2976,"lin",2989,"ling",3014,"liu",3041,"long",3062,"lou",3079,"lu",3093,"lv",3134,"luan",3155,"lue",3166,"lun",3169,"luo",3177,"ma",3203,"mai",3215,"man",3225,"mang",3243,"mao",3253,"me",3278,"mei",3280,"men",3306,"meng",3313,"mi",3332,"mian",3360,"miao",3375,"mie",3390,"min",3395,"ming",3410,"miu",3422,"mo",3424,"mou",3454,"mu",3463,"na",3485,"nai",3496,"nan",3505,"nang",3514,"nao",3519,"ne",3532,"nei",3534,"nen",3536,"neng",3537,"ni",3538,"nian",3558,"niang",3571,"niao",3573,"nie",3579,"nin",3593,"ning",3595,"niu",3605,"nong",3613,"nou",3620,"nu",3621,"nv",3628,"nuan",3632,"nue",3633,"nuo",3635,"o",3643,"ou",3645,"pa",3656,"pai",3665,"pan",3674,"pang",3688,"pao",3697,"pei",3709,"pen",3724,"peng",3727,"pi",3745,"pian",3786,"piao",3796,"pie",3808,"pin",3813,"ping",3824,"po",3838,"pou",3855,"pu",3857,"qi",3881,"qia",3950,"qian",3955,"qiang",3997,"qiao",4017,"qie",4044,"qin",4056,"qing",4077,"qiong",4100,"qiu",4109,"qu",4131,"quan",4165,"que",4186,"qun",4197,"ran",4200,"rang",4207,"rao",4214,"re",4220,"ren",4222,"reng",4238,"ri",4240,"rong",4241,"rou",4256,"ru",4262,"ruan",4282,"rui",4285,"run",4293,"ruo",4295,"sa",4299,"sai",4306,"san",4311,"sang",4319,"sao",4325,"se",4334,"sen",4340,"seng",4341,"sha",4342,"shai",4358,"shan",4361,"shang",4393,"shao",4406,"she",4423,"shen",4441,"sheng",4467,"shi",4482,"shou",4546,"shu",4559,"shua",4606,"shuai",4609,"shuan",4614,"shuang",4618,"shui",4622,"shun",4626,"shuo",4630,"si",4639,"song",4673,"sou",4689,"su",4702,"suan",4724,"sui",4728,"sun",4746,"suo",4754,"ta",4770,"tai",4787,"tan",4804,"tang",4829,"tao",4855,"te",4872,"teng",4876,"ti",4881,"tian",4905,"tiao",4918,"tie",4933,"ting",4938,"tong",4954,"tou",4976,"tu",4982,"tuan",4998,"tui",5003,"tun",5011,"tuo",5018,"wa",5042,"wai",5052,"wan",5055,"wang",5082,"wei",5096,"wen",5155,"weng",5171,"wo",5176,"wu",5193,"xi",5246,"xia",5318,"xian",5338,"xiang",5384,"xiao",5413,"xie",5442,"xin",5479,"xing",5494,"xiong",5514,"xiu",5522,"xu",5539,"xuan",5571,"xue",5597,"xun",5608,"ya",5639,"yan",5668,"yang",5732,"yao",5757,"ye",5788,"yi",5810,"yin",5915,"ying",5947,"yo",5986,"yong",5988,"you",6013,"yu",6056,"yuan",6145,"yue",6179,"yun",6195,"za",6218,"zai",6223,"zan",6232,"zang",6242,"zao",6248,"ze",6263,"zei",6276,"zen",6277,"zeng",6279,"zha",6287,"zhai",6311,"zhan",6319,"zhang",6339,"zhao",6362,"zhe",6376,"zhen",6395,"zheng",6427,"zhi",6448,"zhong",6525,"zhou",6541,"zhu",6564,"zhua",6611,"zhuai",6613,"zhuan",6614,"zhuang",6623,"zhui",6631,"zhun",6641,"zhuo",6645,"zi",6665,"zong",6702,"zou",6712,"zu",6722,"zuan",6733,"zui",6738,"zun",6743,"zuo",6748],MG_TEXT_WIDTH_CHAR_IDS={
MYH:"·,.:;…N—abpcxdgqefhijlkmnuorstvwyzABCDEFGHIJKLMOQPRSTUVWXYZ`~^=+<>1234567890$!@#%&*()[]{}-_\\|?/'\" ",VER:"·abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ`~1234567890!#$%^&*()-=_+[]{}\\|,.<>?/:;'\" ",TAH:"·abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ`~1234567890!@#$%^&*()-=_+[]{}\\|,.<>?/:;'\" "},MG_TEXT_WIDTH_FACTORS={MYH:[.2415,.2415,.2415,.2415,.2415,.8139,.8139,1.0802,.5533,.6394,.6394,.5079,.5079,.6402,.6402,.6402,.5674,.3472,.6154,.2663,.2663,.2663,.5459,.9363,.6163,.6163,.6369,.3821,.4632,.373,.5252,.7891,.5286,.4921,.7032,.627,.6667,.7618,.55,.5318,.7436,.7734,.2945,.3962,.6351,.5136,.9773,.8147,.8147,.6121,.6528,.5781,.5732,.7461,.6766,1.0185,.6452,.6038,.6203,.2953,.7419,.7419,.7419,.7419,.7419,.7419,.5864,.5864,.5864,.5864,.5864,.5864,.5864,.5864,.5864,.5864,.5864,.3135,1.0314,.6385,.8892,.871,.4541,.3333,.3333,.3333,.3333,.3333,.3333,.4326,.4483,.4152,.2696,.483,.4285,.2564,.4359,.2968],VER:[.3631,.6005,.6237,.5211,.6237,.5964,.3524,.6237,.6328,.2763,.3441,.5917,.2763,.9732,.6328,.607,.6237,.6237,.4269,.5212,.3947,.6328,.5914,.8191,.5914,.5914,.5256,.684,.6852,.6998,.7709,.6328,.576,.775,.7527,.4205,.4541,.6915,.5569,.8429,.7452,.7874,.6034,.7874,.6952,.684,.6166,.7322,.684,.9975,.6857,.6162,.6857,.6369,.818,.6369,.6369,.6369,.6369,.6369,.6369,.6369,.6369,.6369,.6369,.3945,.8172,.6369,1.0761,.818,.727,.6374,.4541,.4541,.4555,.8171,.6369,.8171,.4541,.4541,.6351,.6351,.4541,.4549,.3631,.3631,.8171,.8171,.5459,.4541,.4541,.4541,.268,.4584,.3524],TAH:[.354,.5252,.5533,.4624,.5533,.5269,.3184,.5533,.5583,.2258,.2821,.4921,.2258,.8404,.5583,.5434,.5533,.5533,.3606,.4467,.3342,.5583,.4938,.7428,.4938,.4938,.4442,.602,.5897,.6005,.6782,.5608,.5211,.6658,.6749,.3724,.4177,.5875,.4921,.7709,.6658,.7083,.5517,.7083,.6203,.5576,.5851,.6559,.5975,.9021,.5806,.5769,.5591,.5459,.727,.5459,.5459,.5459,.5459,.5459,.5459,.5459,.5459,.5459,.5459,.3309,.9098,.727,.5459,.9762,.727,.6749,.5465,.383,.383,.3631,.727,.5459,.7262,.383,.383,.4821,.4821,.383,.3833,.3036,.3036,.727,.727,.4739,.383,.354,.354,.2115,.4003,.3135]},MG_TEXT_WIDTH_FIX={MYH:"E",VER:'abcdefgiklmopqrstwxzBCDFGHIKMNOPQRTUWY#%*-=+|<>"',TAH:"ceilmtvwxyABCDGHIKMNOQSTUVWY!%*+|"},MG_TEXT_WIDTH_DELTA={MYH:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]],TAH:[[0,0,1],[1],[-1,0,-1,-1],[-1,0,-1,-1],[0,0,0,0,1],[1],[0,0,1,1],[1,0,0,-1],[0,0,1,1],[0,0,1,1],[1,0,0,0,1,1],[0,-1,0,0,0,0,0,0,0,1],[0,0,1],[0,-1,1],[0,-1],[0,-1],[0,-1,-1],[0,-1],[0,0,-1],[0,-1],[1,0,0,0,1],[1,0,0,0,1],[0,1],[1,0,0,1,1],[0,-1,0,0,1],[1],[1,0,1],[1,0,0,1,1],[0,0,-1,-1,-1],[0,-1],[0,1],[-1,-1],[0,1]],VER:[[1],[1],[0,1],[1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1],[0,-1,-1,-1,1,0,0,1,0,0,0,0,-1,-1,0,0,1,1,1,0,0,0,0,-1,-1,0,0,1,1,1,0,0,0,0,-1,0,0,-1,1],[0,-1],[0,-1,-1,-1,1,0,0,1,0,0,0,0,-1,-1,0,0,1,1,1,0,0,0,0,-1,-1,0,0,1,1,1,0,0,0,0,-1,0,0,-1,1],[-1,-2,-1],[1,0,1,1],[1],[1],[0,-1],[1,0,1],[0,1],[1,0,0,1],[0,-1,1],[1,0,1,1],[0,-1],[1,0,0,1],[0,-1,0,-1],[0,1],[0,-1],[0,-1,-1],[0,0,-1,-1,0,1,0,0,0,-1,1,0,0,-1,0,0,1,1,0,0,0,-1,1,0,0,0,0,0,-1,1,0,0,0,-1,-1,1,1],[0,-1],[0,0,-1],[0,-1],[1],[1],[1],[0,-1],[0,1],[0,-1],[1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1],[0,1,0,0,1],[0,-1],[0,-1],[0,1],[0,1,1],[-1,-2],[-1,-2],[0,1],[-1,-2],[-1,-2],[0,-1]]};TINY={},TINY.box=function(){var e,t,n,i,a,o=0;return delet=$(this).closest(".deletMust"),{show:function(r){a={opacity:70,close:1,animate:1,fixed:1,mask:1,maskid:"",boxid:"",topsplit:2,url:0,post:0,height:0,width:0,html:0,iframe:0,modal:!1};for(s in r)a[s]=r[s];o?(e.style.display="none",clearTimeout(o.ah),i.v&&(o.removeChild(i),i.v=0)):(e=document.createElement("div"),e.className="tbox",o=document.createElement("div"),o.className="tinner",n=document.createElement("div"),n.className="tcontent",t=document.createElement("div"),t.className="tmask",i=document.createElement("div"),i.className="tclose",i.v=0,document.body.appendChild(t),document.body.appendChild(e),e.appendChild(o),o.appendChild(n),a.modal||(t.onclick=TINY.box.hide),i.onclick=TINY.box.hide,window.onresize=TINY.box.resize),o.id=a.boxid,t.id=a.maskid,e.style.position=a.fixed?"fixed":"absolute",a.html&&!a.animate?(o.style.backgroundImage="none",n.innerHTML=a.html,n.style.display="",o.style.width=a.width?a.width+"px":"auto"):(n.style.display="none",!a.animate&&a.width&&a.height?(o.style.width=a.width+"px",o.style.height=a.height+"px"):o.style.width=o.style.height="100px"),a.mask?(this.mask(),this.alpha(t,1,a.opacity)):this.alpha(e,1,100),a.autohide?o.ah=setTimeout(TINY.box.hide,1e3*a.autohide):document.onkeyup=TINY.box.esc},fill:function(e,t,n,i,r,s){if(t)if(a.image){var c=new Image;c.onload=function(){r=r||c.width,s=s||c.height,TINY.box.psh(c,i,r,s)},c.src=a.image}else if(a.iframe)this.psh('<iframe src="'+a.iframe+'" width="'+a.width+'" frameborder="0" height="'+a.height+'"></iframe>',i,r,s);else{var d=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");d.onreadystatechange=function(){4==d.readyState&&200==d.status&&(o.style.backgroundImage="",TINY.box.psh(d.responseText,i,r,s))},n?(d.open("POST",e,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send(n)):(d.open("GET",e,!0),d.send(null))}else this.psh(e,i,r,s)},psh:function(e,t,i,a){"object"==typeof e?n.appendChild(e):n.innerHTML=e;var r=o.style.width,s=o.style.height;i&&a||(o.style.width=i?i+"px":"",o.style.height=a?a+"px":"",n.style.display="",a||(a=parseInt(n.offsetHeight)),i||(i=parseInt(n.offsetWidth)),n.style.display="none"),o.style.width=r,o.style.height=s,this.size(i,a,t)},esc:function(e){a.modal||(e=e||window.event,27==e.keyCode&&TINY.box.hide())},hide:function(){TINY.box.alpha(e,-1,0,3),document.onkeypress=null,a.closejs&&a.closejs()},resize:function(){TINY.box.pos(),TINY.box.mask()},mask:function(){t.style.height=this.total(1)+"px",t.style.width=this.total(0)+"px"},pos:function(){var t;"undefined"!=typeof a.top?t=a.top:(t=this.height()/a.topsplit-e.offsetHeight/2,t=20>t?20:t),a.fixed||a.top||(t+=this.top()),e.style.top=t+"px",e.style.left="undefined"!=typeof a.left?a.left+"px":this.width()/2-e.offsetWidth/2+"px"},alpha:function(e,t,n){clearInterval(e.ai),t&&(e.style.opacity=0,e.style.filter="alpha(opacity=0)",e.style.display="block",TINY.box.pos()),e.ai=setInterval(function(){TINY.box.ta(e,n,t)},6)},ta:function(i,r,s){var c=Math.round(100*i.style.opacity);if(c==r)clearInterval(i.ai),-1==s?(i.style.display="none",i==e?TINY.box.alpha(t,-1,0,2):n.innerHTML=o.style.backgroundImage=""):i==t?this.alpha(e,1,100):(e.style.filter="",TINY.box.fill(a.html||a.url,a.url||a.iframe||a.image,a.post,a.animate,a.width,a.height));else{var d=r-Math.floor(.5*Math.abs(r-c))*s;i.style.opacity=d/100,i.style.filter="alpha(opacity="+d+")"}},size:function(e,t,r){if(r){clearInterval(o.si);var s=parseInt(o.style.width)>e?-1:1,c=parseInt(o.style.height)>t?-1:1;o.si=setInterval(function(){TINY.box.ts(e,s,t,c)},18)}else o.style.backgroundImage="none",a.close&&(o.appendChild(i),i.v=1),o.style.width=e+"px",o.style.height=t+"px",n.style.display="",this.pos(),a.openjs&&a.openjs()},ts:function(e,t,r,s){var c=parseInt(o.style.width),d=parseInt(o.style.height);c==e&&d==r?(clearInterval(o.si),o.style.backgroundImage="none",n.style.display="block",a.close&&(o.appendChild(i),i.v=1),a.openjs&&a.openjs()):(c!=e&&(o.style.width=e-Math.floor(.6*Math.abs(e-c))*t+"px"),d!=r&&(o.style.height=r-Math.floor(.6*Math.abs(r-d))*s+"px"),this.pos())},top:function(){return document.documentElement.scrollTop||document.body.scrollTop},width:function(){return self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function(){return self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},total:function(e){var t=document.body,n=document.documentElement;return e?Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.clientHeight,n.clientHeight)):Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.clientWidth,n.clientWidth))}}}(),!function(e){"use strict";e.Zebra_DatePicker=function(t,n){var i,a,o,r,s,c,d,l,u,p,f,m,h,g,_,b,v,w,y,k,x,C,I,T,D,S,F,$,A,N,M,E,O,P,B,R,j={always_visible:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,direction:0,disabled_dates:!1,enabled_dates:!1,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F,Y",months:"Y",years:"Y1 - Y2"},header_navigation:["&#171;","&#187;"],inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,offset:[5,-5],pair:!1,readonly_element:!0,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",is_birthday:!1,weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onSelect:null},L=this;L.settings={};var q=e(t),U=function(t){if(!t){L.settings=e.extend({},j,n),"m-d"===L.settings.format&&L.settings.is_birthday&&(L.settings.header_captions.days="M");for(var C in q.data())0===C.indexOf("zdp_")&&(C=C.replace(/^zdp\_/,""),void 0!==j[C]&&(L.settings[C]="pair"==C?e(q.data("zdp_"+C)):q.data("zdp_"+C)))}L.settings.readonly_element&&q.attr("readonly","readonly");var $={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"]},A=!1,N=!1,U=!1,H=null;for(H in $)e.each($[H],function(e,t){L.settings.format.indexOf(t)>-1&&("days"==H?A=!0:"months"==H?N=!0:"years"==H&&(U=!0))});M=A&&N&&U?["years","months","days"]:!A&&N&&U?["years","months"]:A||N||!U?A||!N||U?A&&N&&!U?["months","days"]:["years","months","days"]:["months"]:["years"],-1==e.inArray(L.settings.view,M)&&(L.settings.view=M[M.length-1]),x=[],k=[];for(var V,J=0;2>J;J++)V=0===J?L.settings.disabled_dates:L.settings.enabled_dates,e.isArray(V)&&V.length>0&&e.each(V,function(){for(var t=this.split(" "),n=0;4>n;n++){t[n]||(t[n]="*"),t[n]=t[n].indexOf(",")>-1?t[n].split(","):new Array(t[n]);for(var i=0;i<t[n].length;i++)if(t[n][i].indexOf("-")>-1){var a=t[n][i].match(/^([0-9]+)\-([0-9]+)/);if(null!==a){for(var o=ae(a[1]);o<=ae(a[2]);o++)-1==e.inArray(o,t[n])&&t[n].push(o+"");t[n].splice(i,1)}}for(i=0;i<t[n].length;i++)t[n][i]=isNaN(ae(t[n][i]))?t[n][i]:ae(t[n][i])}0===J?x.push(t):k.push(t)});var Y,Q,G=new Date,K=L.settings.reference_date?L.settings.reference_date:q.data("zdp_reference_date")&&void 0!==q.data("zdp_reference_date")?q.data("zdp_reference_date"):G;if(I=void 0,T=void 0,m=K.getMonth(),u=G.getMonth(),h=K.getFullYear(),p=G.getFullYear(),g=K.getDate(),f=G.getDate(),L.settings.direction===!0)I=K;else if(L.settings.direction===!1)T=K,F=T.getMonth(),S=T.getFullYear(),D=T.getDate();else if(!e.isArray(L.settings.direction)&&Z(L.settings.direction)&&ae(L.settings.direction)>0||e.isArray(L.settings.direction)&&((Y=z(L.settings.direction[0]))||L.settings.direction[0]===!0||Z(L.settings.direction[0])&&L.settings.direction[0]>0)&&((Q=z(L.settings.direction[1]))||L.settings.direction[1]===!1||Z(L.settings.direction[1])&&L.settings.direction[1]>=0))I=Y?Y:new Date(h,m,g+ae(e.isArray(L.settings.direction)?L.settings.direction[0]===!0?0:L.settings.direction[0]:L.settings.direction)),m=I.getMonth(),h=I.getFullYear(),g=I.getDate(),Q&&+Q>=+I?T=Q:!Q&&L.settings.direction[1]!==!1&&e.isArray(L.settings.direction)&&(T=new Date(h,m,g+ae(L.settings.direction[1]))),T&&(F=T.getMonth(),S=T.getFullYear(),D=T.getDate());else if(!e.isArray(L.settings.direction)&&Z(L.settings.direction)&&ae(L.settings.direction)<0||e.isArray(L.settings.direction)&&(L.settings.direction[0]===!1||Z(L.settings.direction[0])&&L.settings.direction[0]<0)&&((Y=z(L.settings.direction[1]))||Z(L.settings.direction[1])&&L.settings.direction[1]>=0))T=new Date(h,m,g+ae(e.isArray(L.settings.direction)?L.settings.direction[0]===!1?0:L.settings.direction[0]:L.settings.direction)),F=T.getMonth(),S=T.getFullYear(),D=T.getDate(),Y&&+T>+Y?I=Y:!Y&&e.isArray(L.settings.direction)&&(I=new Date(S,F,D-ae(L.settings.direction[1]))),I&&(m=I.getMonth(),h=I.getFullYear(),g=I.getDate());else if(e.isArray(L.settings.disabled_dates)&&L.settings.disabled_dates.length>0)for(var ne in x)if("*"==x[ne][0]&&"*"==x[ne][1]&&"*"==x[ne][2]&&"*"==x[ne][3]){var re=[];if(e.each(k,function(){var e=this;"*"!=e[2][0]&&re.push(parseInt(e[2][0]+("*"==e[1][0]?"12":ie(e[1][0],2))+("*"==e[0][0]?"*"==e[1][0]?"31":new Date(e[2][0],e[1][0],0).getDate():ie(e[0][0],2)),10))}),re.sort(),re.length>0){var ce=(re[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);h=parseInt(ce[1],10),m=parseInt(ce[2],10)-1,g=parseInt(ce[3],10)}break}if(X(h,m,g)){for(;X(h);)I?(h++,m=0):(h--,m=11);for(;X(h,m);)I?(m++,g=1):(m--,g=new Date(h,m+1,0).getDate()),m>11?(h++,m=0,g=1):0>m&&(h--,m=11,g=new Date(h,m+1,0).getDate());for(;X(h,m,g);)I?g++:g--,G=new Date(h,m,g),h=G.getFullYear(),m=G.getMonth(),g=G.getDate();G=new Date(h,m,g),h=G.getFullYear(),m=G.getMonth(),g=G.getDate()}var de=z(q.val()||(L.settings.start_date?L.settings.start_date:""));if(de&&L.settings.strict&&X(de.getFullYear(),de.getMonth(),de.getDate())&&q.val(""),t||oe(I),!L.settings.always_visible){if(!t){if(L.settings.show_icon){"firefox"==se.name&&q.is('input[type="text"]')&&"inline"==q.css("display")&&q.css("display","inline-block");var le=jQuery('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:q.css("display"),position:"static"==q.css("position")?"relative":q.css("position"),"float":q.css("float"),top:q.css("top"),right:q.css("right"),bottom:q.css("bottom"),left:q.css("left")});q.wrap(le).css({position:"relative",top:"auto",right:"auto",bottom:"auto",left:"auto"}),o=jQuery('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"==q.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),L.icon=o,E=o.add(q)}else E=q;E.bind("click",function(e){e.preventDefault(),q.attr("disabled")||("none"!=a.css("display")?L.hide():L.show())}),void 0!==o&&o.insertAfter(q)}if(void 0!==o){o.attr("style",""),L.settings.inside&&o.addClass("Zebra_DatePicker_Icon_Inside");var ue=q.outerWidth(),pe=q.outerHeight(),fe=parseInt(q.css("marginLeft"),10)||0,me=parseInt(q.css("marginTop"),10)||0,he=o.outerWidth(),ge=o.outerHeight(),_e=parseInt(o.css("marginLeft"),10)||0,be=parseInt(o.css("marginRight"),10)||0;o.css(L.settings.inside?{top:me+(pe-ge)/2,left:fe+(ue-he-be)}:{top:me+(pe-ge)/2,left:fe+ue+_e})}}if(B=L.settings.is_birthday?1==L.settings.show_select_today?'切换到"年-月-日"':'切换到"月-日"':L.settings.show_select_today!==!1&&e.inArray("days",M)>-1&&!X(p,u,f)?L.settings.show_select_today:!1,!t){e(window).bind("resize.Zebra_DatePicker",function(){L.hide(),void 0!==o&&(clearTimeout(R),R=setTimeout(function(){L.update()},100))});var ve='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">'+L.settings.header_navigation[0]+'</td><td class="dp_caption">&#032;</td><td class="dp_next">'+L.settings.header_navigation[1]+'</td></tr></table><table class="dp_daypicker"></table><table class="dp_monthpicker"></table><table class="dp_yearpicker"></table><table class="dp_footer"><tr><td class="dp_today"'+(L.settings.show_clear_date!==!1?' style="width:50%"':"")+">"+B+'</td><td class="dp_clear"'+(B!==!1?' style="width:50%"':"")+">"+L.settings.lang_clear_date+"</td></tr></table></div>";a=e(ve),L.datepicker=a,r=e("table.dp_header",a),s=e("table.dp_daypicker",a),c=e("table.dp_monthpicker",a),d=e("table.dp_yearpicker",a),P=e("table.dp_footer",a),O=e("td.dp_today",P),l=e("td.dp_clear",P),L.settings.always_visible?q.attr("disabled")||(L.settings.always_visible.append(a),L.show()):e("body").append(a),a.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)","mouseover",function(){e(this).addClass("dp_hover")}).delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)","mouseout",function(){e(this).removeClass("dp_hover")}),W(e("td",r)),e(".dp_previous",r).bind("click",function(){e(this).hasClass("dp_blocked")||("months"==i?b--:"years"==i?b-=12:--_<0&&(_=11,b--),ee())}),e(".dp_caption",r).bind("click",function(){"m-d"!==L.settings.format&&(i="days"==i?e.inArray("months",M)>-1?"months":e.inArray("years",M)>-1?"years":"days":"months"==i?e.inArray("years",M)>-1?"years":e.inArray("days",M)>-1?"days":"months":e.inArray("days",M)>-1?"days":e.inArray("months",M)>-1?"months":"years",ee())}),e(".dp_next",r).bind("click",function(){e(this).hasClass("dp_blocked")||("months"==i?b++:"years"==i?b+=12:12==++_&&(_=0,b++),ee())}),s.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","click",function(){L.settings.select_other_months&&null!==(ce=e(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?te(ce[1],ce[2]-1,ce[3],"days",e(this)):te(b,_,ae(e(this).html()),"days",e(this))}),c.delegate("td:not(.dp_disabled)","click",function(){var t=e(this).attr("class").match(/dp\_month\_([0-9]+)/);_=ae(t[1]),-1==e.inArray("days",M)?te(b,_,1,"months",e(this)):(i="days",L.settings.always_visible&&q.val(""),ee())}),d.delegate("td:not(.dp_disabled)","click",function(){b=ae(e(this).html()),-1==e.inArray("months",M)?te(b,1,1,"years",e(this)):(i="months",L.settings.always_visible&&q.val(""),ee())}),e(O).bind("click",function(t){t.preventDefault(),L.settings.is_birthday?(1===L.settings.show_select_today?(L.settings.format="Y-m-d",L.settings.header_captions.days="F,Y",L.settings.show_select_today=2,L.datepicker.find(".dp_today").text('切换到"月-日"')):2===L.settings.show_select_today&&(L.settings.format="m-d",L.settings.header_captions.days="M",L.settings.show_select_today=1,L.datepicker.find(".dp_today").text('切换到"年-月-日"')),L.update(),L.show()):(te(p,u,f,"days",e(".dp_current",s)),L.settings.always_visible&&L.show(),L.hide())}),e(l).bind("click",function(t){t.preventDefault(),q.val(""),L.settings.always_visible?(v=null,w=null,y=null,e("td.dp_selected",a).removeClass("dp_selected")):(v=null,w=null,y=null,_=null,b=null),L.hide(),L.settings.onClear&&"function"==typeof L.settings.onClear&&L.settings.onClear.call(q,q)}),L.settings.always_visible||e(document).bind({"mousedown.Zebra_DatePicker":function(t){if("block"==a.css("display")){if(L.settings.show_icon&&e(t.target).get(0)===o.get(0))return!0;0===e(t.target).parents().filter(".Zebra_DatePicker").length&&L.hide()}},"keyup.Zebra_DatePicker":function(e){"block"==a.css("display")&&27==e.which&&L.hide()}}),ee()}};L.destroy=function(){void 0!==L.icon&&L.icon.remove(),L.datepicker.remove(),e(document).unbind("keyup.Zebra_DatePicker"),e(document).unbind("mousedown.Zebra_DatePicker"),e(window).unbind("resize.Zebra_DatePicker"),q.removeData("Zebra_DatePicker")},L.hide=function(){L.settings.always_visible||(G("hide"),a.hide())},L.show=function(){i=L.settings.view;var t=z(q.val()||(L.settings.start_date?L.settings.start_date:""));if(t?(w=t.getMonth(),_=t.getMonth(),y=t.getFullYear(),b=t.getFullYear(),v=t.getDate(),X(y,w,v)&&(L.settings.strict&&q.val(""),_=m,b=h)):(_=m,b=h),ee(),L.settings.always_visible)a.show();else{var n=a.outerWidth(),r=a.outerHeight(),s=(void 0!==o?o.offset().left+o.outerWidth(!0):q.offset().left+q.outerWidth(!0))+L.settings.offset[0],c=(void 0!==o?o.offset().top:q.offset().top)-r+L.settings.offset[1],d=e(window).width(),l=e(window).height(),u=e(window).scrollTop(),p=e(window).scrollLeft();s+n>p+d&&(s=p+d-n),p>s&&(s=p),c+r>u+l&&(c=u+l-r),u>c&&(c=u),a.css({left:s,top:c}),a.fadeIn("explorer"==se.name&&se.version<9?0:150,"linear"),G()}},L.update=function(t){L.original_direction&&(L.original_direction=L.direction),L.settings=e.extend(L.settings,t),U(!0)};var z=function(t){if(t+="",""!==e.trim(t)){for(var n=H(L.settings.format),i=["d","D","j","l","N","S","w","F","m","M","n","Y","y"],a=[],o=[],r=null,s=null,c=0;c<i.length;c++)(r=n.indexOf(i[c]))>-1&&a.push({character:i[c],position:r});if(a.sort(function(e,t){return e.position-t.position}),e.each(a,function(e,t){switch(t.character){case"d":o.push("0[1-9]|[12][0-9]|3[01]");break;case"D":o.push("[a-z]{3}");break;case"j":o.push("[1-9]|[12][0-9]|3[01]");break;case"l":o.push("[a-z]+");break;case"N":o.push("[1-7]");break;case"S":o.push("st|nd|rd|th");break;case"w":o.push("[0-6]");break;case"F":o.push("[a-z]+");break;case"m":o.push("0[1-9]|1[012]+");break;case"M":o.push("[a-z]{3}");break;case"n":o.push("[1-9]|1[012]");break;case"Y":o.push("[0-9]{4}");break;case"y":o.push("[0-9]{2}")}}),o.length&&(a.reverse(),e.each(a,function(e,t){n=n.replace(t.character,"("+o[o.length-e-1]+")")}),o=new RegExp("^"+n+"$","ig"),s=o.exec(t))){var d,l=new Date,u=l.getDate(),p=l.getMonth()+1,f=l.getFullYear(),m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],g=!0;if(a.reverse(),e.each(a,function(t,n){if(!g)return!0;switch(n.character){case"m":case"n":p=ae(s[t+1]);break;case"d":case"j":u=ae(s[t+1]);break;case"D":case"l":case"F":case"M":d="D"==n.character||"l"==n.character?L.settings.days:L.settings.months,g=!1,e.each(d,function(e,i){if(g)return!0;if(s[t+1].toLowerCase()==i.substring(0,"D"==n.character||"M"==n.character?3:i.length).toLowerCase()){switch(n.character){case"D":s[t+1]=m[e].substring(0,3);break;case"l":s[t+1]=m[e];break;case"F":s[t+1]=h[e],p=e+1;break;case"M":s[t+1]=h[e].substring(0,3),p=e+1}g=!0}});break;case"Y":f=ae(s[t+1]);break;case"y":f="19"+ae(s[t+1])}}),g){var _=new Date(f,(p||1)-1,u||1);if(_.getFullYear()==f&&_.getDate()==(u||1)&&_.getMonth()==(p||1)-1)return _}}return!1}},W=function(e){"firefox"==se.name?e.css("MozUserSelect","none"):"explorer"==se.name?e.bind("selectstart",function(){return!1}):e.mousedown(function(){return!1})},H=function(e){return e.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},V=function(t){for(var n="",i=t.getDate(),a=t.getDay(),o=L.settings.days[a],r=t.getMonth()+1,s=L.settings.months[r-1],c=t.getFullYear()+"",d=0;d<L.settings.format.length;d++){var l=L.settings.format.charAt(d);switch(l){case"y":c=c.substr(2);case"Y":n+=c;break;case"m":r=ie(r,2);case"n":n+=r;break;case"M":s=e.isArray(L.settings.months_abbr)&&void 0!==L.settings.months_abbr[r-1]?L.settings.months_abbr[r-1]:L.settings.months[r-1].substr(0,3);case"F":n+=s;break;case"d":i=ie(i,2);case"j":n+=i;break;case"D":o=e.isArray(L.settings.days_abbr)&&void 0!==L.settings.days_abbr[a]?L.settings.days_abbr[a]:L.settings.days[a].substr(0,3);case"l":n+=o;break;case"N":a++;case"w":n+=a;break;case"S":n+=i%10==1&&"11"!=i?"st":i%10==2&&"12"!=i?"nd":i%10==3&&"13"!=i?"rd":"th";break;default:n+=l}}return n},J=function(){var t,n,i,a;"m-d"!==L.settings.format?(t=new Date(b,_+1,0).getDate(),n=new Date(b,_,1).getDay(),i=new Date(b,_,0).getDate()):(t=new Date(2012,_+1,0).getDate(),n=new Date(2012,_,1).getDay(),i=new Date(2012,_,0).getDate()),a=n-L.settings.first_day_of_week,a=0>a?7+a:a,K(L.settings.header_captions.days);var o="<tr>";L.settings.show_week_number&&(o+="<th>"+L.settings.show_week_number+"</th>");for(var r=0;7>r;r++)o+="<th>"+(e.isArray(L.settings.days_abbr)&&void 0!==L.settings.days_abbr[(L.settings.first_day_of_week+r)%7]?L.settings.days_abbr[(L.settings.first_day_of_week+r)%7]:L.settings.days[(L.settings.first_day_of_week+r)%7].substr(0,2))+"</th>";for(o+="</tr><tr>",r=0;42>r;r++){r>0&&r%7===0&&(o+="</tr><tr>"),r%7===0&&L.settings.show_week_number&&(o+='<td class="dp_week_number">'+re(new Date(b,_,r-a+1))+"</td>");var c=r-a+1;if(L.settings.select_other_months&&(a>r||c>t)){var d=new Date(b,_,c),l=d.getFullYear(),m=d.getMonth(),h=d.getDate();d=l+ie(m+1,2)+ie(h,2)}if(a>r)o+='<td class="'+(L.settings.select_other_months&&!X(l,m,h)?"dp_not_in_month_selectable date_"+d:"dp_not_in_month")+'">'+(L.settings.select_other_months||L.settings.show_other_months?ie(i-a+r+1,L.settings.zero_pad?2:0):"&nbsp;")+"</td>";else if(c>t)o+='<td class="'+(L.settings.select_other_months&&!X(l,m,h)?"dp_not_in_month_selectable date_"+d:"dp_not_in_month")+'">'+(L.settings.select_other_months||L.settings.show_other_months?ie(c-t,L.settings.zero_pad?2:0):"&nbsp;")+"</td>";else{var g=(L.settings.first_day_of_week+r)%7,k="";X(b,_,c)?(e.inArray(g,L.settings.weekend_days)>-1?k="dp_weekend_disabled":k+=" dp_disabled",_==u&&b==p&&f==c&&(k+=" dp_disabled_current")):(e.inArray(g,L.settings.weekend_days)>-1&&(k="dp_weekend"),_==w&&b==y&&v==c&&(k+=" dp_selected"),_==u&&b==p&&f==c&&(k+=" dp_current")),o+="<td"+(""!==k?' class="'+e.trim(k)+'"':"")+">"+(L.settings.zero_pad?ie(c,2):c)+"</td>"}}o+="</tr>",s.html(e(o)),L.settings.always_visible&&($=e("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)",s)),s.show()},Y=function(){K(L.settings.header_captions.months);for(var t="<tr>",n=0;12>n;n++){n>0&&n%3===0&&(t+="</tr><tr>");var i="dp_month_"+n;X(b,n)?i+=" dp_disabled":w!==!1&&w==n&&b==y?i+=" dp_selected":u==n&&p==b&&(i+=" dp_current"),t+='<td class="'+e.trim(i)+'">'+(e.isArray(L.settings.months_abbr)&&void 0!==L.settings.months_abbr[n]?L.settings.months_abbr[n]:L.settings.months[n].substr(0,3))+"</td>"}t+="</tr>",c.html(e(t)),L.settings.always_visible&&(A=e("td:not(.dp_disabled)",c)),c.show()},Q=function(){K(L.settings.header_captions.years);for(var t="<tr>",n=0;12>n;n++){n>0&&n%3===0&&(t+="</tr><tr>");var i="";X(b-7+n)?i+=" dp_disabled":y&&y==b-7+n?i+=" dp_selected":p==b-7+n&&(i+=" dp_current"),t+="<td"+(""!==e.trim(i)?' class="'+e.trim(i)+'"':"")+">"+(b-7+n)+"</td>"}t+="</tr>",d.html(e(t)),L.settings.always_visible&&(N=e("td:not(.dp_disabled)",d)),d.show()},G=function(t){if("explorer"==se.name&&6==se.version){if(!C){var n=ae(a.css("zIndex"))-1;C=jQuery("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:n,position:"absolute",top:-1e3,left:-1e3,width:a.outerWidth(),height:a.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),e("body").append(C)}switch(t){case"hide":C.hide();break;default:var i=a.offset();C.css({top:i.top,left:i.left,display:"block"})}}},X=function(t,n,i){if((void 0===t||isNaN(t))&&(void 0===n||isNaN(n))&&(void 0===i||isNaN(i)))return!1;if(e.isArray(L.settings.direction)||0!==ae(L.settings.direction)){var a=ae(ne(t,"undefined"!=typeof n?ie(n,2):"","undefined"!=typeof i?ie(i,2):"")),o=(a+"").length;if(8==o&&("undefined"!=typeof I&&a<ae(ne(h,ie(m,2),ie(g,2)))||"undefined"!=typeof T&&a>ae(ne(S,ie(F,2),ie(D,2)))))return!0;if(6==o&&("undefined"!=typeof I&&a<ae(ne(h,ie(m,2)))||"undefined"!=typeof T&&a>ae(ne(S,ie(F,2)))))return!0;if(4==o&&("undefined"!=typeof I&&h>a||"undefined"!=typeof T&&a>S))return!0}"undefined"!=typeof n&&(n+=1);var r=!1,s=!1;return x&&e.each(x,function(){if(!r){var a=this;if((e.inArray(t,a[2])>-1||e.inArray("*",a[2])>-1)&&("undefined"!=typeof n&&e.inArray(n,a[1])>-1||e.inArray("*",a[1])>-1)&&("undefined"!=typeof i&&e.inArray(i,a[0])>-1||e.inArray("*",a[0])>-1)){if("*"==a[3])return r=!0;var o=new Date(t,n-1,i).getDay();if(e.inArray(o,a[3])>-1)return r=!0}}}),k&&e.each(k,function(){if(!s){var a=this;if((e.inArray(t,a[2])>-1||e.inArray("*",a[2])>-1)&&(s=!0,"undefined"!=typeof n))if(s=!0,e.inArray(n,a[1])>-1||e.inArray("*",a[1])>-1){if("undefined"!=typeof i)if(s=!0,e.inArray(i,a[0])>-1||e.inArray("*",a[0])>-1){if("*"==a[3])return s=!0;var o=new Date(t,n-1,i).getDay();if(e.inArray(o,a[3])>-1)return s=!0;s=!1}else s=!1}else s=!1}}),k&&s?!1:x&&r?!0:!1},Z=function(e){return(e+"").match(/^\-?[0-9]+$/)?!0:!1},K=function(t){if(e.isNumeric(_)&&(t=t.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(t){switch(t){case"m":return ie(_+1,2);case"n":return _+1;case"F":return L.settings.months[_];case"M":return e.isArray(L.settings.months_abbr)&&void 0!==L.settings.months_abbr[_]?L.settings.months_abbr[_]:L.settings.months[_].substr(0,3);case"O":return e.isArray(L.settings.months_abbr)&&void 0!==L.settings.months_abbr[_]?L.settings.months_abbr[_]:L.settings.months[_].substr(0,3);default:return t}})),e.isNumeric(b)&&(t=t.replace(/\bY\b/,b).replace(/\by\b/,(b+"").substr(2)).replace(/\bY1\b/i,b-7).replace(/\bY2\b/i,b+4)),e(".dp_caption",r).html(t),e.isArray(L.settings.direction)||0!==ae(L.settings.direction)||1==M.length&&"months"==M[0]){var n,a,o=b,s=_;"days"==i?(a=!X(0>s-1?ne(o-1,"11"):ne(o,ie(s-1,2))),n=!X(s+1>11?ne(o+1,"00"):ne(o,ie(s+1,2)))):"months"==i?((!I||I.getFullYear()<=o-1)&&(a=!0),(!T||T.getFullYear()>=o+1)&&(n=!0)):"years"==i&&((!I||I.getFullYear()<o-7)&&(a=!0),(!T||T.getFullYear()>o+4)&&(n=!0)),a?e(".dp_previous",r).removeClass("dp_blocked"):(e(".dp_previous",r).addClass("dp_blocked"),e(".dp_previous",r).removeClass("dp_hover")),n?e(".dp_next",r).removeClass("dp_blocked"):(e(".dp_next",r).addClass("dp_blocked"),e(".dp_next",r).removeClass("dp_hover"))}},ee=function(){if(""===s.text()||"days"==i){if(""===s.text()){L.settings.always_visible||a.css("left",-1e3),a.show(),J();var t=s.outerWidth(),n=s.outerHeight(),o={width:t,height:n},u={width:t};window.isMobile===!0&&(o["margin-left"]="auto",u["margin-left"]="auto",o["margin-right"]="auto",u["margin-right"]="auto"),s.css(o),c.css(o),d.css(o),r.css(u),P.css(u),a.hide()}else J();c.hide(),d.hide()}else"months"==i?(Y(),s.hide(),d.hide()):"years"==i&&(Q(),s.hide(),c.hide());if(L.settings.onChange&&"function"==typeof L.settings.onChange&&void 0!==i){var p="days"==i?s.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)"):"months"==i?c.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)"):d.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)");p.each(function(){if("days"==i)if(e(this).hasClass("dp_not_in_month_selectable")){var t=e(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/);e(this).data("date",t[1]+"-"+t[2]+"-"+t[3])}else e(this).data("date",b+"-"+ie(_+1,2)+"-"+ie(ae(e(this).text()),2));else if("months"==i){var t=e(this).attr("class").match(/dp\_month\_([0-9]+)/);e(this).data("date",b+"-"+ie(ae(t[1])+1,2))}else e(this).data("date",ae(e(this).text()))}),L.settings.onChange.call(q,i,p,q)}P.show(),L.settings.show_clear_date===!0||0===L.settings.show_clear_date&&""!==q.val()||L.settings.always_visible&&L.settings.show_clear_date!==!1?(l.show(),B?(O.css("width","50%"),l.css("width","50%")):(O.hide(),l.css("width","100%"))):(l.hide(),B?O.show().css("width","100%"):P.hide())},te=function(e,t,n,i,a){var o=new Date(e,t,n,12,0,0),r="days"==i?$:"months"==i?A:N,s=V(o);q.val(s),L.settings.always_visible&&(w=o.getMonth(),_=o.getMonth(),y=o.getFullYear(),b=o.getFullYear(),v=o.getDate(),r.removeClass("dp_selected"),a.addClass("dp_selected"),"days"==i&&a.hasClass("dp_not_in_month_selectable")&&L.show()),L.hide(),oe(o),L.settings.onSelect&&"function"==typeof L.settings.onSelect&&L.settings.onSelect.call(q,s,e+"-"+ie(t+1,2)+"-"+ie(n,2),o,q,re(o)),q.focus()},ne=function(){for(var e="",t=0;t<arguments.length;t++)e+=arguments[t]+"";return e},ie=function(e,t){for(e+="";e.length<t;)e="0"+e;return e},ae=function(e){return parseInt(e,10)},oe=function(t){L.settings.pair&&e.each(L.settings.pair,function(){var n=e(this);if(n.data&&n.data("Zebra_DatePicker")){var i=n.data("Zebra_DatePicker");i.update({reference_date:t,direction:0===i.settings.direction?1:i.settings.direction}),i.settings.always_visible&&i.show()}else n.data("zdp_reference_date",t)})},re=function(e){var t,n,i,a,o,r,s,c,d,l=e.getFullYear(),u=e.getMonth()+1,p=e.getDate();return 3>u?(t=l-1,n=(t/4|0)-(t/100|0)+(t/400|0),i=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0),a=n-i,o=0,r=p-1+31*(u-1)):(t=l,n=(t/4|0)-(t/100|0)+(t/400|0),i=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0),a=n-i,o=a+1,r=p+((153*(u-3)+2)/5|0)+58+a),s=(t+n)%7,p=(r+s-o)%7,c=r+3-p,d=0>c?53-((s-a)/5|0):c>364+a?1:(c/7|0)+1},se={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string,i=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!=n.indexOf(e[t].subString))return e[t].identity}else if(i)return e[t].identity}},searchVersion:function(e){
var t=e.indexOf(this.versionSearchString);return-1!=t?parseFloat(e.substring(t+this.versionSearchString.length+1)):void 0},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};se.init(),U()},e.fn.Zebra_DatePicker=function(t){return this.each(function(){void 0!==e(this).data("Zebra_DatePicker")&&e(this).data("Zebra_DatePicker").destroy();var n=new e.Zebra_DatePicker(this,t);e(this).data("Zebra_DatePicker",n)})}}(jQuery),window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}();var cnReg=/^[\u4e00-\u9fa5]+/,mkext=function(){function e(e,t,o,r){$.inArray(e,n)>-1&&"[object Function]"==={}.toString.call(o)&&(i[e]||(i[e]={}),i[e][t]=o,r&&(a[e]||(a[e]={}),a[e][t]=o))}function t(e){if($.inArray(e,n)>-1&&i[e]){var t=i[e];for(var a in t)t[a]()}}var n,i={},a={};return{__init:function(e){n=e},add:e,run:t,get:function(e,t){return a[e]?a[e][t]:!1}}}();"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e,t){for(var n=0,i=this.length;i>n;n++)"function"==typeof e&&Object.prototype.hasOwnProperty.call(this,n)&&e.call(t,this[n],n,this)}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){var n=t,i=0,a=this.length;if("undefined"==typeof t&&(n=this[0],i=1),"function"==typeof e)for(i;a>i;i++)this.hasOwnProperty(i)&&(n=e(n,this[i],i,this));return n}),"function"!=typeof Array.prototype.map&&(Array.prototype.map=function(e,t){var n=[];if("function"==typeof e)for(var i=0,a=this.length;a>i;i++)n.push(e.call(t,this[i],i,this));return n}),"function"!=typeof Array.prototype.every&&(Array.prototype.every=function(e,t){for(var n=this.length,i=0;n>i;i++)if(!e.call(t,this[i],i,this))return!1;return!0}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e,t){var n=[];if("function"==typeof e)for(var i=0,a=this.length;a>i;i++)e.call(t,this[i],i,this)&&n.push(this[i]);return n});var mkTempStore=function(){var e={},t=!1;return window.localStorage&&(t=!0),e.save=function(e,n){t&&localStorage.setItem(e,n)},e.get=function(e){if(t){var n=localStorage.getItem(e);return n?n:!1}},e.remove=function(e){t&&(localStorage.removeItem(e),delete localStorage[e])},e}(),mkCookie=function(){function e(e,t,n){var i=new Date;return n.expires&&(n.expires=parseInt(n.expires,0),isNaN(n.expires)||(i=new Date(i-0+6048e5*n.expires))),i=i.toUTCString(),document.cookie=[e,"=",escape(t),"; expires="+i,n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}function t(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return null;if(-1==t)return null;var i=document.cookie.indexOf(";",n);return-1==i&&(i=document.cookie.length),unescape(document.cookie.substring(n,i))}return{set:e,get:t}}(),mgColorManager=function(){function e(e,t,n){var e=parseInt((""+e).replace(/\s/g,""),10),t=parseInt((""+t).replace(/\s/g,""),10),n=parseInt((""+n).replace(/\s/g,""),10);e/=255,t/=255,n/=255;var i,a,o,r=Math.min(e,Math.min(t,n)),s=Math.max(e,Math.max(t,n)),c=e==r?t-n:n==r?e-t:n-e,d=e==r?3:n==r?1:5;return i=60*(d-c/(s-r)),a=(s-r)/s,o=s,[i,a,o]}function t(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,i){return t+t+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function n(e,t,n){return.299*parseInt(e)+.587*parseInt(t)+.114*parseInt(n)}function i(e,t,n){function i(e){var t=Math.floor(255*e).toString(16);return t.length<2&&(t="0"+t),t}var a=t*n,o=Math.abs(e/60%2-1),r=a*(1-o),s=n-a,c=0,d=0,l=0;return e>=0&&60>e?(c=a,d=r):e>=60&&120>e?(c=r,d=a):e>=120&&180>e?(l=r,d=a):e>=180&&240>e?(d=r,l=a):e>=240&&300>e?(c=r,l=a):e>=300&&360>e&&(l=r,c=a),"#"+i(c+s)+i(d+s)+i(l+s)}var a="#ffffff",o={};return{setColor:function(n){a=n;var i=t(n);o.R=i.r,o.G=i.g,o.B=i.b;var r=e(o.R,o.G,o.B);o.H=Math.floor(r[0]),o.S=Math.floor(100*r[1]),o.V=Math.floor(100*r[2])},getHSV2RGB:function(e){return e?i(e[0],e[1],e[2]):i(o.H,o.S/100,o.V/100)},getColorVal:function(i,a){var o=t(i),r={};r.R=o.r,r.G=o.g,r.B=o.b;var s=e(r.R,r.G,r.B);return r.H=Math.floor(s[0]),r.S=Math.floor(100*s[1]),r.V=Math.floor(100*s[2]),r.GY=n(r.R,r.G,r.B),r[a]},getColorGroup:function(){var e=o.S/100,t=o.V/100,n=a,r=i(o.H,e-.08>0?e-.08:0,1>t-0+.09?t-0+.09:1),s=i(o.H,e-.07>0?e+.07:0,t-.06>0?t-.06:0),c=i(o.H,1>e+.04?e+.04:1,t-.36>0?t-.36:0);return s=i(o.H,.52,.59),{BK:n,BKH:r,SD:s,BD:c}}}}(),mk_string=function(){return{escapeHTML:function(e){return""===e||e===!1||null===e||void 0===e?"":(e+="",/[&<>\"\'\n ]/.test(e)?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />").replace(/\s/g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/(&nbsp;)+/gi,function(e,t,n){return" "+e.substr(t.length)}):e)},unescapeHTML:function(e){return e+="",e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/<br(\/)*>/gim,"\n")}}}();!function(){function e(){if(formJSON!==!1&&formJSON.r!==!1){var e=w(formJSON),t=!1;-1===e?s(function(){try{ge="basic_weixin",c(function(){},function(){})}catch(e){}},function(){window.owc&&(ve=!0),ve&&r()}):0!==e&&$(document).queue("renderPage",function(){s(function(){try{ge="basic_weixin",l(),C(),c(function(){window.owc&&window.submitOnce&&(t=!0)},function(){$(document).dequeue("renderPage")})}catch(e){$(document).dequeue("renderPage")}},function(){window.owc&&(ve=!0),$(document).dequeue("renderPage")})}),0!==e&&($(document).queue("renderPage",function(){t?_e._info&&_e._info.auth?window.location.href=_e._info.uri:!window.readonly&&_e.hasSubmit?($(window).trigger("__share_image_ready"),$(".fs_main").empty().html(v("对不起，这张表单只能提交一次，您已经提交过了。")).find(".f_component").append('<div class="f_submit"> <a class="f_viewBtn" href="'+window.gToken+'?m=readonly">查看表单</a>'+("1"===window.publicChartEnable?'<a class="f_chartViewBtn" href="r.php?t='+window.gToken+'">统计图表</a>':"")+("1"===window.openFeedback?'<a class="f_chartViewBtn f_feedbackViewBtn" href="rfl.php?t='+window.gToken+'">反馈详情</a>':"")+"</div>"),$(document).clearQueue("renderPage")):$(document).dequeue("renderPage"):$(document).dequeue("renderPage")}),$(document).queue("renderPage",function(){try{if(-1===e)return $(window).trigger("__share_image_ready"),$(".fs_main").empty().html(v("对不起，这张表单只能提交一次，您已经提交过了。")).find(".f_component").append('<div class="f_submit"><a class="f_viewBtn" href="'+window.gToken+'?m=readonly">查看表单</a>'+("1"===window.publicChartEnable?'<a class="f_chartViewBtn" href="r.php?t='+window.gToken+'">统计图表</a>':"")+("1"===window.openFeedback?'<a class="f_chartViewBtn f_feedbackViewBtn" href="rfl.php?t='+window.gToken+'">反馈详情</a>':"")+"</div>"),!1;ve&&r()}catch(t){}!function(e){if(e.flag){J=e.data.id,f(),re||_(),G.form&&G.form.logo&&"undefined"!=G.form.logo?window._shareInfo.imgUrl=window._shareTimeline_imgWeixin=window._share_imgWeixin=window.parseHttps(decodeURIComponent(G.form.logo)):$("img").not(".qrcode,.upload_img,.fs_fixbackground").each(function(e,t){return $(this).parent().hasClass("f_powerby")?void 0:$(this).prop("src")&&-1===$(this).prop("src").indexOf("images/icon/externalLink.png")?(window._shareInfo.imgUrl=window._shareTimeline_imgWeixin=window._share_imgWeixin=window.parseHttps($(this).prop("src")),!1):void 0}),$(window).trigger("__share_image_ready"),D();try{if(we)if(Ce===!1)var t=window.setInterval(function(){Ce&&(_e._info&&_e._info.auth===!1&&new u(_e._info.data,{name:"WCUICTANAME",city:"WCUIPROVINCE",website:"WCUICTAWEBSITE",company:"WCUICTACOMPANY",job:"WCUICTAJOB",email:"WCUICTAEMAIL",mobile:"WCUICTAMOBILE",qq:"WCUICTAQQ",phone:"WCUICTAPHONE",fax:"WCUICTAFAX",weixin:"WCUINICKNAME",wechat:"WCUICTAWECHAT",address:"WCUICTAADDRESS",gender:"WCUICTAGENDER"}),window.clearInterval(t))},1e3);else _e._info&&_e._info.auth===!1&&new u(_e._info.data,{name:"WCUICTANAME",city:"WCUIPROVINCE",website:"WCUICTAWEBSITE",company:"WCUICTACOMPANY",job:"WCUICTAJOB",email:"WCUICTAEMAIL",mobile:"WCUICTAMOBILE",qq:"WCUICTAQQ",phone:"WCUICTAPHONE",fax:"WCUICTAFAX",weixin:"WCUINICKNAME",wechat:"WCUICTAWECHAT",address:"WCUICTAADDRESS",gender:"WCUICTAGENDER"})}catch(n){}}}({flag:!0,data:formJSON})}))}else formJSON.r===!1&&2==formJSON.code?$(".f_main").empty().append('<div class="f_body fs_body"><div class="f_component"><p class="f_submittext"><span style="font-size:16px;">抱歉，该表单链接的域名地址已失效</span><br/><br/><br/><span style="line-height: 26px;">你可以尝试访问该用户新域名下的表单链接</span><br/><style type="text/css">a:visited{color:#3C8CBD;}</style><a href="'+formJSON.newUrl+'" style="line-height:26px;color:#3C8CBD;">'+formJSON.newUrl+"</a> </p></div></div>"):$(".f_main").empty().append('<div class="f_body fs_body"><div class="f_component"><p class="f_submittext">抱歉，找不到这张表单</p></div></div>');$(document).dequeue("renderPage"),n(),a(),$(window).on("resize",n)}function n(){var e=$(".f_main");$(".f_main_ie_shadow").offset({top:e.offset().top-4}).offset({left:e.offset().left-4}).width(e.width()).height(e.height())}function i(e){var t=null;for(var n in e)if(e.hasOwnProperty(n)&&(t=e[n],t.serialNum=n,1==t.isLimit)){var i=t.value,a=[];for(var o in i){var r=i[o];r.hasOwnProperty("input")&&(r.name="[其他]",r.limit=t.isOtherLimit);var s=$.trim("basic_gender"==t.name?r.showName:r.name).toLocaleLowerCase(),c=0,d=window.limitData&&window.limitData.hasOwnProperty(t.id)?window.limitData[t.id]:null;d&&d.hasOwnProperty(s)&&(c=parseInt(d[s],10));var l=parseInt(r.limit,10);if(l>=0){var u="",p=0,f=l-c;f=f>0?f:0,0==f&&(p=2),t.limitShowType&&t.limitShowType>0&&f>0&&(u="(剩余可选: "+f+")",p=1);var m=2==p?"此选项配额已满，不能再选择":u,h=2==p?"(配额已满)":u,g=$(".f_component[name="+t.id+"]");if("id_radio"==t.name||"id_checkBox"==t.name||"basic_gender"==t.name){var _=g.find(".f_optionsLi:eq("+o+")"),b=_.find(".f_optionVal"),v=$(" <span style='margin-left:5px;' >"+h+"</span>");2==p?(_.find("input").attr("disabled","disabled"),_.css("opacity",.3)):v.css("opacity",.3),_.attr("title",m),p>0&&b.append(v)}else if("id_dropDown"==t.name){var _=g.find("option:eq("+o+")"),m=_.text(),v=h;_.attr("title",m),_.text(m+v),2==p&&(_.attr("disabled","disabled"),_.css("opacity",.3))}else if("id_pictureRadio"==t.name||"id_pictureCheckbox"==t.name){var _=g.find(".f_spictureItem:eq("+o+")"),b=_.find(".f_optionVal"),v=$(" <span style='margin-left:5px;' >"+h+"</span>");2==p?(_.find("input").attr("disabled","disabled"),_.css("opacity",.3)):v.css("opacity",.3),_.attr("title",m),p>0&&b.append(v)}var w=$(".f_main").width(),y="MYH",k=[];if("single"!==t.layout){t.value.forEach(function(e){e.input||k.push(parseInt(window.getTextWidth(e.name,16,y),0)+parseInt(window.getTextWidth(h,16,y),0)+5+30)});for(var x=!1,n=4;n>1&&!x;n--)0===k.filter(function(e){return e>w/n-24}).length&&(a.push(n),x=!0);x||a.push(1)}}}if(a.length>0){var C=Math.min.apply(Math,a);C>1?t.layout=window.isMobile?"x-"+C+"l":["two","three","four"][C-2]:t.layout="single",$(".f_component[name="+t.id+"]").find(".f_optionGarden").attr("class","f_optionGarden layout-"+t.layout)}}}function a(){var e=Ee.basic_note;$(".f_main").on("keyup keydown input propertychange",'div[com-name="basic_note"]',function(){try{var t=$(this).find("input").get(0),n=$.trim(""+htmlStr(decodeURIComponent(t.value))).length;$(this).find(".error").remove(),n>=e&&$(this).children(".f_cTitle").append('<label class="error" errorcode="5">最多输入 '+(e-1)+" 字符</label>")}catch(i){throw i}})}function o(){try{$.ajax({url:"https://api.map.baidu.com/location/ip?ak=EDb798da5e9a45ddd62246439064d449",type:"GET",dataType:"JSONP"}).done(function(e){0===e.status&&(se=(e.content.address_detail.province||"")+" "+(e.content.address_detail.city||""),se=$.trim(se))})}catch(e){}}function r(){function e(){TINY.box.show({html:$(".popwin_weixinshare").html(),width:210,height:240,animate:!1,close:!1,fixed:!1,modal:!0,boxid:"weixinshare",openjs:function(){var e=$("#weixinshare");if(0===$(".popwin_weixinshare").find(".sharecode").length){var t='<img class="sharecode" src="'+window.parseHttps(decodeURIComponent(picPath).replace(/\\/g,"/"))+'"><div style="font-size:20px;"><div class="share_des" style="font-size:0.625em;">该表单只能通过微信提交<br><br>通过微信扫码填写表单</div></div>';e.find(".popwin_content").append(t),$(".popwin_weixinshare").find(".popwin_content").append(t)}}})}$("input,select,textarea").attr("disabled","disabled"),ee.submit=function(){return""},$(window).scroll(function(){return $(this).scrollTop(0),!1}),document.documentElement.style.overflow="hidden";var t=function(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),!1},n=function(e){return 37<=e.keyCode&&e.keyCode<=40?t(e):void 0};try{document.body.scroll=t,document.body.onkeydown=n}catch(i){}$("body").css("overflow","hidden").height($(window).height()),e(),window.setInterval(function(){$("body").css("overflow","hidden").height($(window).height())},1e3)}function s(e,t){var n,i,a,o=navigator.userAgent.toLowerCase(),r={MICRO_MESSAGER:o.match(/micromessenger/i)?!0:!1,WINDOWS_PHONE:o.match(/windows phone/i)?!0:!1,IS_MOBILE:window.isMobile,IS_PAD:o.match(/(ipad|nexus 7)/i)?!0:!1},s="0.0.3",c=8;"[object Function]"!==Object.prototype.toString.call(e)&&(e=function(){return!1}),"[object Function]"!==Object.prototype.toString.call(t)&&(t=function(){return!1});try{if(!document.addEventListener||window.mkwsq)return t();if(!r.MICRO_MESSAGER&&!r.WINDOWS_PHONE)return t();if(!(!r.WINDOWS_PHONE&&(r.IS_MOBILE||r.IS_PAD)||r.WINDOWS_PHONE&&!r.IS_PAD))return t();if(_e||(_e={}),n=mkCookie.get("mkjwx"),i=mkCookie.get("mkwxv"),a=mkCookie.get("mkwxretrytimes"),s!==i&&(je(["mkjwx","mkwxv","mkwxretrytimes"]),mkCookie.set("mkwxv",s,{expires:100,path:"/",domain:window.cookieDomain}),mkCookie.set("mkwxretrytimes",0,{expires:100,path:"/",domain:window.cookieDomain}),a=0),_e.cookie=mkCookie.get("wxoaid")||mkTempStore.get("wxoaid")||"","null"===_e.cookie&&(_e.cookie=""),null!==n){if("false"===n)return t();if("retry"!==n)return ge="basic_weixin",e();if(!(c>a))return mkCookie.set("mkjwx","false",{expires:100,path:"/",domain:window.cookieDomain}),t();Re(e,t)}else Re(e,t)}catch(d){return t()}}function c(e,t){try{parseURL(location.href).params.rfwc?$.ajax({url:"handler/handleCheckWechatLogin.php",type:"POST",dataType:"json"}).done(function(n){n.flag?n.errorCode||(n.cookie&&(mkCookie.set("wxoaid",n.cookie,{expires:100,path:"/",domain:window.cookieDomain}),mkTempStore.save("wxoaid",n.cookie),_e.cookie=n.cookie),n.hasSubmit&&(_e.hasSubmit=n.hasSubmit),_e._info={auth:!1,data:n},e(),$(document).dequeue("renderPage")):(e(),d(t))}).fail(function(){e(),t()}):(e(),d(t))}catch(n){$(document).dequeue("renderPage")}}function d(e){window.owc&&window.submitOnce||we?$.ajax({url:"handler/handleGetWechatParamsForUserInfo.php",type:"POST",dataType:"json",data:{DATA:JSON.stringify({COOKIE:_e.cookie||"",FORMTOKEN:gToken})}}).done(function(t){if(t.newCookie&&(mkCookie.set("wxoaid",t.newCookie,{expires:100,path:"/",domain:window.cookieDomain}),mkTempStore.save("wxoaid",t.newCookie),_e.cookie=t.newCookie),t.flag)if(t.id){if(window.readonly){var n=-1===t.redirect_uri.indexOf("?")?"?":"&";t.redirect_uri=t.redirect_uri+n+"m=readonly"}_e._info={auth:!0,uri:"https://open.weixin.qq.com/connect/oauth2/authorize?appid="+window.encodeURIComponent(t.id)+"&redirect_uri="+window.encodeURIComponent(t.redirect_uri)+"&response_type=code&scope=snsapi_userinfo&state="+window.encodeURIComponent(t.state)+"#wechat_redirect"}}else t.hasSubmit&&(_e.hasSubmit=t.hasSubmit),_e._info={auth:!1,data:t.data};else _e._info=!1;e()}).fail(function(){_e._info=!1,e()}):(_e._info=!1,e())}function l(){if(mkTempStore.get("wxauth")){if(gToken===mkTempStore.get("token")){ue=JSON.parse(mkTempStore.get("cart")||!1)||!1;var e=JSON.parse(mkTempStore.get("form_sub")||!1)||!1,t=JSON.parse(mkTempStore.get("contact_sub")||!1)||!1,n=JSON.parse(mkTempStore.get("form_obj")||!1)||!1;e&&"undefined"!==e&&(X=e),t&&"undefined"!==t&&(Z=t),n&&"undefined"!==n&&(G=n),ye&&Q.append(_debug_out("wx  :  "))}mkTempStore.remove("wxauth"),mkTempStore.remove("token"),mkTempStore.remove("cart"),mkTempStore.remove("form_sub"),mkTempStore.remove("contact_sub"),mkTempStore.remove("form_obj")}}function u(e,t){var n,i,a=G.component,o=!1;if(componentFillMap={},e&&"[object Object]"===Object.prototype.toString.call(e))for(var r in e){e.hasOwnProperty(r)&&(o=!0);break}if(o)for(var s in a)if(n=G.component[s],i=$('.f_component[name="'+n.id+'"]'),!componentFillMap[n.name]){componentFillMap[n.name]=!0,decodeFlag=!0;try{switch(n.name){case"basic_name":n.value=$.trim(e[t.name]||"")||n.value;break;case"basic_city":n.value=$.trim(e[t.city]||"")||n.value;break;case"basic_website":n.value=$.trim(e[t.website]||"")||n.value;break;case"basic_company":n.value=$.trim(e[t.company]||"")||n.value;break;case"basic_job":n.value=$.trim(e[t.job]||"")||n.value;break;case"basic_email":n.value=$.trim(e[t.email]||"")||n.value;break;case"basic_mobile":n.value=$.trim(e[t.mobile]||"")||n.value;break;case"basic_qq":n.value=$.trim(e[t.qq]||"")||n.value;break;case"basic_phone":n.value=$.trim(e[t.phone]||"")||n.value;break;case"basic_fax":n.value=$.trim(e[t.fax]||"")||n.value;break;case"basic_weixin":var c=$.trim(e[t.wechat]||"");n.value=(c?c:$.trim(e[t.weixin]||""))||n.value;break;case"basic_adress":n.value=$.trim(e[t.address]||"")||n.value;break;case"basic_note":n.value=$.trim(e[t.note]||"")||n.value;break;case"basic_birthday":n.value=$.trim(e[t.birthday]||"")||n.value;break;default:decodeFlag=!1}decodeFlag&&(n.value=mk_string.unescapeHTML(n.value))}catch(d){continue}if("basic_gender"===n.name){var l;i.find("input:radio").removeAttr("checked"),i.find(".iradio_square-blue").removeClass("checked"),n.value.forEach(function(i,a){i.gendervalue===e[t.gender]?(i.selected=!0,l=$("#radio-id-"+n.serialNum+"-"+a),l.attr("checked","checked").siblings(".iradio_square-blue").addClass("checked")):i.selected=!1});for(var s in n.value)n.value.hasOwnProperty(s)&&(X[n.serialNum].value[s].selected=n.value[s].selected);l&&N({name:n.name,val:l.attr("gendervalue")},i)}else if(X[n.serialNum]){X[n.serialNum].value=n.value;var u=i.find(".fs_input");0===u.length&&(u=i.find(".fs_content")),u.length>0&&("readonly"==u.attr("readonly")?"basic_birthday"===i.attr("com-name")&&u.val(n.value):u.val(n.value),N({name:n.name,val:n.value},i))}}return componentFillMap={},!0}function p(e){var t={};t=e.replace(/"FLAGS":'\[(.*)\]'/g,function(e,t){return'"FLAGS":'+JSON.stringify("["+t+"]")}).replace(/undefined/g,"false").replace(/null/g,"false").replace(/\t/g,"\\t"),t=t.replace(/[\n\r]/gim,function(e,t){return"\\n"});try{G=JSON.parse(t)}catch(n){}}function f(){var e=!1,t=!1,n={submit:Ie};if(G){var a="";e=G.component,X=$.extend(!0,{},G.component),t=G.form,I(),T(),"none"==t.backgroundimg&&(t.backgroundimg="");var o=V(formJSON.style).imgf;if("no-repeat"===t.backgroundtype&&(o="fix"),"fix"===o){if(t.backgroundimg&&"none"!==t.backgroundimg){var r=decodeURIComponent(t.backgroundimg.replace(/url\((\")*/,"").replace(/(\")*\)/,"")).replace('"',"");r=Le(r,"origin"),$("body").prepend('<img src="'+r+'" class="fs_fixbackground"/>')}}else t.backgroundimg=Le(t.backgroundimg,"origin"),$("html").css({"background-image":decodeURIComponent(t.backgroundimg),"background-repeat":t.backgroundtype});t.logo=Le(t.logo),t.subtitle=t.subtitle||"",a+=ee.header(t),!window.isMobile&&picPath&&t.formShare!==!1&&(a+=ee.share()),a+='<div class="f_body fs_body">';var s;for(var c in e)if(e.hasOwnProperty(c)){s=e[c],s.serialNum=c,"id_page"===s.name&&(ie.push(c),re=!0);var d=g(s);ne.push(d)}re||(a+=ne.join(""),a+=ee.submit(n)),a+="</div>",$(".fs_main").empty().append(a),i(e),y(G.component),k(G.component),re&&h("next");var l=$(".f_header .f_text_no_logo h2");if(!l||""!=l.html()&&""!=l.next("p").html()||l.next("p").addClass("f_describe_none"),t.titlebackground&&"none"!==t.titlebackground){var u=new Image;u.onerror=function(e){};var p=Le(decodeURIComponent(t.titlebackground).replace(/^url\((\")*/,"").replace(/(\")*\)$/,""),"large");t.titlebackground=Le(t.titlebackground,"large"),u.onload=function(){var e=function(){var e=$(".f_header"),n=e.children(".f_logo"),i=function(e){var t=document.createElement("b");return t.innerHTML="<!--[if IE "+e+"]><i></i><![endif]-->",1===t.getElementsByTagName("i").length},a=i(8)?8:i(7)?7:i(6)?6:0;if(6===a){var o=n.children("img"),r=parseInt(.18*$(".f_body").width()),s=50;o.width()>r&&o.width(r),o.height()>s&&o.height(s)}var c=e.outerWidth(!0),d=parseInt(u.height*c/u.width)-10;if(e.children(".f_text,.f_text_no_logo").css({"float":"none"}),0!==a){e.css({position:"relative",padding:"0px"}),e.find(".form_title_bgimg_under_ie8").remove(),e.children("div").css({position:"absolute",left:"0px","z-index":2,margin:"0px 20px 10px 20px"});var l=$('<img class="form_title_bgimg_under_ie8" src="'+p+'" style="position:absolute; left:0px; z-index: 1;"/>');l.width(c),l.height(d),e.prepend(l)}else $(".fs_header").css({"background-size":"100%","background-image":decodeURIComponent(t.titlebackground),"background-repeat":"no-repeat"});var f=n?n.width()+10:40;e.children(".f_text,.f_text_no_logo").css({"padding-left":f>0?f:0,width:c-f-40});var m=$(".f_header .f_text,.f_header .f_text_no_logo").outerHeight(!0),h=$(".f_header .f_logo").outerHeight(!0),g=m>h?m:h,_=d>g?d:g;e.height(_),6===a&&($(".f_body").css({position:"relative"}),$(".f_share_container").css({position:"relative",top:-_+"px"}))};"phone"==window.preview?setTimeout(function(){e()},1e3):e(),u.onload=null},u.src=p}$(window).trigger("__init_end")}}function m(e){var t=!0,n=0;for(var i in e)X[e[i].serialNum]&&X[e[i].serialNum].need===!0&&n++;return 0===n&&(t=!1),t}function h(e){var t,a,o=$(".f_body"),r=ae>0?ie[ae-1]-0+1:0,s=ie[ae]||ne.length,c={submit:Ie},d=G.component,l=G.form,u=function(){var e=ae,t=function(e){var n=e>0?e-1:-1;if(n>=0){var i=n>0?ie[n-1]-0+1:0,a=ie[n]||ne.length,o=d.slice(i,a);return m(o)===!1?(e--,t(e)):!1}return!0};return t(e)};if(t=d.slice(r,s),ye&&Q.append(_debug_out(JSON.stringify(t))),m(t)===!1)return ae===ie.length?(o.find(".f_component").remove(),$(".f_pageNext").addClass("fs_disable"),u()||l.noPagePrev||"undefined"!=typeof l.prev_page&&l.prev_page>0||$(".f_pagePrev").removeClass("fs_disable"),$(".f_submitBtn").removeClass("fs_disable")):"next"===e?(ae++,h(e)):(ae--,h(e)),!1;o.empty(),a=t.map(function(e){return _r=g(e),_r}),ye&&Q.append(_debug_out(JSON.stringify(a))),a.push(ee.pageBtn(c)),o.append(a.join(""));var p=$(".f_pagePrev"),f=$(".f_pageNext"),b=$(".f_submitBtn");0===ae?p.addClass("fs_disable"):u()||l.noPagePrev||"undefined"!=typeof l.prev_page&&l.prev_page>0?p.addClass("fs_disable"):p.removeClass("fs_disable"),ae===ie.length?(f.addClass("fs_disable"),b.removeClass("fs_disable")):(f.removeClass("fs_disable"),b.addClass("fs_disable"));var v=ie[ae-0],w=G.component,y=w.slice(v,w.length+1);ae!==ie.length&&(m(y)===!1?($(".f_pageNext").addClass("fs_disable"),$(".f_submitBtn").removeClass("fs_disable")):($(".f_pageNext").removeClass("fs_disable"),$(".f_submitBtn").addClass("fs_disable"))),f.hasClass("fs_disable")||p.hasClass("fs_disable")||(f.addClass("fs_view50"),p.addClass("fs_view50"));var k={prev:function(e){return function(){$(this).hasClass("fs_disable")||(ae--,h("prev"),$(".f_wrapper,body").scrollTop(0),$(document).scrollTop(0))}}($.extend(!0,{},t)),next:function(e){return function(){if(!$(this).hasClass("fs_disable")){var t=j(e);!1===t?(ae++,h("next"),$(".f_wrapper,body").scrollTop(0),$(document).scrollTop(0)):(ye&&Q.append(_debug_out(JSON.stringify(_res))),q(t))}}}($.extend(!0,{},t)),sub:function(e){return function(){if(!$(this).hasClass("fs_disable")){var t=j(e),n=R();fe&&(!1===t?!1===n&&(b.text("提交中..."),A()):q(t))}}}($.extend(!0,{},t))};p.unbind("click.pagePrev").bind("click.pagePrev",k.prev),f.unbind("click.pageNext").bind("click.pageNext",k.next),b.unbind("click.submitBtn").bind("click.submitBtn",k.sub),_(),i(d),n()}function g(e){var t=e.name;"basic_name"===e.name||"basic_website"===e.name||"basic_city"===e.name||"basic_company"===e.name||"basic_job"===e.name||"basic_email"===e.name||"basic_qq"===e.name||"basic_phone"===e.name||"basic_fax"===e.name||"basic_adress"===e.name||"basic_note"===e.name?t="id_singleLine":"basic_birthday"===e.name?t="id_date":"basic_weixin"===e.name&&(t=ge);var n,i=["single","two","three","four"],a=["width:100%","max-width:100%"],o=null,r=null;switch(window.ImageCountForLazyLoad=window.ImageCountForLazyLoad||0,window.ImageArrayForLazyLoad=window.ImageArrayForLazyLoad||[],e.name){case"basic_mobile":e.gSMSHasBalance=xe;break;case"id_singleLine":break;case"id_number":break;case"id_multiple":break;case"id_checkBox":"single"!==e.layout?e.layoutNum=$.inArray(e.layout,i)+1:e.layoutNum=!1,e.limithint="",n=[Te,De,""],void 0!==e.stype&&(1!==e.stype?e.limithint="[请选择"+n[e.stype]+e.snumber+"项]":e.limithint="[请"+n[e.stype]+"选择"+e.snumber+"项]");break;case"id_pictureCheckbox":e.limithint="",n=[Te,De,""],void 0!==e.stype&&(1!==e.stype?e.limithint="[请选择"+n[e.stype]+e.snumber+"项]":e.limithint="[请"+n[e.stype]+"选择"+e.snumber+"项]"),r=0;for(o in e.value)e.value[o].img&&(e.value[o].img=Le(e.value[o].img),r++);-1===$.inArray(e.id,window.ImageArrayForLazyLoad)&&(window.ImageCountForLazyLoad+=r,ImageArrayForLazyLoad.push(e.id));break;case"id_radio":"single"!==e.layout?e.layoutNum=$.inArray(e.layout,i)+1:e.layoutNum=!1;break;case"id_pictureRadio":r=0;for(o in e.value)e.value[o].img&&(e.value[o].img=Le(e.value[o].img),r++);-1===$.inArray(e.id,window.ImageArrayForLazyLoad)&&(window.ImageCountForLazyLoad+=r,ImageArrayForLazyLoad.push(e.id));break;case"id_dropDown":break;case"id_fileUpload":ce===!1&&(ce=[]);break;case"id_date":break;case"id_section":break;case"id_page":break;case"id_star":break;case"id_shopping":e.currencyUnit=be,$(".fs_main").width()>730&&(e.lineNum=4);for(o in e.value)e.value[o].pic&&(e.value[o].pic=Le(e.value[o].pic));break;case"id_picture":"images%2Ficon%2FformDefaultPicture.png"==e.img?e.img=window.parseHttps((window._gHost?"http://asset.mikecrm.com/":"")+"images/icon/formDefaultPicture.png"):e.img=Le(e.img,"large");var s=decodeURIComponent(e.imglink),c="";-1==$.inArray(e.pictureshow,a)&&("normal"!==e.pictureshow&&e.pictureshow?e.pictureshow=a[1]:e.pictureshow=a[0]),ye&&(Q.append(_debug_out(s)),Q.append(_debug_out(!0))),"false"!==s&&s!==!1&&"http://"!==s&&s&&(c=(/^(file|gopher|news|nntp|telnet|http|ftp|https|ftps|sftp):\/\//.test(s)?s:"http://"+s)+'"'),e.imglink=c;break;case"basic_birthday":e.dateType="md";break;case"basic_gender":var d;for(var l in e.value)e.value.hasOwnProperty(l)&&(d=e.value[l].name.split("-"),e.value[l].gendervalue=d.pop(),e.value[l].showName=d.join("-"),X[e.serialNum].value[l].name=e.value[l].showName);break;case"basic_weixin":}var u="__render_page.imageLoadPool";return $(window).off(u).on(u,function(){var e=100,t=$(".f_component .spictureItem_img img");if(window.ImageCountForLazyLoad>=e){var n=1,i=Math.ceil(t.length/e),a=function(){window.ImageTimerForLazyLoad&&clearTimeout(window.ImageTimerForLazyLoad),window.ImageTimerForLazyLoad=setTimeout(function(){for(var o=(n-1)*e,r=o+e,s=o;r>s;s++){var c=$(t[s]);c.attr("src",c.data("src"))}i>=n&&(n++,a())},1e3)};a()}else window.ImageCountForLazyLoad>0&&window.ImageCountForLazyLoad<e&&t.each(function(e){var t=$(this);t.attr("src",t.data("src"))})}),te[t]?ee[te[t]](e):""}function _(){function e(e){e.length>0&&e.each(function(){var e=$(this),t=!1,n={lang_clear_date:"清除",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],days:["日","一","二","三","四","五","六"],months_abbr:!1,offset:[5,125],pair:!0,readonly_element:!0,select_other_months:!0,show_clear_date:0,show_icon:!1,format:"Y-m-d",show_other_months:!0,show_select_today:"今天",show_week_number:!1,start_date:!1,view:"days",weekend_days:[0,6],zero_pad:!0},i=!1;if("m"==e.attr("datetype")?n.format="Y-m":"md"===e.attr("datetype")&&(n.format="m-d",t=!0,n.show_select_today=1,n.is_birthday=!0,3===e.val().split("-").length&&(n.format="Y-m-d",n.show_select_today=2)),window.isMobile&&Modernizr.inputtypes.date&&!1===t&&(i=!0),i){e.removeAttr("readonly");var o=window.navigator.userAgent,s=/Android ([^;]*)?;/gim.exec(o);"m"==e.attr("datetype")?/Android/gim.test(o)?2===s.length&&parseInt(s[1].replace(/\./g,""),0)>440&&!/MiuiBrowser|LieBao|MicroMessenger/.test(o)&&Modernizr.inputtypes.month?e.prop("type","month"):(n.onSelect=r.zdOnSelectDate,e.Zebra_DatePicker(n),e.off("change.formatDate").on("change.formatDate",r.formatDate)):e.prop("type","month"):/Android/gim.test(o)?2===s.length&&parseInt(s[1].replace(/\./g,""),0)>440&&!/MiuiBrowser|LieBao|MicroMessenger/.test(o)&&Modernizr.inputtypes.date?e.prop("type","date"):(n.onSelect=r.zdOnSelectDate,e.Zebra_DatePicker(n),"md"===e.attr("dataType")?e.off("change.formatBirthday").on("change.formatBirthday",r.formatBirthday):e.off("change.formatDate").on("change.formatDate",r.formatDate)):e.prop("type","date"),a.on("blur.inputChangeData",".date",r.changeDateData),a.on("input.inputChangeData",".date",r.changeDateData)}else n.onSelect=r.zdOnSelectDate,e.Zebra_DatePicker(n),"md"===e.attr("dataType")?e.off("change.formatBirthday").on("change.formatBirthday",r.formatBirthday):e.off("change.formatDate").on("change.formatDate",r.formatDate)})}function t(e){e.length>0&&e.fileupload({dataType:"json",pasteZone:null,formData:{DATA:JSON.stringify({TOKEN:gToken})},drop:function(e){return r.disAllowSubmit(),!1},add:r.fuAddFile,start:r.fuStart,progress:r.fuProgress,progressall:r.fuProgress,done:r.fuDone})}function n(e){function t(e){var t=e.attr("starSelected");e.find(".star").removeAttr("style"),t>0&&e.find(".star").eq(t-1).attr("style","background-position:0% 100%;").prevAll(e).attr("style","background-position:0% 100%;")}function n(){var e=$(this),n=e.closest(".f_component"),i=n.attr("serialnum"),a=(n.find(".error"),X[i]);a.star,r.stClick=function(){$(this).parent(".starGroup").attr("starSelected",$(this).closest(".starGroup").find(".star").index($(this))+1),a.selected=$(this).closest(".starGroup").find(".star").index($(this))+1,G.component[i].selected=$(this).closest(".starGroup").find(".star").index($(this))+1,t($(this).parent(".starGroup")),U($(this).closest(".f_component").find(".error"),i)},void 0===a.selected&&(a.selected=0,G.component[i].selected=0),e.find(".star").mouseover(function(e){$(this).prevAll().addClass("selected"),$(this).addClass("selected"),$(this).nextAll().removeClass("selected").removeAttr("style")}).mouseout(function(e){$(this).prevAll().removeClass("selected"),$(this).removeClass("selected"),$(this).nextAll().removeClass("selected").removeAttr("style"),t($(this).parent(".starGroup"))}).click(r.stClick)}e.length>0&&e.each(n)}function i(e){function t(e,t){var n=e.find(".f_shoppingItem");n.each(function(e){var n,i=$(this),a=i.attr("itemid");if(i.attr("uid"))n=i.attr("uid");else{do n=uidMaker();while(ue.info[n]);i.attr("uid",n)}ue.info[n]=$.extend(!0,{},X[t].value[a]),ue.info[n].serialNum=t,ue.info[n].iindex=a,X[t].value[a].quantity||(X[t].value[a].quantity=0),G.component[t].value[a].uid=n,G.component[t].value[a].quantity||(G.component[t].value[a].quantity=0),window.isMobile?(i.on("touchstart.reduceItem",".shopItem_remove",r.spReduceItem),i.on("touchstart.addItem",".shopItem_add",r.spAddItem),i.on("input.changeItem",".shopItem_num",r.spChangeItem),i.on("click.focusItem",".shopItem_num",r.selectFocus)):(i.on("click.reduceItem",".shopItem_remove",r.spReduceItem),i.on("click.addItem",".shopItem_add",r.spAddItem),i.on("keyup.changeItem",".shopItem_num",r.spChangeItem),i.on("click.focusItem",".shopItem_num",r.selectFocus))}),ye&&Q.append("<p>CART INFO::<br>"+JSON.stringify(ue.info)+"<br></p>")}r.spAddItem=function(){var e=$(this),t=e.closest(".f_component"),n=t.attr("serialnum"),i=e.siblings(".shopItem_num"),a=$(this).closest(".f_shoppingItem"),o=t.find(".error"),r=a.attr("uid"),s=ue.result[r],c=ue.info[r];s||(ue.result[r]={N:ue.info[r].name,P:ue.info[r].price,Q:0},s=ue.result[r]),s.Q++,X[c.serialNum].value[c.iindex].num&&parseInt(X[c.serialNum].value[c.iindex].num,0)<s.Q&&s.Q--,
0===s.Q&&delete ue.result[r],x()>he&&""!=G.form.paymenttype?(fe=!1,$("#mfcart").find(".f_errorinfo").show().text("您的交易额超过了支付限额"+(ue.total.toFixed(2)-he).toFixed(2)+"元，请调整。")):(fe=!0,$("#mfcart").find(".f_errorinfo").hide()),i.val(s.Q),c.quantity=s.Q,X[c.serialNum].value[c.iindex].quantity=s.Q,G.component[c.serialNum].value[c.iindex].quantity=s.Q,U(o,n),C(),ye&&Q.append(_debug_out(JSON.stringify(s)))},r.spReduceItem=function(){var e=$(this),t=e.closest(".f_component"),n=t.attr("serialnum"),i=e.siblings(".shopItem_num"),a=$(this).closest(".f_shoppingItem").attr("uid"),o=t.find(".error"),r=ue.result[a],s=ue.info[a];r&&(r.Q--,0===r.Q&&delete ue.result[a],i.val(r.Q),s.quantity=r.Q,X[s.serialNum].value[s.iindex].quantity=r.Q,G.component[s.serialNum].value[s.iindex].quantity=r.Q,U(o,n)),x()>he&&""!=G.form.paymenttype?(fe=!1,$("#mfcart").find(".f_errorinfo").show().text("您的交易额超过了支付限额"+(ue.total.toFixed(2)-he).toFixed(2)+"元，请调整。")):(fe=!0,$("#mfcart").find(".f_errorinfo").hide()),C(),ye&&(Q.append(_debug_out(JSON.stringify(r))),Q.append(_debug_out("CURRENT::<br>"+JSON.stringify(ue.result))))},r.spChangeItem=function(){var e=$(this),t=e.closest(".f_component"),n=t.attr("serialnum"),i=$(this).closest(".f_shoppingItem").attr("uid"),a=ue.result[i],o=t.find(".error"),r=parseInt($.trim(e.val()),0),s=ue.info[i];isNaN(r)&&(r=0),!a&&r>0?(ue.result[i]={N:ue.info[i].name,P:ue.info[i].price,Q:r},a=ue.result[i]):r>0?a.Q=r:delete ue.result[i],a?X[s.serialNum].value[s.iindex].num&&parseInt(X[s.serialNum].value[s.iindex].num,0)<a.Q&&(a.Q=0,delete ue.result[i],r=0):r=0,x()>he&&""!=G.form.paymenttype?(fe=!1,$("#mfcart").find(".f_errorinfo").show().text("您的交易额超过了支付限额"+(ue.total.toFixed(2)-he).toFixed(2)+"元，请调整。")):(fe=!0,$("#mfcart").find(".f_errorinfo").hide()),e.val(r),s.quantity=r,X[s.serialNum].value[s.iindex].quantity=r,G.component[s.serialNum].value[s.iindex].quantity=r,U(o,n),C(),ye&&(Q.append(_debug_out(JSON.stringify(a))),Q.append(_debug_out("CURRENT::<br>"+JSON.stringify(ue.result))))},r.selectFocus=function(e){e.preventDefault(),e.stopPropagation(),$(this).select()},re?(b(),e.length>0&&e.each(function(e){var n=$(this),i=n.closest(".f_component"),a=i.attr("serialnum");t(n,a)})):e.length>0&&(b(),e.each(function(e){var n=$(this),i=n.closest(".f_component"),a=i.attr("serialnum");t(n,a)}))}var a=$(".f_component"),o=$(".f_submit"),r={};r.decorateClickedComponent=function(){var e=$(this);"id_section"!==e.attr("com-name")&&"id_picture"!==e.attr("com-name")&&(e.hasClass("fs_component")||($(".fs_component").removeClass("fs_component"),e.addClass("fs_component")))},r.hoverShowShare=function(){var e=$(this);e.stop().animate({width:106},230,function(){})},r.moveoutHideShare=function(){var e=$(this);e.stop().animate({width:30},230,function(){})},r.showShareQRCode=function(){TINY.box.show({html:$(".popwin_weixinshare").html(),animate:!0,close:!1,modal:!1,width:210,height:240,boxid:"weixinshare",openjs:function(){var e=$("#weixinshare");if(0===$(".popwin_weixinshare").find(".sharecode").length){var t='<img class="sharecode" src="'+window.parseHttps(decodeURIComponent(picPath))+'"><div class="share_des">微信“扫一扫”分享给好友</div>';e.find(".popwin_content").append(t),$(".popwin_weixinshare").find(".popwin_content").append(t)}}})},r.getWxNickName=function(){return mkTempStore.save("wxauth",!0),mkTempStore.save("token",gToken),mkTempStore.save("cart",JSON.stringify(ue)),mkTempStore.save("form_sub",JSON.stringify(X)),mkTempStore.save("contact_sub",JSON.stringify(Z)),mkTempStore.save("form_obj",JSON.stringify(G)),_e._info&&_e._info.auth?window.location.href=_e._info.uri:$.ajax({url:"handler/handleGetWechatParamsForUserInfo.php",type:"POST",dataType:"json",data:{DATA:JSON.stringify({COOKIE:"",FORMTOKEN:gToken})}}).done(function(e){if(e.newCookie&&(mkCookie.set("wxoaid",e.newCookie,{expires:100,path:"/",domain:window.cookieDomain}),mkTempStore.save("wxoaid",e.newCookie),_e.cookie=e.newCookie),e.flag){if(e.id){if(window.readonly){var t=-1===e.redirect_uri.indexOf("?")?"?":"&";e.redirect_uri=e.redirect_uri+t+"m=readonly"}var n="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+encodeURIComponent(e.id)+"&redirect_uri="+encodeURIComponent(e.redirect_uri)+"&response_type=code&scope=snsapi_userinfo&state="+encodeURIComponent(e.state)+"#wechat_redirect";window.location.href=n}return!1}}),!1},r.changeInputData=function(){var e=$(this),t=e.closest(".f_component"),n=t.attr("serialnum"),i=t.find(".error");X[n].value=htmlStr($.trim(e.val())),G.component[n].value=htmlStr($.trim(e.val())),N({name:t.attr("com-name"),val:X[n].value},t),U(i,n),ye&&(Q.append(_debug_out("检查值：  "+X[n].value)),Q.append(_debug_out(JSON.stringify(Z))))},r.blurMbvcInputData=function(e){e.stopPropagation();var t=$(this),n=t.closest(".f_component"),i=n.attr("serialnum"),a=n.find(".fs_cMbvc"),o=n.find(".mbvc_error"),r=t.val()||"",s=$(".fs_mobile_vcode_btn").prev().val()||"",c=function(e,t){e.find(".mbvc_error").remove(),e.append('<label class="mbvc_error">'+t+"</label>")};X[i].mobile_vcode_com.mbvc_value=htmlStr($.trim(t.val())),G.component[i].mobile_vcode_com.mbvc_value=htmlStr($.trim(t.val())),U(o,i,!0),ye&&(Q.append(_debug_out("检查值：  "+X[i].mobile_vcode_com.mbvc_value)),Q.append(_debug_out(JSON.stringify(Z)))),""!=r&&4==r.length&&"disabled"!==t.attr("disabled")&&(t.attr("disabled","disabled").siblings(".sms_checking").show().siblings(".sms_checked").hide(),$.ajax({url:"handler/handleCheckSmsRandomCode.php",type:"POST",mode:"abort",data:{DATA:'{"randomCode":"'+r+'","phone":"'+s+'"}'},dataType:"JSON"}).done(function(e){var n=!1;e.flag===!0?(n=!0,X[i].mobile_vcode_com.checked_vcode=r,X[i].mobile_vcode_com.checked_mobile=s,G.component[i].mobile_vcode_com.checked_vcode=r,G.component[i].mobile_vcode_com.checked_mobile=s,t.removeAttr("disabled").siblings(".sms_checking").hide().siblings(".sms_checked").show(),a.find(".mbvc_error").remove()):(1===e.code?c(a,"验证码错误，请重新获取验证码"):c(a,"验证码错误，请重试"),t.removeAttr("disabled").siblings(".sms_checking").hide().siblings(".sms_checked").hide()),X[i].mobile_vcode_com.checked=n,G.component[i].mobile_vcode_com.checked=n}).error(function(){c(a,"网络错误，请重试"),X[i].mobile_vcode_com.checked=!1,G.component[i].mobile_vcode_com.checked=!1,t.removeAttr("disabled").siblings(".sms_checking").hide().siblings(".sms_checked").hide()}))},r.fsMobileVcodeBtn=function(){var e=$(this),t=e.closest(".f_component"),n=t.find(".f_cTitle"),i=t.attr("serialnum"),a=e.prev(),o=a.val()||"",r=function(e,t,n,i){e.find(".error,.info").remove();var a=n?"error info":"error";e.append('<label class="'+a+'">'+t+"</label>"),window.showMobileErrorTimeoutNum&&(clearTimeout(window.showMobileErrorTimeoutNum),window.showMobileErrorTimeoutNum=null),i&&(window.showMobileErrorTimeoutNum=setTimeout(function(){e.find(".error,.info").remove()},5e3))};e.hasClass("waiting")||(""==o?r(n,"手机号不能为空"):(a.attr("disabled","disabled"),r(n,"验证码获取中...",!0),$.ajax({url:"handler/handleSendSmsSecurityCode.php",type:"POST",mode:"abort",data:{DATA:'{"FRTOKEN":"'+gToken+'", "TO":"'+o+'"}'},dataType:"JSON"}).done(function(a){t.find(".fs_cMbvc_input").val("").trigger("change"),a.flag?(r(n,"验证码已发送，请注意查收",!0,!0),delete X[i].mobile_vcode_com.checked_vcode,delete X[i].mobile_vcode_com.checked_mobile,delete G.component[i].mobile_vcode_com.checked_vcode,delete G.component[i].mobile_vcode_com.checked_mobile,e.siblings(".fs_cMbvc_container").children(".fs_cMbvc_input").removeAttr("disabled").siblings(".sms_checking,.sms_checked").hide(),e.next(".fs_cMbvc").find(".mbvc_error").remove(),e.addClass("waiting").html("<span>60</span>s后重新获取"),window.MbvcIntervalCount=1,window.MbvcIntervalNum&&(clearInterval(window.MbvcIntervalNum),window.MbvcIntervalNum=null),window.MbvcIntervalNum=setInterval(function(){var e=$(".fs_mobile_vcode_btn");return 0==e.length?(clearInterval(window.MbvcIntervalNum),void(window.MbvcIntervalNum=null)):(e.children("span").html(60-window.MbvcIntervalCount),window.MbvcIntervalCount>59?(e.removeClass("waiting").html("获取验证码"),e.prev().removeAttr("disabled"),clearInterval(window.MbvcIntervalNum),void(window.MbvcIntervalNum=null)):void window.MbvcIntervalCount++)},1e3)):($(".fs_mobile_vcode_btn").prev().removeAttr("disabled"),0===a.code?r(n,"验证码发送失败，请重试"):1===a.code?(G.component[i].gSMSHasBalance=0,window.gSMSHasBalance=xe=0,t.find(".fs_cHasMbvc").hide(),t.find(".fs_cNoneMbvc").show().find("input").val(o).trigger("change"),n.find(".error,.info").remove()):2===a.code?r(n,"请输入正确格式的手机号码"):3===a.code?r(n,"验证码发送过频，稍后再试"):4===a.code?r(n,"验证码发送过频，请稍后再试"):5===a.code&&r(n,"请30分钟后再试"))}).error(function(){$(".fs_mobile_vcode_btn").prev().removeAttr("disabled"),r(n,"网络错误，请重试")})))},r.inputNumberCheck=function(){!function(e){return window.setTimeout(function(){var t=$.trim(e.val()),n=e.closest(".f_component"),i=n.attr("serialnum"),a=n.find(".error");t=t.match(/-?([0-9]*)\.?([0-9]+)?/)||[],e.val(t[0]||""),X[i].value=$.trim(e.val()),G.component[i].value=$.trim(e.val()),N({name:n.attr("com-name"),val:X[i].value},n),U(a,i),ye&&(Q.append(_debug_out("检查值：  "+X[i].value)),Q.append(_debug_out(JSON.stringify(Z))))},100)}($(this))},r.changeBtnData=function(e){var t,n,i,a=$(this),o=a.closest(".f_component"),r=o.attr("serialnum"),s=a.attr("type"),c=X[r].value,d=o.find(".error");e.stopPropagation&&e.stopPropagation(),ye&&Q.append(_debug_out("被按下的按钮类型："+s));for(var l in c)c.hasOwnProperty(l)&&(n=$("#"+s+"-id-"+r+"-"+l),t="checked"==n.attr("checked"),c[l].selected=t,G.component[r].value[l].selected=t,window.isMobile&&(i=n.siblings(".i"+s+"_square-blue"),i.length>0&&(t?i.addClass("checked"):i.removeClass("checked"))));if("checkbox"===s){var u=G.component[r];1===u.stype&&(c.filter(function(e){return e.selected}).length<u.snumber?o.find("input").removeAttr("disabled").siblings(".f_optionVal").removeClass("fs_disabled_elem"):o.find("input").each(function(){var e=$(this);e.hasClass("f_otherinput")||e.attr("checked")||(e.attr("disabled","disabled"),e.siblings(".f_optionVal").addClass("fs_disabled_elem"))}))}k(G.component),N({name:o.attr("com-name"),val:a.attr("gendervalue")},o),U(d,r),ye&&Q.append(_debug_out(JSON.stringify(X[r])))},r.otherInputChange=function(e){var t=$(this),n=t.closest(".f_optionsLi");$option=n.find(".f_optionBtn"),$com=t.closest(".f_component"),serialNum=$com.attr("serialnum"),e.stopPropagation(),n.find(".f_optionBtn").attr("checked","checked").trigger("change"),X[serialNum].value[$option.attr("value")].name=$.trim(t.val()),G.component[serialNum].value[$option.attr("value")].name=$.trim(t.val()),ye&&Q.append(_debug_out(X[serialNum].value[$option.attr("value")].name))},r.mkchangeSelectData=function(){var e=$(this),t=e.closest(".f_component"),n=t.attr("serialnum"),i=X[n].value,a=t.find(".error");for(var o in i)i.hasOwnProperty(o)&&(o===e.children("option:selected").attr("name")?(i[o].selected=!0,G.component[n].value[o].selected=!0):(i[o].selected=!1,G.component[n].value[o].selected=!1),i[o].input&&(i[o].selected?t.append('<input type="text" k="'+o+'" class="medium f_selectother fs_content">'):(t.find(".f_selectother").remove(),i[o].name="")));k(G.component),U(a,n),ye&&Q.append(_debug_out(JSON.stringify(X[n])))},r.selectInputChange=function(){var e=$(this),t=e.closest(".f_component"),n=t.attr("serialnum");X[n].value[e.attr("k")].name=$.trim(e.val()),G.component[n].value[e.attr("k")].name=$.trim(e.val()),ye&&Q.append(_debug_out(X[n].value[e.attr("k")].name))},r.stopP=function(e){e&&e.preventDefault&&(e.stopPropagation(),e.preventDefault())},r.mobileStopClick=function(e){e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1},r.changeDateData=function(){var e=$(this),t=e.closest(".f_component"),n=t.attr("serialnum"),i=t.find(".error"),a=$.trim(e.val().replace(/[年月日]/g,"-")||"");X[n].value=a,G.component[n].value=a,e.val(a),N({name:t.attr("com-name"),val:X[n].value},t),U(i,n),ye&&Q.append(_debug_out("日期格式是否正确监测：  "+X[n].value))},r.zdOnSelectDate=function(e){var t=arguments[3],n=t.closest(".f_component"),i=n.find(".error"),a=n.attr("serialnum");X[a].value=$.trim(e),G.component[a].value=$.trim(e),N({name:n.attr("com-name"),val:X[a].value},n),U(i,a),ye&&Q.append(_debug_out("日期格式是否正确监测：  "+X[a].value))},r.removeSelectedFile=function(){var e=$(this),t=e.closest(".f_component"),n=t.attr("serialnum"),i=0,a=[],o=G.component;if(e.hasClass("disable"))return!1;if(void 0===t.attr("current-index-value")){for(var r in o)"id_fileUpload"===o[r].name&&a.push(parseInt(r,10));i=$.inArray(parseInt(n,10),a),t.attr("current-index-value",i)}else i=t.attr("current-index-value");ce[i]=0,X[n].value="",G.component[n].value="",me-=1,de["i"+i]=!1,e.siblings(".input_file").removeAttr("filePath has-file"),e.siblings(".upload_text").text("请选择小于20M文件进行上传"),e.remove()},r.fuAddFile=function(e,t){var n=0,i=$(this),a=i.closest(".f_component"),o=a.find(".error"),s=a.attr("serialnum"),c=i.siblings(".upload_text"),d=X[s].filetype,l=[],u=t.files[0],p=[],f=G.component,m=function(e){var t=a.find(".f_cTitle");t.append('<label class="error">'+e+"</label>"),setTimeout(function(){t.find(".error").remove()},2e3)};if(i.hasClass("disable"))return!1;if(void 0===a.attr("current-index-value")){for(var h in f)"id_fileUpload"===f[h].name&&p.push(parseInt(h,10));n=$.inArray(parseInt(s,10),p),a.attr("current-index-value",n)}else n=a.attr("current-index-value");if(d){for(var g=u.name.split("."),_="",h=0,b=d.length;b>h;h++)l=l.concat(d[h].split("/"));if(d=l,$.inArray("jpg",d)>=0&&d.push("jpeg"),!(g.length>1))return m("文件类型不正确"),!1;if(_=g[g.length-1],$.inArray(_.toLowerCase(),d)<0)return m("文件类型不正确"),!1}var v=function(){i.attr("has-file",!0),c.text(u.name).removeClass("file_error"),t.token=gToken,t.componentName=i.closest(".f_component").attr("name"),ce[n]=t,i.attr("filePath","%%UID%%").parent().append('<img class="file_cancel" src="images/icon/importFileCancel.png">'),X[s].value="%%UID%%",U(o,s),$(".file_cancel").off("click.removeSelectedFile").on("click.removeSelectedFile",r.removeSelectedFile),t.submit();var e="i"+n;de[e]||(de[e]=!0,me+=1)};u.size?u.size<2e7?v():m("文件大小超过了20M"):!function(e,t){t(0)}(t,function(e){2e7>e?v():m("文件大小超过了20M")})},r.fuStart=function(){var e=$(this);e.siblings(".upload_text").text("开始上传…"),e.siblings(".upload_progress").fadeIn(),r.disAllowSubmit(1)},r.fuProgress=function(e,t){var n=100,i=parseInt(t.loaded/t.total*n,10);$(this).siblings(".upload_text").text("正在上传……"+i+"%").siblings(".upload_progress").css("width",.9*i+"%")},r.fuDone=function(e,t){var n=t.result.flag,i=$(this),a=i.siblings(".upload_text");if(n){a.text("文件上传成功！").siblings(".upload_progress").css("width","90%");var o=function(e){var t=0;return $.each(e,function(e,n){n&&t++}),t};if(me===o(ce)&&me>0){i.siblings(".upload_progress").fadeOut(),r.disAllowSubmit();var s=i.closest(".f_component"),c=s.attr("serialnum");X[c].value=t.result.data.fileUId}}else{var d=function(e){var t=i.closest(".f_component").find(".f_cTitle");t.append('<label class="error">'+e+"</label>"),setTimeout(function(){t.find(".error").remove()},2e3)};d("上传失败"),a.text("请选择小于20M文件进行上传").siblings(".upload_progress").css("width","0%"),i.siblings(".upload_progress").css("width","0%").fadeOut(),a.siblings(".input_file").removeAttr("filePath has-file"),a.siblings(".file_cancel").remove(),r.disAllowSubmit(),le=0}},r.disAllowSubmit=function(e){1==e?$(".f_submitBtn").addClass("f_submitBtnUploading").removeClass("f_submitBtn").attr("style","cursor:default;display:inline-block;line-height:28px;padding:0 20px;font-size:13px;text-align:center;color:#969696;background:#EBEBEB;border-radius:2px;"):$(".f_submitBtnUploading").removeClass("f_submitBtnUploading").removeAttr("style").addClass("f_submitBtn")},r.formatDate=function(){function e(e){return e+="",1===e.length?"0"+e:e}var t=$(this),n=t.closest(".f_component"),i=n.find(".error"),a=n.attr("serialnum"),o=t.val(),r="",s=/^[1-9]\d{3}-\d+-\d+/;if("m"===t.attr("datetype")&&(s=/^[1-9]\d{3}-\d+/),s.test(o)&&(o=o.split("-"),parseInt(o[1])<=12))if(3===o.length){var c=new Date;c.setYear(o[0]),c.setMonth(parseInt(o[1])),c.setDate(-1),c.getDate()+1>parseInt(o[2])&&(r+=c.getFullYear()+"-"+e(c.getMonth()+1)+"-"+e(parseInt(o[2])))}else r+=o[0]+"-"+e(parseInt(o[1]));X[a].value=r,G.component[a].value=r,t.val(r),N({name:n.attr("com-name"),val:X[a].value},n),U(i,a)},r.formatBirthday=function(){function e(e){return e+="",1===e.length?"0"+e:e}var t=$(this),n=t.closest(".f_component"),i=n.find(".error"),a=n.attr("serialnum"),o=t.val(),r="",s=/^([0-9]{4}-)*\d+-\d+$/;if(s.test(o))if(o=o.split("-"),2===o.length){if(parseInt(o[0])<=12){var c=new Date;c.setYear(2012),c.setMonth(parseInt(o[0])),c.setDate(-1),c.getDate()+1>parseInt(o[1])&&(r+=e(c.getMonth()+1)+"-"+e(parseInt(o[1])))}}else if(3===o.length&&parseInt(o[1])<=12){var c=new Date;c.setYear(o[0]),c.setMonth(parseInt(o[1])),c.setDate(-1),c.getDate()+1>parseInt(o[2])&&(r+=e(c.getFullYear())+"-"+e(c.getMonth()+1)+"-"+e(parseInt(o[2])))}X[a].value=r,G.component[a].value=r,t.val(r),N({name:n.attr("com-name"),val:X[a].value},n),U(i,a)},r._submit=function(){var e=R();fe&&(!1===e?($(".f_submitBtn").text("提交中..."),A()):(ye&&Q.append(_debug_out(JSON.stringify(e))),q(e)))},a.on("click.decorateClickedComponent",r.decorateClickedComponent),a.on("input.inputChangeData",".input:not(.date,.number,.fs_cMbvc_input)",r.changeInputData),a.on("input.numberCheck",".number",r.inputNumberCheck),a.on("input.textareaChangeData",".textarea",r.changeInputData),a.on("change.inputChangeData",".input:not(.date,.number,.fs_cMbvc_input)",r.changeInputData),a.on("change.numberCheck",".number",r.inputNumberCheck),a.on("change.textareaChangeData",".textarea",r.changeInputData),a.on("change.btnChangeData",".f_optionBtn",r.changeBtnData),a.on("change.otherInput",".f_otherinput",r.otherInputChange),a.on("change.selectChangeData",".insideSelect",r.mkchangeSelectData),a.on("change.otherSelectInput",".f_selectother",r.selectInputChange),a.on("click.stopPropagation",".f_otherinput",r.stopP),a.on("input.blurMbvcInputData",".fs_cMbvc_input",r.blurMbvcInputData),a.on("change.blurMbvcInputData",".fs_cMbvc_input",r.blurMbvcInputData),a.on("click",".fs_weixin_info_btn",r.getWxNickName),preview||a.on("click",".fs_mobile_vcode_btn",r.fsMobileVcodeBtn),!window.isMobile&&picPath&&$(".f_share").on("mouseover.hoverShowShare",r.hoverShowShare).on("mouseout.moveoutHideShare",r.moveoutHideShare).on("click.showShareQRCode",r.showShareQRCode),window.isMobile&&a.off("touchstart").on("touchstart",".f_optionsLi ins",function(e){var t=$(this).siblings(".f_optionBtn"),n=$(this).siblings(".f_optionVal");return n.hasClass("fs_disabled_elem")||("checked"==t.attr("checked")?t.removeAttr("checked"):t.attr("checked","checked"),r.changeBtnData.call(t[0],e)),!1}),re||o.on("click.submitForm",".f_submitBtn",r._submit),e(a.find(".date")),t(a.find(".upload_input")),n(a.find(".starGroup")),i(a.find(".f_shoppingList")),"LAJ6q2"==gToken&&Be(),$(window).trigger("__render_page")}function b(){var e='<div class="f_cart" id="mfcart" style="display: none;"><ul class="f_productslist"></ul><div class="f_totalprice"><span class="f_priceshow"></span><br/><br/><span class="f_errorinfo"></span></div></div>',t='<form id="form_shopping_pay" action="alipay/form_alipayapi.php" target="_blank" method="get"><input type="hidden" name="ORDER" id="order"></form>';0===$("#mfcart").length&&(ue||(ue={info:{},result:{},total:0}),re?(ae===ie.length&&$(".f_page").before(e),C()):$(".f_submit").before(e),$("body").append(t))}function v(e){return ee.header(G.form)+'<div class="f_body fs_body"><div class="f_component"><p class="f_submittext">'+e+"</p></div></div>"}function w(e){function t(e){var t,n=e.toString().length;return t=2>n?"0"+e:e}var n,i=!1,a=1;return"UNSTART"===e.status?(n=function(){e.startOn?$(".fs_main").empty().html(v('真遗憾，这张表单还未开始收集，开始收集表单时间为：<br><span class="f_time">'+e.startOn.substring(16,0)+"</span>")):e.countdown&&!function(e){var n=setInterval(function(){if(e>0){e--;var i=Math.floor(e%60),a=Math.floor(e/60%60),o=Math.floor(e/3600%24);$(".fs_main").empty().html(v('真遗憾，这张表单还未开始收集，距离开始收集表单时间还有：<br><span class="f_time">'+t(o)+" 小时 "+t(a)+" 分钟 "+t(i)+" 秒</span>"))}else window.clearInterval(n),location.reload()},1e3)}(e.countdown),$(window).trigger("__share_image_ready")},i=!0,a=0):"STOPPED"!==e.status||window.readonly?"MAX"!==e.status||window.readonly?window.submitOnce&&!window.readonly&&$.inArray(gToken,((mkCookie.get("submitOnce")?mkCookie.get("submitOnce"):mkTempStore.get("submitOnce"))||"").split(","))>=0?(n=function(){var e="对不起，这张表单只能提交一次，您已经提交过了。";$(window).trigger("__share_image_ready"),$(".fs_main").empty().html(v(e)).find(".f_component").append('<div class="f_submit"><a class="f_viewBtn" href="'+window.gToken+'?m=readonly">查看表单</a>'+("1"===window.publicChartEnable?'<a class="f_chartViewBtn" href="r.php?t='+window.gToken+'">统计图表</a>':"")+("1"===window.openFeedback?'<a class="f_chartViewBtn f_feedbackViewBtn" href="rfl.php?t='+window.gToken+'">反馈详情</a>':"")+"</div>")},i=!0,a=-1):"OK"===e.status&&(i=!1,a=1):(n=function(){var e="真遗憾，这张表单已达到设置的收集上限~~";$(window).trigger("__share_image_ready"),$(".fs_main").empty().html(v(e)).find(".f_component").append('<div class="f_submit"><a class="f_viewBtn" href="'+window.gToken+'?m=readonly">查看表单</a>'+("1"===window.publicChartEnable?'<a class="f_chartViewBtn" href="r.php?t='+window.gToken+'">统计图表</a>':"")+("1"===window.openFeedback?'<a class="f_chartViewBtn f_feedbackViewBtn" href="rfl.php?t='+window.gToken+'">反馈详情</a>':"")+"</div>")},i=!0,a=0):(n=function(){var e="真遗憾，这张表单已停止收集~~";$(window).trigger("__share_image_ready"),$(".fs_main").empty().html(v(e)).find(".f_component").append('<div class="f_submit"><a class="f_viewBtn" href="'+window.gToken+'?m=readonly">查看表单</a>'+("1"===window.publicChartEnable?'<a class="f_chartViewBtn" href="r.php?t='+window.gToken+'">统计图表</a>':"")+("1"===window.openFeedback?'<a class="f_chartViewBtn f_feedbackViewBtn" href="rfl.php?t='+window.gToken+'">反馈详情</a>':"")+"</div>")},i=!0,a=0),i&&$(document).queue("renderPage",n),a}function y(e){var t,n;for(var i in e)e[i].jump?(t=[],n={},function(a,o,r){if(("id_radio"===r||"id_pictureRadio"===r||"id_dropDown"===r)&&(delete a.jumpto,delete a.condition),a.jumpto)""===a.condition&&e.slice(parseInt(i,0)+1).every(function(e,n){return"end"!==a.jumpto&&e.id===a.jumpto?!1:(t.push({id:e.id,snum:parseInt(n,0)+parseInt(i,0)+1}),!0)});else if("[object Array]"===Object.prototype.toString.call(o)&&"id_checkBox"!==r){var s=[];o.forEach(function(t){var o=t.lid,r=[];a[o]&&e.slice(parseInt(i,0)+1).every(function(e,t){return"end"!==a[o]&&e.id===a[o]?!1:(r.push({id:e.id,snum:parseInt(t,0)+parseInt(i,0)+1}),s.push({id:e.id,snum:parseInt(t,0)+parseInt(i,0)+1}),!0)}),n[o]=r});var c=[];s.forEach(function(e){-1===$.inArray(e.id,c)&&(t.push(e),c.push(e.id))})}}(e[i].jump,e[i].value,e[i].name),e[i].tmp_hideList={l:t,ol:n}):e[i].tmp_hideList=!1}function k(e){var t=!1,n={},i={},a=[],o=[],r=[];for(var s in e)t=!1,n=X[s],i=e[s],n.need===!1&&r.push(n.id),e[s].need=!0,X[s].need=!0,$.inArray(i.id,a)>=0||!function(e,t){var n=e.value,i=[],r=!1;e.tmp_hideList&&("[object Array]"===Object.prototype.toString.call(n)&&"id_shopping"!==e.name&&"id_checkBox"!==e.name&&"id_pictureCheckbox"!==e.name&&(r=!0,n.forEach(function(e){e.selected&&e.defaultTip!==!0&&i.push(e.lid)})),i=i.filter(function(e){return e}),r?i.length>0?i.forEach(function(t){o=o.concat(e.tmp_hideList.ol[t]||[]),a=a.concat((e.tmp_hideList.ol[t]||[]).map(function(e){return e.id}))}):o=o.concat(e.tmp_hideList.l):(o=o.concat(e.tmp_hideList.l),a=a.concat(e.tmp_hideList.l.map(function(e){return e.id}))))}(i,n);for(var c in e)e[c].jump&&("id_section"===e[c].name||"id_picture"===e[c].name)&&!function(e){var t=e.jump,n=!1;("prev"===t.condition||"next"===t.condition)&&(o&&o.every(function(e){return e&&e.id===t.showWith?(n=!0,!1):!0}),n?o.push({id:e.id,snum:c}):o.forEach(function(t,n){t&&t.id===e.id&&(o[n]=null)}))}(e[c]);var d=[],l=!1;if(o.forEach(function(e,t){l=!1,e&&(d.every(function(t){return e.id===t.id?(l=!0,!1):!0}),l||d.push(o[t]))}),o=d,o.map(function(e){var t=X[e.snum];oe?$('.f_component[name="'+e.id+'"]').hide():window.isMobile?$('.f_component[name="'+e.id+'"]').hide():$('.f_component[name="'+e.id+'"]').stop(!0,!0).slideUp(320),t.need=!1,S(e.snum),G.component[e.snum].need=!1}),oe&&(oe=!1),r.forEach(function(e,t){o.forEach(function(n){e===n.id&&(r[t]=!1)})}),$(r.filter(function(e){return e}).map(function(e){return'.f_component[name="'+e+'"]'}).join(", ")).stop(!0,!0).slideDown(200),re){var u,p=ie[ae-0],f=G.component;u=p?f.slice(p,f.length+1):[],ae>=0&&(m(u)===!1?($(".f_pageNext").addClass("fs_disable"),$(".f_submitBtn").removeClass("fs_disable")):($(".f_pageNext").removeClass("fs_disable"),$(".f_submitBtn").addClass("fs_disable"))),$(".f_pageNext").hasClass("fs_disable")||$(".f_pagePrev").hasClass("fs_disable")||($(".f_pageNext").addClass("fs_view50"),$(".f_pagePrev").addClass("fs_view50"))}$(window).trigger("__render_logic")}function x(){var e=ue.result,t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=parseInt(parseFloat(100*e[n].P*e[n].Q).toFixed(0)));return t=parseInt(t,0)/100,ue.total=t,t}function C(){var e="",t=$("#mfcart"),n=0;if(ue&&ue.result){var i=ue.result;n=0;for(var a in i)i.hasOwnProperty(a)&&(n++,e+='<li class="f_productitem"><span class="fp_name">'+i[a].N+'</span><span class="fp_num">'+i[a].Q+'</span><span class="fp_price">'+be+(parseInt(parseFloat(i[a].Q*i[a].P*100,0).toFixed(0))/100).toFixed(2)+"</span></li>")}if(t.find(".f_productslist").html(e),ue&&ue.total){var o=parseFloat(ue.total).toFixed(2);t.find(".f_priceshow").text(be+o)}n>0?t.show():t.hide()}function I(){var e=parseURL(location.href).params,t=[],n="";if(e){for(var i in e)e.hasOwnProperty(i)&&t.push(i);for(var a in X)X.hasOwnProperty(a)&&$.inArray(X[a].id,t)>=0&&(n=htmlStr(decodeURIComponent(e[X[a].id])),X[a].value=n,G.component[a].value=n)}}function T(){if("undefined"!=typeof getInfo&&getInfo!==!1){var e=[];for(var n in getInfo)getInfo.hasOwnProperty(n)&&e.push(n);for(var i in X)X.hasOwnProperty(i)&&$.inArray(X[i].name,e)>=0&&(t=htmlStr(decodeURIComponent(getInfo[X[i].name]||"")),X[i].value=t,G.component[i].value=t)}}function D(){var e=parseURL(location.href).params,t={};for(var n in e)$.inArray(n,["n","org","title","adr","tel","email","qq","weixin","gender","city","phone","fax","url","bday","note"])>=0&&(t[n]=decodeURIComponent(e[n]));return new u(t,{name:"n",city:"city",website:"url",company:"org",job:"title",email:"email",mobile:"tel",qq:"qq",phone:"phone",fax:"fax",weixin:"weixin",wechat:"wechat",address:"adr",gender:"gender",note:"note",birthday:"bday"}),!0}function S(e){function t(e){e.quantity=0,e.uid&&(ue.result[e.uid]&&delete ue.result[e.uid],$('.f_shoppingItem[uid="'+e.uid+'"]').find(".shopItem_num").val(0))}function n(e){e.selected=!1,e.input===!0&&(e.name="")}var i=X[e],a=G.component[e],o=$('.f_component[serialnum="'+e+'"]');switch(a.name){case"id_shopping":a.value.forEach(t),i.value.forEach(t),C();break;case"id_fileUpload":var r=G.component,s=[],c=-1;for(var d in r)"id_fileUpload"===r[d].name&&s.push(parseInt(d,10));c=$.inArray(parseInt(e,10),s),ce[c]=0,a.value="",i.value="";var l=o.find(".file_cancel");l.siblings(".input_file").removeAttr("filePath has-file"),l.siblings(".upload_text").text("请选择小于20M文件进行上传"),l.remove();break;case"id_singleLine":case"id_number":case"id_multiple":case"id_date":o.find(".input").val(""),o.find(".textarea").val(""),o.find(".date").val(""),a.value="",i.value="";break;case"id_checkBox":case"id_radio":case"id_dropDown":case"id_pictureCheckbox":case"id_pictureRadio":case"basic_gender":o.find(".f_optionBtn").removeAttr("checked"),o.find(".insideSelect").val(-1),o.find(".f_otherinput").val(""),a.value.forEach(n),i.value.forEach(n);break;case"id_star":o.find(".star").removeAttr("style"),a.selected=0,i.selected=0;break;case"id_section":case"id_page":case"id_picture":}}function F(){var e={},t=X,n=Z,i={},a=G.form;n=M(n),ye&&Q.append("<p>CLEANED CONTACT INFO:  "+JSON.stringify(n)+"</p>"),e.title=a.title||"",e.logo="",e.subtitle=a.subtitle||"",e.sn=pe.sn||"",e.order=pe.order||"",e.paymenttype=a.paymenttype||"";var o={},r=0,s=/([\u1F60-\u1F64]|[\u2702-\u27B0]|[\u1F68-\u1F6C]|[\u1F30-\u1F70]|[\u2600-\u26FF])|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFF6]|(\uD83D[\uDC00-\uDE4F])|(\uD83D[\uDE80-\uDFF0])|([\u0023\u0030-\u0039](\uFE0F\u20E3|\u20E3))|\uD83C\uDDE8\uD83C\uDDF3|\uD83C\uDDE9\uD83C\uDDEA|\uD83C\uDDEA\uD83C\uDDF8|\uD83C\uDDEB\uD83C\uDDF7|\uD83C\uDDEC\uD83C\uDDE7|\uD83C\uDDEE\uD83C\uDDF9|\uD83C\uDDEF\uD83C\uDDF5|\uD83C\uDDF0\uD83C\uDDF7|\uD83C\uDDF7\uD83C\uDDFA|\uD83C\uDDFA\uD83C\uDDF8|[\u25AA\u25AB\u25FB-\u25FE\u3297]|([\u2E19\u203C\u2049\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B]\uFE0F)|([\u002A\u0030-\u0039]\u20E3)|[\u231B\u231A\u23F0-\u23FA\u25C0\u23CF\u23E9-\u23EF]/gim,c=/\ud83c[\udf21\udf24-\udf2f\udf36\udf7d-\udf7f\udf96-\udf97\udf99-\udf9b\udf9e-\udf9f\udfc5\udfcb-\udfcf\udfd0-\udfd6\udfd9-\udfda\udfdc-\udfdf\udff3-\udff5\udff7-\udfff]|\ud83d[\udc41\udc3f\udc66-\udc69\udc8b\udcf8\udcfd\udcff\udd49-\udd6f\udd70\udd73-\udd79\udd87\udd8a-\udd8d\udd90\udd95-\udd96\udda5\udda8\uddb1-\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\ude41-\ude44\udecb-\udecf\uded0\udee0-\udee5\udee9\udeeb-\udeec\udef0\udef3]|\ud83e[\udd10-\udd18\udd80-\udd84\uddc0]|[\u23f8\u23f9\u23fa\u2764\ufe0f]/gim;for(var d in t)t.hasOwnProperty(d)&&("[object String]"===Object.prototype.toString.call(t[d].value)&&(t[d].value=t[d].value.replace(s,"").replace(c,"")),"id_dropDown"===t[d].name&&(t[d].value=t[d].value.map(function(e){return"-1"===e.lid&&(e.selected=!1),e})),"[object Array]"===Object.prototype.toString.call(t[d].value)&&$.inArray(t[d].name,["id_dropDown","id_checkBox","id_radio"])>=0&&(t[d].value=t[d].value.map(function(e){return e.input&&(e.name=e.name.replace(s,"").replace(c,"")),e})),t[d].need!==!1&&(o[r]=t[d],r++));return i={o:{form:e,component:o,sendMail:a.sendMail||!1,sendToEmail:a.sendToEmail||"",sendToName:a.sendToName||""},t:!0},n&&(i.o.contact=n),i}function A(){$(document).queue("fsubmit",function(){le=-1,fe=!1,$(document).dequeue("fsubmit")}),ue&&(ye&&Q.append(_debug_out("CART-INFO ::<br/>"+JSON.stringify(ue))),$(document).queue("fsubmit",function(){var e=(G.form,ue.result),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);t.length>0&&ue.total>0?(ue.orderinfo=t,B(t).done(function(e){if(e.flag){var t=e.data;0===t.amount-ue.total?(ue.sn=t.sn,ue.order=t.order,pe.sn=t.sn,pe.order=t.order,$(document).dequeue("fsubmit")):($(document).clearQueue("fsubmit"),le=0)}else $(document).clearQueue("fsubmit"),le=0}).error(function(){$(document).clearQueue("fsubmit"),le=0})):$(document).dequeue("fsubmit")})),$(document).queue("fsubmit",function(){O().done(function(e){if(e.flag)Y=e.id,K=e.code,E(),$(document).dequeue("fsubmit");else{$(document).clearQueue("fsubmit"),le=0,fe=!0;var t=!1;if(400===e.errcode&&(t="网络好像不给力，请重新提交"),411===e.errcode){var n=e.comId,i=e.option,a="有选项限额已满，请重新提交";if(G.component.length>0)for(var o in G.component){var r=G.component[o];r.id==n&&(a="提交失败,"+r.title+"-"+i+"的限额已满")}t=a}"MAX"===e.status&&(t="真遗憾，这张表单已达到设置的收集上限"),t&&($(".f_error").text(t).slideDown(160),window.setTimeout(function(){$(".f_error").slideUp(160,function(){$(this).text("")})},2e3)),$(".f_submitBtn").text("提交")}}).error(function(){$(document).clearQueue("fsubmit"),le=0})}),$(document).queue("fsubmit",function(){ue.orderinfo?$.ajax({url:"handler/handleUpdateFormOrder.php",type:"POST",data:{DATA:'{"ORDER":"'+ue.order+'", "FBID":"'+Y+'"}'},dataType:"JSON"}).done(function(){var e=400;window.isMobile&&(e=parseInt(document.body.clientWidth,0)-2),$("#order").val(ue.order),TINY.box.show({html:$(".popwin_productpay").html(),animate:!0,close:!1,modal:!0,width:e,height:230,boxid:"payinfoshowin",openjs:function(){function e(){return $.ajax({url:"handler/handleCheckFormOrder.php",type:"POST",data:{DATA:'{"ORDER":"'+ue.order+'"}'},dataType:"JSON"})}function t(){window.checkPayStatusIntervalID&&(window.clearInterval(window.checkPayStatusIntervalID),window.checkPayStatusIntervalID=null),TINY.box.hide(),$(document).dequeue("fsubmit")}var n=$("#payinfoshowin"),i='<div class="product_list"><ul>';$.each(ue.orderinfo,function(e,t){
i+='<li class="info_line"><span class="name">'+t.N+'</span><span class="num">x'+t.Q+"</span></li>"}),n.find(".popwin_total").text("总计： "+be+ue.total),i+="</ul></div>",n.find(".popwin_tips").html('<p class="snnum">订单号：<b>'+ue.sn+"</b></p>"+i);var a=n.find(".tcontent").height();if(400>a?n.height(a):n.height(400).find(".popwin_tips").css("overflow","auto"),"ALIPAY"!==G.form.paymenttype||3==window.payAgency)n.find(".popwin_button_pay_wechat").text("确认").removeClass("popwin_confirm_payinfo_wechat").removeClass("popwin_button_pay_wechat").addClass("popwin_button").unbind("click").bind("click",t),n.find(".popwin_confirm_payinfo").remove();else{window.top!=window.self&&n.find(".popwin_confirm_payinfo").remove(),window.isMobile&&s(function(){},function(){});var o={payStatus:!1},r=function(n){window.setTimeout(function(){window.checkPayStatusIntervalID&&(window.clearInterval(window.checkPayStatusIntervalID),window.checkPayStatusIntervalID=null),window.checkPayStatusIntervalID=window.setInterval(function(){e().done(function(e){o.payStatus=e.flag,o.payStatus&&(window.checkPayStatusIntervalID&&(window.clearInterval(window.checkPayStatusIntervalID),window.checkPayStatusIntervalID=null),n.find(".info_text").text("恭喜您完成支付,请牢记订单号"),n.find(".popwin_finished").text("关闭窗口").unbind("click").bind("click",t),n.find(".popwin_nexttime").remove())})},2e3)},1e4)};n.find(".popwin_confirm_payinfo").unbind("click").bind("click",function(){$("#form_shopping_pay").submit(),n.height(230),n.find(".popwin_content").html('<div class="popwin_info"><p>订单号：<span class="snnum">'+ue.sn+'</span></p><p class="info_text">请在支付宝中完成支付</p></div><a class=" popwin_button popwin_finished">已完成支付</a><a class="popwin_button_next popwin_nexttime">稍后支付</a>'),n.find(".popwin_finished").unbind("click").bind("click",function(){e().done(function(e){o.payStatus=e.flag,o.payStatus?(window.checkPayStatusIntervalID&&(window.clearInterval(window.checkPayStatusIntervalID),window.checkPayStatusIntervalID=null),n.find(".info_text").text("恭喜您完成支付,该窗口即将消失~"),window.setTimeout(t,5e3)):n.find(".info_text").text("抱歉,您还没有完成支付...")})}),n.find(".popwin_nexttime").unbind("click").bind("click",t),r(n)}),s(function(){if(window.domain)var e=window.domain+"form/wechat_pay.php?sn="+ue.sn;else var e="form/wechat_pay.php?sn="+ue.sn;n.find(".popwin_confirm_payinfo_wechat").attr({href:e,target:"_blank"})},function(){var i="form/wechat_qr_pay.php?sn="+ue.sn;n.find(".popwin_confirm_payinfo_wechat").attr({href:i,target:"_blank"}),n.find(".popwin_confirm_payinfo_wechat").unbind("click").bind("click",function(){n.height(230),n.find(".popwin_content").html('<div class="popwin_info"><p>订单号：<span class="snnum">'+ue.sn+'</span></p><p class="info_text">请使用微信扫码完成支付</p></div><a class=" popwin_button popwin_finished">已完成支付</a><a class="popwin_button_next popwin_nexttime">稍后支付</a>'),n.find(".popwin_finished").unbind("click").bind("click",function(){e().done(function(e){o.payStatus=e.flag,o.payStatus?(window.checkPayStatusIntervalID&&(window.clearInterval(window.checkPayStatusIntervalID),window.checkPayStatusIntervalID=null),n.find(".info_text").text("恭喜您完成支付,该窗口即将消失~"),window.setTimeout(t,5e3)):n.find(".info_text").text("抱歉,您还没有完成支付...")})}),n.find(".popwin_nexttime").unbind("click").bind("click",t),r(n)})})}}})}):$(document).dequeue("fsubmit")}),$(document).queue("fsubmit",function(){le=1,fe=!0,P()}),$(document).dequeue("fsubmit")}function N(e,t){return G.form.contact?this.saveContactInfo=function(e,t){var n=e.name,i=e.val,a=["basic_name","basic_website","basic_city","basic_company","basic_job","basic_email","basic_mobile","basic_qq","basic_phone","basic_fax","basic_weixin","basic_adress","basic_gender","basic_birthday","basic_note"],o={basic_name:"NAME",basic_website:"WEBSITE",basic_city:"CITY",basic_company:"COMPANY",basic_job:"JOB",basic_email:"EMAIL",basic_mobile:"MOBILE",basic_qq:"QQ",basic_phone:"PHONE",basic_fax:"FAX",basic_weixin:"WEIXIN",basic_adress:"ADDRESS",basic_gender:"GENDER",basic_birthday:"BIRTHDAY",basic_note:"NOTE"};if($.inArray(n,a)>=0)if(Z||(Z={NAME:"",LEGEND:"",GENDER:"",BIRTHDAY:"",EMAIL:[],COMPANY:"",CITY:"",JOB:"",WEBSITE:"",ADDRESS:"",NOTE:"",FAX:[],MOBILE:[],PHONE:[],WEIXIN:[],QQ:[],FLAGS:JSON.parse(G.form.FLAGS),GROUPS:G.form.GROUPS}),"basic_name"===n)Z[o[n]]=i,Z.LEGEND=mkPy(i);else if("basic_fax"===n||"basic_mobile"===n||"basic_phone"===n||"basic_weixin"===n||"basic_qq"===n||"basic_email"===n){var r=0;void 0===t.attr("current-index-value")?(r=$('div[com-name="'+n+'"]').index(t),t.attr("current-index-value",r)):r=t.attr("current-index-value"),Z[o[n]][r]=i}else Z[o[n]]=i}:this.saveContactInfo=function(){return!0},this.saveContactInfo(e,t)}function M(e){for(var t in e)if("[object Array]"==={}.toString.call(e[t])){var n=[];for(var i in e[t])void 0!==e[t][i]&&null!==e[t][i]&&n.push(e[t][i]);e[t]=n}else"[object Object]"==={}.toString.call(e[t])?e[t]=M(e[t]):(void 0===e[t]||null===e[t])&&(e[t]=!1);return e}function E(){if(window.submitOnce){var e,t;t=mkCookie.get("submitOnce"),t?(t=t.split(","),t.push(gToken),t=t.slice(-Math.min(255,t.length)),e=t.join(",")):e=gToken,mkCookie.set("submitOnce",e,{expires:1,path:"/",domain:window.cookieDomain}),mkTempStore.save("submitOnce",e)}}function O(){var e=F(),t="handler/handleAddFormFeedback.php",n={FORMTOKEN:gToken,TEMPLATE:e.o,INFO:se};if("undefined"!=typeof collection&&collection!==!1&&(t="handler/handleAddFormFeedbackWithOpenId.php",n={FORMTOKEN:gToken,TEMPLATE:e.o,INFO:se,OPENID:parseURL(location.href).params.openid}),e.t){var i,a=[],o=ce.length;for(i=0;o>i;i++)ce[i]?a.push(ce[i]):me++;return n.ATTACHMENT=[],$.each(a,function(e,t){n.ATTACHMENT.push(t.componentName)}),$.ajax({url:t,type:"POST",dataType:"JSON",data:{DATA:JSON.stringify(n)},headers:{"MG-REFERER":JSON.stringify({RF:window.mgreferer})}})}return!1}function P(){if(1===le){var e=G.finishForm;"undefined"!=typeof mkFinishInfo&&(e=mkFinishInfo),e||(e={type:0,value:""}),("null"===e.value||"false"===e.value)&&(e.value="");var t;if(K&&(t='<br><br><span style="font-weight:bold;">'+K+"</span>"),1!==parseInt(e.type,10)){var i=htmlStr($.trim(e.value))||"感谢您的填写!";$(".f_body").empty().html('<div class="f_component"><p class="f_submittext">'+i+(t?t:"")+'</p></div><div class="f_component f_middle"><a class="f_backBtn" href="javascript:void(0);" onclick="location.reload()">返回</a>'+("1"===window.publicChartEnable?'<a class="f_chartViewBtn" href="r.php?t='+window.gToken+'">统计图表</a>':"")+("1"===window.openFeedback?'<a class="f_chartViewBtn f_feedbackViewBtn" href="rfl.php?t='+window.gToken+'">反馈详情</a>':"")+"</div>"),fe=!0,Be()}else if(1==e.type){var a=$.trim(e.value)||"",o="感谢您的填写！正在跳转到指定的页面",r=!1,s=/^(file|gopher|news|nntp|telnet|http|ftp|https|ftps|sftp):\/\//;a?s.test(a)||(a="http://"+a):r=!0,r&&$(".f_body").empty().html('<div class="f_component"><p class="f_submittext">'+o+(t?t:"")+'</p></div><div class="f_component f_middle">'+(r?'<a class="f_backBtn" href="javascript:void(0);" onclick="location.reload()">返回</a>':"")+"</div>"),r||($(".f_submitBtn").text("提交完成"),fe=!1,$(".f_submit").append('<div class="f_jumpInfo">正在跳转：<br/>'+a+"</div>"),window.setTimeout(function(){top.location.href=a,fe=!0},3e3))}n()}else 0===le&&($(".f_body").find("div").hide(),$(".f_body").append('<div class="f_component"><p class="f_submittext">抱歉，提交失败<a class="re_submit">请重试</a></p></div>'),$(".re_submit").on("click",function(){le=-1,$(this).closest(".f_component").remove(),$(".f_body").find("div").show(),$(".f_submitBtn").text("提交"),ue.orderinfo||$("#mfcart").hide()}),n())}function B(e){var t={FORM:J,SUBJECT:G.form.title||"商品订单",ITEMS:e};return $.ajax({url:"handler/handleAddFormOrder.php",type:"POST",data:{DATA:JSON.stringify(t)},dataType:"JSON"})}function R(){var e,t=[];for(var n in X)X.hasOwnProperty(n)&&(e=L(n),e&&t.push(e));return t.length>0?(ye&&Q.append(_debug_out(JSON.stringify(t))),t):!1}function j(e){var t,n=[];for(var i in e)e.hasOwnProperty(i)&&(t=L(e[i].serialNum),t&&n.push(t));return n.length>0?(ye&&Q.append(_debug_out(JSON.stringify(n))),n):!1}function L(e){var t,n=!1,i=!1;if(X.hasOwnProperty(e)&&X[e].need!==!1){if(t=X[e],ye&&(Q.append(_debug_out("---必填验证--- "+t.name)),Q.append(_debug_out(JSON.stringify(t))),Q.append(_debug_out(t.value))),t.required)if(n=!0,"id_checkBox"==t.name||"id_radio"==t.name||"basic_gender"==t.name||"id_dropDown"==t.name||"id_pictureCheckbox"==t.name||"id_pictureRadio"==t.name){for(var a in t.value)if(t.value.hasOwnProperty(a)&&1==t.value[a].selected&&!t.value[a].defaultTip){n=!1;break}}else if("id_star"==t.name)t.selected>0&&(n=!1);else if("id_shopping"==t.name){for(var o in t.value)if(t.value.hasOwnProperty(o)&&t.value[o].quantity>0){n=!1;break}ye&&Q.append(_debug_out(JSON.stringify(t)))}else if(void 0!==t.value&&""!==t.value&&(n=!1),"basic_mobile"==t.name&&t.mobile_vcode_com&&t.mobile_vcode_com.com_mbvc_required&&1==xe){if(""==t.mobile_vcode_com.mbvc_value)return i={special_err:!0,key:"mbvc_err",value:"",id:t.id,mobile_input_empty:n,_errorReason:1};if(n)return i={special_err:!0,key:"mbin_err",id:t.id,content:t.title,_errorReason:1}}if(n)return i={id:t.id,content:t.title,_errorReason:1};if(_num=0,"id_checkBox"==t.name||"id_pictureCheckbox"==t.name){n=!0;for(var r in t.value)1==t.value[r].selected&&_num++;if(0===_num&&!t.required||void 0===t.stype)n=!1;else switch(t.stype){case 0:_num>=t.snumber&&(n=!1);break;case 1:_num<=t.snumber&&(n=!1);break;case 2:_num==t.snumber&&(n=!1)}}if(n)return i={id:t.id,content:t.title,snumber:t.snumber,stype:t.stype,_errorReason:2};if("basic_email"==t.name&&(n=!0,t.value||t.required?/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t.value)&&(n=!1):n=!1),n)return i={id:t.id,content:t.title,_errorReason:3};if("id_number"==t.name&&(n=!(Math.abs(parseFloat(t.value)||0)<1e20)),n)return i={id:t.id,content:t.title,_errorReason:6};if(Ee[t.name]&&(n=!0,t.value||t.required?$.trim(""+t.value).length<Ee[t.name]&&(n=!1):n=!1),n)return i={id:t.id,content:t.title,_errorReason:5};if("basic_mobile"==t.name&&t.mobile_vcode_com&&1==xe){var s=t.mobile_vcode_com.checked,c=!0;if(n=!1,s===!1?n=!0:s===!0?t.mobile_vcode_com.checked_mobile&&t.mobile_vcode_com.checked_vcode?(t.value!==t.mobile_vcode_com.checked_mobile||t.mobile_vcode_com.mbvc_value!==t.mobile_vcode_com.checked_vcode)&&(n=!0):n=!0:(n=!0,c=!1),n)return i={special_err:!0,key:"mbvcck_err",value:"验证码错误",display:c,id:t.id}}}return!1}function q(e){var t,n,i={1:Se,2:Fe,3:$e,4:Ne,5:Ae,6:Me},a=[Te,De,""],o="";$(".error").remove(),$(".mbvc_error").remove();for(var r=0,s=e.length;s>r;r++){t=e[r];var c=$('div[name="'+t.id+'"]');if(t.special_err){var d=!0;switch(t.key){case"mbvcck_err":c.find(".fs_cMbvc").append('<label class="mbvc_error" errorcode="">'+t.value+"</label>");break;case"mbvc_err":c.find(".fs_cMbvc").append('<label class="mbvc_error" errorcode="'+t._errorReason+'">'+(t.value||i[t._errorReason])+"</label>"),t.mobile_input_empty&&c.find(".f_cTitle").append('<label class="error" errorcode="'+t._errorReason+'">'+i[t._errorReason]+"</label>");break;case"mbin_err":c.find(".f_cTitle").append('<label class="error" errorcode="'+t._errorReason+'">'+i[t._errorReason]+"</label>");break;default:d=!1}d&&0===r&&(n=c)}else o="",void 0!==t.stype&&(o=a[t.stype]+t.snumber+"项"),c.find(".f_cTitle").append('<label class="error" errorcode="'+t._errorReason+'">'+i[t._errorReason]+o+"</label>"),0===r&&(n=c)}try{$(document).animate({scrollTop:n.offset().top},300)}catch(l){$(".f_wrapper,body").animate({scrollTop:n.offset().top},300)}$(".f_wrapper,body,html").animate({scrollTop:n.offset().top},300),$(".fs_component").removeClass("fs_component"),n.addClass("fs_component")}function U(e,t,n){if(n||e.length>0){var i=L(t);if(!1===i)e.remove();else if(i.special_err)switch(i.key){case"mbvc_err":"error"!=e.attr("class")||i.mobile_input_empty||e.remove();break;case"mbin_err":"mbvc_error"==e.attr("class")&&e.remove();break;case"mbvcck_err":var a=$('div[name="'+i.id+'"]');a.find(".mbvc_error,.error").remove(),i.display&&(a.find(".fs_cMbvc").append('<label class="mbvc_error" errorcode="">'+i.value+"</label>"),a.find(".sms_checking").hide().siblings(".sms_checked").hide())}}}function z(e){if(e){var t=e.wb,n=e.fb,i=e.lb,a=i;if(a=mgColorManager.getColorVal(i,"V")<mgColorManager.getColorVal(t,"V")?i:t,mgColorManager.getColorVal(a,"V")<90||mgColorManager.getColorVal(a,"S")>10){mgColorManager.setColor(a);var o=mgColorManager.getColorGroup(),r="";return n==o.BK?(r=".fs_submitBtn,.fs_mobile_vcode_btn{background-color:#fff;color:#333;box-shadow: 0 2px 4px -2px "+o.BKH+";}.fs_submitBtn:hover,.fs_mobile_vcode_btn:hover{background-color:#d0d0d0}.f_chartViewBtn {color:#333; background-color: #fff;}.f_chartViewBtn:active{color:#333}.f_chartViewBtn:visited{color:#333;}.f_chartViewBtn:hover {background-color: #d0d0d0;}",r+=".f_viewBtn {color:#333; background-color: #fff;}.f_viewBtn:active{color:#333}.f_viewBtn:visited{color:#333;}.f_viewBtn:hover {background-color:#fff;}"):(r=".fs_submitBtn,.fs_mobile_vcode_btn{background-color:#"+o.BK+";color:"+(mgColorManager.getColorVal(a,"GY")>192?"#222":"#fff")+";box-shadow: 0 2px 4px -2px "+o.BKH+";}.fs_submitBtn:hover,.fs_mobile_vcode_btn:hover{background-color:"+o.BKH+"}.f_chartViewBtn {color:"+(mgColorManager.getColorVal(a,"GY")>192?"#222":"#fff")+"; background-color: #"+o.BK+";}.f_chartViewBtn:active{color:"+(mgColorManager.getColorVal(a,"GY")>192?"#222":"#fff")+"}.f_chartViewBtn:visited{color:"+(mgColorManager.getColorVal(a,"GY")>192?"#222":"#fff")+";}.f_chartViewBtn:hover {background-color: "+o.BKH+";}",r+=".f_viewBtn {color:"+(mgColorManager.getColorVal(a,"GY")>192?"#222":"#fff")+"; background-color: #"+o.BK+";}.f_viewBtn:active{color:"+(mgColorManager.getColorVal(a,"GY")>192?"#222":"#fff")+"}.f_viewBtn:visited{color:"+(mgColorManager.getColorVal(a,"GY")>192?"#222":"#fff")+";}.f_viewBtn:hover {background-color: "+o.BKH+";}"),r}}return""}function W(e){if(e){var t=e.wb,n=(e.fb,e.lb),i=n;if(i=mgColorManager.getColorVal(n,"V")<mgColorManager.getColorVal(t,"V")?n:t,mgColorManager.getColorVal(i,"V")<90||mgColorManager.getColorVal(i,"S")>10){mgColorManager.setColor(i);var a=mgColorManager.getColorGroup();return".Zebra_DatePicker td.dp_selected{background-color:#"+a.BK+";color:"+(mgColorManager.getColorVal(i,"GY")>192?"#222":"#fff")+";}.Zebra_DatePicker td.dp_current{color:"+a.BKH+"}"}}return""}function H(e){if(e){e=V(e);var t="",n=z(e),i=mgColorManager.getColorVal(e.wb,"G")<192?"EEE":"333";if("[object Object]"==={}.toString.call(e)&&(t+="html{background-color: #"+e.wb+";color:#"+e.wt+";background-position:"+e.imgp+" top;}",window.isMobile?("phone"===window.preview&&(t+="html {font-size:12px;}",t+=".f_cTitle{font-size:1rem;line-height:1.5rem;}"),t+=".f_optionsLi {color: #"+e.ht+";}"):(t+=".fs_main{width:"+e.fw+"}",t+=".fs_cTitle{font-size:"+e.fs+";line-height:"+e.flh+";}",t+=".fs_content{font-size:"+(parseInt(e.fs,10)-2)+"px;}",t+="@media screen and (max-width:"+e.fw+"){div.fs_main{width:100%;}}",t+="div.f_share{left:"+e.fw+"} div.f_share_main{width:"+e.fw+"}",t+="@media screen and (max-width:"+(parseInt(e.fw,0)+222)+"px){div.f_share{display:none;}}",mgColorManager.getColorVal(e.wb,"G")>240&&(t+="div.f_share{background-color:rgba(153, 153, 153, 0.4);}")),("fix"===e.imgf||ke)&&(t+=".fs_fixbackground{min-height: 100%; min-width: 1024px; width: 100%; height: auto; position: fixed; top: 0; left: 0;z-index:0;}"),t+=".fs_cValidate{color:#"+e.ft+";}",t+=".fs_cDescribe a, .fs_cDescribe a:visited{color:#"+e.it+"}",t+=".fs_cDescribe, .fs_cLink, .fs_cLink:visited{color:#"+e.it+"}",t+=".fs_cExtraDescribe{color:#"+e.it+"}",t+=".fs_sectionDescribe, .fs_imgDescribe{color:#"+e.it+"}",t+=".fs_component{background-color: #"+e.hb+";color:#"+e.ht+"}",t+=".fs_header{background-color: #"+e.lb+";color:#"+e.lt+";}",t+=".fs_main{background-color: #"+e.fb+";color:#"+e.ft+";}",t+=""+n,t+=".f_copyright .fs_powerby{color:#"+i+";}",t+=W(e),$('<style type="text/css">'+t+"</style>").appendTo("head"),window.isMobile)){var a=mgColorManager.getColorVal(e.fb,"S"),o=mgColorManager.getColorVal(e.fb,"V");a>=0&&25>=a&&o>=78&&88>=o&&$(window).on("__render_page.square_ico",function(){$(".iradio_square-blue").removeClass("iradio_square-blue-gray").addClass("iradio_square-blue-gray"),$(".icheckbox_square-blue").removeClass("icheckbox_square-blue-gray").addClass("icheckbox_square-blue-gray")})}}}function V(e){var t,n={},i=["fw","fs","flh","wb","wt","img","imgp","imgr","imgf","lb","lt","logo","timg","fb","ft","it","hb","ht","ts"],a=["640px","16px","25px","F4F5F0","333333","","","","","FEFEFE","222222","","","FFFFFF","333333","333333","FFF8DC","333333",""];if(e){e+="",t=e.split(",");for(var o=0,r=i.length;r>o;o++)n[i[o]]="000000"===t[o]?t[o]:0!=t[o]?t[o]||a[o]:a[o]}return n}var J,Y,Q,G=!1,X=!1,Z=!1,K=!1,ee={header:mkT.template($("#fs_header_template").html()),share:mkT.template($("#fs_header_share").html()),singleLine:mkT.template($("#fs_body_component_singleline").html()),number:mkT.template($("#fs_body_component_number").html()),multiple:mkT.template($("#fs_body_component_multiple").html()),checkbox:mkT.template($("#fs_body_component_checkbox").html()),radio:mkT.template($("#fs_body_component_radio").html()),select:mkT.template($("#fs_body_component_select").html()),fileUpload:mkT.template($("#fs_body_component_fileUpload").html()),date:mkT.template($("#fs_body_component_date").html()),section:mkT.template($("#fs_body_component_section").html()),page:mkT.template($("#fs_body_component_page").html()),star:mkT.template($("#fs_body_component_star").html()),shop:mkT.template($("#fs_body_component_shop").html()),picture:mkT.template($("#fs_body_component_picture").html()),picCheckbox:mkT.template($("#fs_body_component_pic_checkbox").html()),picRadio:mkT.template($("#fs_body_component_pic_radio").html()),submit:mkT.template($("#fs_body_submit").html()),pageBtn:mkT.template($("#fs_body_page_btn").html()),gender:mkT.template($("#fs_body_component_gender").html()),weixin:mkT.template($("#fs_body_component_wx").html()),mobile:mkT.template($("#fs_body_component_mobile").html())},te={id_singleLine:"singleLine",id_number:"number",id_multiple:"multiple",id_checkBox:"checkbox",id_radio:"radio",id_dropDown:"select",id_fileUpload:"fileUpload",id_date:"date",id_section:"section",id_page:"page",id_star:"star",id_shopping:"shop",id_picture:"picture",id_pictureCheckbox:"picCheckbox",id_pictureRadio:"picRadio",basic_gender:"gender",basic_weixin:"weixin",basic_mobile:"mobile"},ne=[],ie=[],ae=0,oe=!0,re=!1,se="-",ce=!1,de={},le=-1,ue=(formJSON.status,!1),pe={},fe=!0,me=0,he=window.fcmnum?"0x"+window.fcmnum:1e4,ge="id_singleLine",_e=!1,be=window._gCurrencyObj||"￥",ve=!1,we=!1,ye=!1,ke=!1,xe=window.gSMSHasBalance||0,Ce=!0,Ie="提交",Te="至少",De="最多",Se="此项为必填项",Fe="请选择",$e="请填写正确的邮箱地址",Ae="输入的内容太长了",Ne="请填写正确的手机号码",Me="输入的数字太大了";window.submitOnce=1===parseInt(window.submitOnce,10)?!0:!1,window.owc=1===parseInt(window.owc,10)?!0:!1,null==window.readonly&&(window.readonly="#readonly"==window.location.hash?!0:!1);var Ee={basic_name:32,basic_website:256,basic_company:256,basic_job:64,basic_adress:256,basic_note:251,basic_mobile:64};if(formJSON!==!1&&formJSON.r!==!1){"0"===formJSON.style&&(formJSON.style=""),p(formJSON.template),V(formJSON.style).imgf,"no-repeat"===G.form.backgroundtype&&G.form.backgroundimg&&"none"!==G.form.backgroundimg&&(ke=!0),H(formJSON.style),window.isMobile&&mk_layout(G);try{for(var Oe in G.component)G.component.hasOwnProperty(Oe)&&!function(e){$.inArray(e.name,["basic_name","basic_city","basic_website","basic_company","basic_job","basic_email","basic_mobile","basic_qq","basic_phone","basic_fax","basic_weixin","basic_adress","basic_note","basic_birthday"])>=0&&(we=!0)}(G.component[Oe])}catch(Pe){we=!0}}o(),$(e);var Be=function(){var e=["coKYZz","LcOJ8E","hXqjOO","LAJ6q2","coKYZz"];-1!=$.inArray(gToken,e)},Re=function(){var e=40,t=0,n=null,i=200;return parseURL(location.href).params.wsq&&(e=3),navigator.userAgent.toLowerCase().match(/windows phone/i)&&(e=80,i=300),function(a,o){n=window.setInterval(function(){t>=e&&(mkCookie.set("mkjwx","retry",{expires:100,path:"/",domain:window.cookieDomain}),window.clearInterval(n),o());try{"[object Object]"===Object.prototype.toString.call(window.WeixinJSBridge)&&"[object Function]"===Object.prototype.toString.call(window._WXJS)&&(window.WeixinJSBridge._fetchQueue||navigator.userAgent.toLowerCase().match(/windows phone/i))?(t++,window.clearInterval(n),mkCookie.set("mkjwx","true",{expires:100,path:"/",domain:window.cookieDomain}),a()):t++}catch(i){window.clearInterval(n),mkCookie.set("mkjwx",null,{expires:100,path:"/",domain:window.cookieDomain}),o()}},i)}}(),je=function(){function e(e){mkCookie.set(e,null,{expires:1,path:"/",domain:window.cookieDomain})}return function(t){var n=Object.prototype.toString.call(t);if("[object String]"===n)e(t);else if("[object Array]"===n)for(var i=0,a=t.length;a>i;i++)e(t[i])}}(),Le=function(){return window._gHost?function(e,t){return t||(t="small"),window.parseHttps(decodeURIComponent(e).replace(/http(s)*:\/\/(www\.)*mikecrm\.com/i,"https://asset-mikecrm-com.alikunlun.com/getimg/"+t))}:function(e){return e}}()}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var n=0,i=Array.prototype.slice,a=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}a(t)},e.widget=function(t,n,i){var a,o,r,s,c=t.split(".")[0];t=t.split(".")[1],a=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[c]=e[c]||{},o=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,a){e.isFunction(a)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=a.apply(this,arguments),this._super=n,this._superApply=o,t}}())}),r.prototype=e.widget.extend(s,{widgetEventPrefix:s.widgetEventPrefix||t},i,{constructor:r,namespace:c,widgetName:t,widgetBaseClass:a,widgetFullName:a}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete o._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(n){for(var a,o,r=i.call(arguments,1),s=0,c=r.length;c>s;s++)for(a in r[s])o=r[s][a],r[s].hasOwnProperty(a)&&o!==t&&(e.isPlainObject(o)?n[a]=e.isPlainObject(n[a])?e.widget.extend({},n[a],o):e.widget.extend({},o):n[a]=o);return n},e.widget.bridge=function(n,a){var o=a.prototype.widgetFullName;e.fn[n]=function(r){var s="string"==typeof r,c=i.call(arguments,1),d=this;return r=!s&&c.length?e.widget.extend.apply(null,[r].concat(c)):r,s?this.each(function(){var i,a=e.data(this,o);return a?e.isFunction(a[r])&&"_"!==r.charAt(0)?(i=a[r].apply(a,c),i!==a&&i!==t?(d=i&&i.jquery?d.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+r+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(r||{})._init():new a(r,this)}),d}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var a,o,r,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},a=n.split("."),n=a.shift(),a.length){for(o=s[n]=e.widget.extend({},this.options[n]),r=0;r<a.length-1;r++)o[a[r]]=o[a[r]]||{},o=o[a[r]];if(n=a.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){var i,a=this;n?(t=i=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,i=this.widget()),e.each(n,function(n,o){function r(){return a.options.disabled===!0||e(this).hasClass("ui-state-disabled")?void 0:("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var s=n.match(/^(\w+)\s*(.*)$/),c=s[1]+a.eventNamespace,d=s[2];d?i.delegate(d,c,r):t.bind(c,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var a,o,r=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(a in o)a in n||(n[a]=o[a]);return this.element.trigger(n,i),!(e.isFunction(r)&&r.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,a,o){"string"==typeof a&&(a={effect:a});var r,s=a?a===!0||"number"==typeof a?n:a.effect||n:t;a=a||{},"number"==typeof a&&(a={duration:a}),r=!e.isEmptyObject(a),a.complete=o,a.delay&&i.delay(a.delay),r&&e.effects&&(e.effects.effect[s]||e.uiBackCompat!==!1&&e.effects[s])?i[t](a):s!==t&&i[s]?i[s](a.duration,a.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async&&("POST"===n.type||"GET"===n.type)){var i,a;return{send:function(o,r){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),a=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];a.unbind("load").bind("load",function(){var t;try{if(t=a.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}r(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",a.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var a=e(t[n]);e(i).prop("name",a.prop("name")),a.replaceWith(i)})}),i.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return e(t[0].body).text()},"iframe json":function(t){return e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return e(t[0].body).html()},"iframe script":function(t){return e.globalEval(e(t[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.propHooks.elements={get:function(t){return e.nodeName(t,"form")?e.grep(t.elements,function(t){return!e.nodeName(t,"input")||"file"!==t.type}):null}},e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:t.formData?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_onProgress:function(e,t){if(e.lengthComputable){var n,i,a=+new Date;
if(t._time&&t.progressInterval&&a-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=a,n=t.total||this._getTotal(t.files),i=parseInt(e.loaded/e.total*(t.chunkSize||n),10)+(t.uploadedBytes||0),this._loaded+=i-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=i,t.total=n,t.bitrate=t._bitrateTimer.getBitrate(a,i,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(a,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_initXHRData:function(t){var n,i=t.files[0],a=t.multipart||!e.support.xhrFileUpload,o=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange),a?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:o,value:t.blob}):e.each(t.files,function(e,i){n.push({name:t.paramName[e]||o,value:i})})):(t.formData instanceof FormData?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',n.append(o,t.blob,i.name)):e.each(t.files,function(e,i){(window.Blob&&i instanceof Blob||window.File&&i instanceof File)&&n.append(t.paramName[e]||o,i,i.name)})),t.data=n):(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',t.contentType=i.type,t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e("<a></a>").prop("href",t.url).prop("host")!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e,"iframe")},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",a=(t.prop("files")||[1]).length;a;)i.push(n),a-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var a=e.Deferred(),o=a.promise();return n=n||this.options.context||o,t===!0?a.resolveWith(n,i):t===!1&&a.rejectWith(n,i),o.abort=a.promise,this._enhancePromise(o)},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){var i,a,o=this,r=t.files[0],s=r.size,c=t.uploadedBytes=t.uploadedBytes||0,d=t.maxChunkSize||s,l=r.slice||r.webkitSlice||r.mozSlice,u=e.Deferred(),p=u.promise();return this._isXHRUpload(t)&&l&&(c||s>d)&&!t.data?n?!0:c>=s?(r.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,t.context,[null,"error",r.error])):(a=function(){var n=e.extend({},t);n.blob=l.call(r,c,c+d,r.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+c+"-"+(c+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,r,d){c=o._getUploadedBytes(d)||c+n.chunkSize,(!n.loaded||n.loaded<n.total)&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:c-n.uploadedBytes,total:c-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=c,n.result=i,n.textStatus=r,n.jqXHR=d,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),s>c?a():u.resolveWith(n.context,[i,r,d])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),u.rejectWith(n.context,[e,t,i])})},this._enhancePromise(p),p.abort=function(){return i.abort()},a(),p):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(t,n,i,a){if(!this._isXHRUpload(a)||!a.loaded||a.loaded<a.total){var o=this._getTotal(a.files)||1;this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),a)}a.result=t,a.textStatus=n,a.jqXHR=i,this._trigger("done",null,a)},_onFail:function(e,t,n,i){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,this._trigger("fail",null,i),i.recalculateProgress&&(this._loaded-=i.loaded||i.uploadedBytes||0,this._total-=i.total||this._getTotal(i.files))},_onAlways:function(e,t,n,i){this._active-=1,this._trigger("always",null,i),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(t,n){var i,a,o,r,s=this,c=s._getAJAXSettings(n),d=function(){return s._sending+=1,c._bitrateTimer=new s._BitrateTimer,i=i||((a||s._trigger("send",t,c)===!1)&&s._getXHRPromise(!1,c.context,a)||s._chunkedUpload(c)||e.ajax(c)).done(function(e,t,n){s._onDone(e,t,n,c)}).fail(function(e,t,n){s._onFail(e,t,n,c)}).always(function(e,t,n){if(s._sending-=1,s._onAlways(e,t,n,c),c.limitConcurrentUploads&&c.limitConcurrentUploads>s._sending)for(var i,a=s._slots.shift();a;){if(i=a.state?"pending"===a.state():!a.isRejected()){a.resolve();break}a=s._slots.shift()}})};return this._beforeSend(t,c),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),r=o.pipe(d)):r=this._sequence=this._sequence.pipe(d,d),r.abort=function(){return a=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(c.context,a),d())},this._enhancePromise(r)):d()},_onAdd:function(t,n){var i,a,o,r,s=this,c=!0,d=e.extend({},this.options,n),l=d.limitMultiFileUploads,u=this._getParamName(d);if((d.singleFileUploads||l)&&this._isXHRUpload(d))if(!d.singleFileUploads&&l)for(o=[],i=[],r=0;r<n.files.length;r+=l)o.push(n.files.slice(r,r+l)),a=u.slice(r,r+l),a.length||(a=u),i.push(a);else i=u;else o=[n.files],i=[u];return n.originalFiles=n.files,e.each(o||n.files,function(a,r){var d=e.extend({},n);return d.files=o?r:[r],d.paramName=i[a],d.submit=function(){return d.jqXHR=this.jqXHR=s._trigger("submit",t,this)!==!1&&s._onSend(t,this),this.jqXHR},c=s._trigger("add",t,d)}),c},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,i){return i===t[0]?n[0]:i}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var i,a=this,o=e.Deferred(),r=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},r):t.isDirectory?(i=t.createReader(),i.readEntries(function(e){a._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(r)},r)):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,a=t.prop("webkitEntries")||t.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",t,i)!==!1&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent.clipboardData,i=n&&n.items||[],a={files:[]};return e.each(i,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&a.files.push(n)}),this._trigger("paste",t,a)===!1||this._onAdd(t,a)===!1?!1:void 0},_onDrop:function(e){var t=this,n=e.dataTransfer=e.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&e.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,t._trigger("drop",e,i)!==!1&&t._onAdd(e,i)})},_onDragOver:function(t){var n=t.dataTransfer=t.originalEvent.dataTransfer;return this._trigger("dragover",t)===!1?!1:void(n&&-1!==e.inArray("Files",n.types)&&(n.dropEffect="copy",t.preventDefault()))},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_create:function(){var t=this.options;e.extend(t,e(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,a=this,o=e.Deferred(),r=o.promise();return r.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),r)},this._getFileInputFiles(t.fileInput).always(function(e){i||(t.files=e,n=a._onSend(null,t).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)}))}),this._enhancePromise(r)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";window.XDomainRequest&&!e.support.cors&&e.ajaxTransport(function(t){if(t.crossDomain&&t.async){t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout);var n;return{send:function(i,a){function o(t,i,o,r){n.onload=n.onerror=n.ontimeout=e.noop,n=null,a(t,i,o,r)}n=new XDomainRequest,"DELETE"===t.type?(t.url=t.url+(/\?/.test(t.url)?"&":"?")+"_method=DELETE",t.type="POST"):"PUT"===t.type&&(t.url=t.url+(/\?/.test(t.url)?"&":"?")+"_method=PUT",t.type="POST"),n.open(t.type,t.url),n.onload=function(){o(200,"OK",{text:n.responseText},"Content-Type: "+n.contentType)},n.onerror=function(){o(404,"Not Found")},t.xdrTimeout&&(n.ontimeout=function(){o(0,"timeout")},n.timeout=t.xdrTimeout),n.send(t.hasContent&&t.data||null)},abort:function(){n&&(n.onerror=e.noop(),n.abort())}}}})});