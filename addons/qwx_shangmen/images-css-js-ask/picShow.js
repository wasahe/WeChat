function picShow(h){var p=document.body,f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,m=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,u=document.documentElement.scrollTop||document.body.scrollTop,v=navigator.userAgent.match(/Android ([3-9][._][0-9])/),w=navigator.userAgent.match(/OS [5-9]_\d[_\d]*/),e,a={imgList:[],el:null,hidDom:h.domElement,preloadCount:2,curPage:1,showPage:!0,showCtrlBtn:!0,zanCfg:null,setGuide:!0,maxW:null,
maxH:null,zan:function(){},close:function(){}},b=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(a){return!1}},c=function(a,b){a.className+=(a.className?" ":"")+b},d=function(a,b){a.className=a.className.replace(RegExp(b+"(\\s|$)"),"")},k=function(a,b,c){e.style.webkitTransform="translate("+a+"px,"+b+"px) translateZ(0)"},g=function(){var b=a.imgList.length||0,c="";a.el||(a.el=document.createElement("div"),a.el.className="J-slider",p.appendChild(a.el));
for(var c=c+'<div id="J-slider-cont">',g=1;g<=b;g++)c+='<div id="J-wrapper'+g+'" class="wrapper" style="-webkit-transform:translate3d(0,0,0);width:'+f+"px;height:"+m+'px"><div id="J-scroller'+g+'" class="scroller"></div></div>';c+="</div>";a.showCtrlBtn&&(g=w||v&&0<navigator.userAgent.indexOf("UCBrowser")?"fixed":"absolute",c+='<div class="ctrlbar" style="position:'+g+'"><a id="J-zan" href="javascript:;"><i class="icon animated"></i><span id="J-zan-text" class="zan">\u8d5e</span><span id="J-zan-count" data-num="0"></span></a><a id="J-close" href="javascript:;">\u5173\u95ed</a>',
a.showPage&&1<a.imgList.length&&(c+='<span id="J-curPage">'+a.curPage+'</span><span id="J-pageCount">/'+b+"</span>"),c+="</div>");a.el.innerHTML=c;a.el.style.cssText="overflow:hidden;width:"+f+"px;height:"+m+"px";e=document.getElementById("J-slider-cont");e.style.cssText="position:relative;top:0px;left:0px;width:"+b*f+"px;height:"+m+"px";0<navigator.userAgent.toLowerCase().indexOf("firefox")&&(document.querySelector(".ctrlbar").style.cssText="position:absolute;top:20px;left:0;")},r=function(b){var c,
g,d;for(d=0;d<a.preloadCount;d++)c="next"==b?a.curPage+a.preloadCount+d:a.curPage-a.preloadCount-d,(g=document.getElementById("J-scroller"+c))&&""==g.innerHTML&&l(c)},n=function(b){b=document.getElementById(b);var c=!1;disablePointer=!1;0<navigator.userAgent.toLowerCase().indexOf("mobile")&&(disablePointer=c=!0);b=new IScroll(b,{zoom:!0,zoomMin:1,zoomMax:2,disableMouse:c,tap:"tap",scrollX:!0,scrollY:!0,mouseWheel:!0,wheelAction:"zoom",doubleTapZoom:2,slider:a.el});b.on("flick",function(a){this.hasHorizontalScroll||
Math.abs(this.distY)>Math.abs(this.distX)||(0<this.distX?A():B())});return b},l=function(b){var g=document.getElementById("J-scroller"+b),f;if(g){c(g.parentNode,"loading");var e=new Image;e.onload=function(){g&&(d(g.parentNode,"loading"),g.style.lineHeight=m+"px",f.refresh(),e.style.opacity="1")};e.src=a.imgList[b-1];document.getElementById("J-scroller"+b).appendChild(e);f=n("J-wrapper"+b)}},x=function(b,g){g=g?g:a.zanCfg;var f=document.getElementById("J-zan"),e=document.getElementById("J-zan-count"),
k=document.getElementById("J-zan-text"),r=f.getElementsByTagName("i")[0];Object.prototype.toString.call(g);var n=document.getElementById("J-wrapper"+a.curPage);if(b){g[0].disabled&&!/(^|\s)disabled(\s|$)/.test(f.className)?c(f,"disabled"):d(f,"disabled");for(var f=1,l=g.length;f<=l;f++){var h=document.getElementById("J-wrapper"+f);h.setAttribute("pid",g[f-1].pid);h.setAttribute("zanNum",g[f-1].like_counts);h.setAttribute("zanLiked",g[f-1].liked)}}d(r,"icon-like");d(r,"icon-liked");"true"==n.getAttribute("zanLiked")?
c(r,"icon-liked"):c(r,"icon-like");e.innerHTML=n.getAttribute("zanNum");0<parseInt(e.innerHTML)?(k.style.display="none",e.style.display=""):(k.style.display="",e.style.display="none")},q=function(){var c=document.createElement("div");c.className="J-guide";c.style.cssText="height:"+m+"px;line-height:"+m+"px;opacity:0;-webkit-transition:opacity 0.6s ease";c.innerHTML='<div class="J-guide-pop"></div>';a.el.appendChild(c);setTimeout(function(){c.style.opacity="1"},1E3);var g=setTimeout(function(){a.el.removeChild(c)},
5E3);c.onclick=function(){clearTimeout(g);a.el.removeChild(c)};if(a.setGuide)try{b&&(window.localStorage.H5_IMGZOOM_GUIDE="1")}catch(d){}},t=function(){var b=document.getElementById("J-close"),c=location.hash;if(!c||0>"#showPic".indexOf(c))a.close.call(b),y()},D=function(){document.getElementById("J-close").onclick=function(){a.close.call(this);y()};document.getElementById("J-zan").onclick=function(){/(^|\s)disabled(\s|$)/.test(this.className)||a.zan.call(this,a.curPage)}},C=function(){a.zanCfg&&
x();a.showPage&&(document.getElementById("J-curPage").innerHTML=""+a.curPage);e.style.webkitTransition="all 0.3s ease-out";k(-1*(a.curPage-1)*f,0,0)},A=function(){1<a.curPage&&(r("prev"),a.curPage--,C())},B=function(){a.curPage<a.imgList.length&&(r("next"),a.curPage++,C())},y=function(){if(a.el){p.removeChild(a.el);a.el=null;if(a.hidDom){for(var b=0;b<a.hidDom.length;b++)a.hidDom[b].style.display="block";0<u&&0==document.querySelectorAll("#detail-wrap").length&&window.scrollTo(0,u)}"#showPic"==location.hash&&
history.go(-1)}},z;for(z in h)a[z]=h[z];(function(){"[object Array]"!==Object.prototype.toString.call(a.imgList)&&(a.imgList=[a.imgList]);a.curPage=a.curPage?parseInt(a.curPage):1;if(!document.querySelector(".J-slider")){window.location.hash="showPic";window.onhashchange=t;var c=Math.min(document.documentElement.clientHeight,window.innerHeight);m=0<c?c:m;g();a.zanCfg?x(1):document.getElementById("J-zan").style.display="none";if(a.hidDom)for(c=0;c<a.hidDom.length;c++)a.hidDom[c].style.display="none";
k(-1*(a.curPage-1)*f,0,0);setTimeout(function(){l(a.curPage);l(a.curPage-1);l(a.curPage+1);D();if(a.setGuide)try{b()&&!window.localStorage.H5_IMGZOOM_GUIDE&&q()}catch(c){}},200)}})();return{setZan:x,distroy:y,prev:A,next:B}}
(function(h,p,f){function m(a,b){this.wrapper="string"==typeof a?p.querySelector(a):a;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={slider:null,zoomMin:1,zoomMax:2,startZoom:1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|IMG)$/},HWCompositing:!0,useTransition:!0,
useTransform:!0};for(var c in b)this.options[c]=b[c];this.translateZ=this.options.HWCompositing&&e.hasPerspective?" translateZ(0)":"";this.options.useTransition=e.hasTransition&&this.options.useTransition;this.options.useTransform=e.hasTransform&&this.options.useTransform;this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY="vertical"==this.options.eventPassthrough?
!1:this.options.scrollY;this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing="string"==typeof this.options.bounceEasing?e.ease[this.options.bounceEasing]||e.ease.circular:this.options.bounceEasing;this.options.resizePolling=void 0===this.options.resizePolling?
60:this.options.resizePolling;!0===this.options.tap&&(this.options.tap="tap");"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1);this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.directionY=this.directionX=this.y=this.x=0;this._events={};this.scale=f.min(f.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax);this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function u(a,b,c){var d=p.createElement("div"),
f=p.createElement("div");!0===c&&(d.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px");f.className="iScrollIndicator";"h"==a?(!0===c&&(d.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),d.className="iScrollHorizontalScrollbar"):(!0===c&&(d.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",
f.style.width="100%"),d.className="iScrollVerticalScrollbar");d.style.cssText+=";overflow:hidden";b||(d.style.pointerEvents="none");d.appendChild(f);return d}function v(a,b){this.wrapper="string"==typeof b.el?p.querySelector(b.el):b.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=a;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var c in b)this.options[c]=
b[c];this.sizeRatioY=this.sizeRatioX=1;this.maxPosY=this.maxPosX=0;this.options.interactive&&(this.options.disableTouch||(e.addEvent(this.indicator,"touchstart",this),e.addEvent(h,"touchend",this)),this.options.disablePointer||(e.addEvent(this.indicator,"MSPointerDown",this),e.addEvent(h,"MSPointerUp",this)),this.options.disableMouse||(e.addEvent(this.indicator,"mousedown",this),e.addEvent(h,"mouseup",this)));this.options.fade&&(this.wrapperStyle[e.style.transform]=this.scroller.translateZ,this.wrapperStyle[e.style.transitionDuration]=
e.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var w=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||h.msRequestAnimationFrame||function(a){h.setTimeout(a,1E3/60)},e=function(){function a(a){return!1===d?!1:""===d?a:d+a.charAt(0).toUpperCase()+a.substr(1)}var b={},c=p.createElement("div").style,d=function(){for(var a=["t","webkitT","MozT","msT","OT"],b,d=0,f=a.length;d<f;d++)if(b=a[d]+"ransform",b in c)return a[d].substr(0,
a[d].length-1);return!1}();b.getTime=Date.now||function(){return(new Date).getTime()};b.extend=function(a,b){for(var c in b)a[c]=b[c]};b.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)};b.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)};b.momentum=function(a,b,c,d,e,k){b=a-b;c=f.abs(b)/c;var h;k=void 0===k?6E-4:k;h=a+c*c/(2*k)*(0>b?-1:1);k=c/k;h<d?(h=e?d-e/2.5*(c/8):d,b=f.abs(h-a),k=b/c):0<h&&(h=e?e/2.5*(c/8):0,b=f.abs(a)+h,k=b/c);return{destination:f.round(h),duration:k}};var e=
a("transform");b.extend(b,{hasTransform:!1!==e,hasPerspective:a("perspective")in c,hasTouch:"ontouchstart"in h,hasPointer:navigator.msPointerEnabled,hasTransition:a("transition")in c});b.isBadAndroid=/Android /.test(h.navigator.appVersion)&&!/Chrome\/\d/.test(h.navigator.appVersion);b.extend(b.style={},{transform:e,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin")});b.hasClass=
function(a,b){return(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)};b.addClass=function(a,c){if(!b.hasClass(a,c)){var d=a.className.split(" ");d.push(c);a.className=d.join(" ")}};b.removeClass=function(a,c){b.hasClass(a,c)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+c+"(\\s|$)","g")," "))};b.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}};b.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;
return!1};b.extend(b.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});b.extend(b.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return f.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){return--a*a*(5*a+4)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*
a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){return 0===a?0:1==a?1:.4*f.pow(2,-10*a)*f.sin(2*(a-.055)*f.PI/.22)+1}}});b.tap=function(a,b){var c=p.createEvent("Event");c.initEvent(b,!0,!0);c.pageX=a.pageX;c.pageY=a.pageY;a.target.dispatchEvent(c)};b.click=function(a){var b=a.target,c;/(SELECT|INPUT|TEXTAREA)/i.test(b.tagName)||(c=p.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,
1,b.screenX,b.screenY,b.clientX,b.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._constructed=!0,b.dispatchEvent(c))};return b}();m.prototype={version:"5.1.1",_init:function(){this._initEvents();this.options.zoom&&this._initZoom();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},
_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=e.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&e.eventType[a.type]!==this.initiated)){!this.options.preventDefault||e.isBadAndroid||e.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b=a.touches?a.touches[0]:a;this.initiated=
e.eventType[a.type];this.moved=!1;this.directionLocked=this.directionY=this.directionX=this.distY=this.distX=0;this._transitionTime();this.startTime=e.getTime();this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,a=this.getComputedPosition(),this._translate(f.round(a.x),f.round(a.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd"));this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=
this.y;this.pointX=b.pageX;this.pointY=b.pageY;this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b=a.touches?a.touches[0]:a,c=b.pageX-this.pointX,d=b.pageY-this.pointY,k=e.getTime(),g;this.pointX=b.pageX;this.pointY=b.pageY;this.distX+=c;this.distY+=d;b=f.abs(this.distX);g=f.abs(this.distY);if(!(10>b&&10>g)){this.directionLocked||this.options.freeScroll||(this.directionLocked=b>g+this.options.directionLockThreshold?
"h":g>=b+this.options.directionLockThreshold?"v":"n");if("h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough){this.initiated=!1;return}d=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough){this.initiated=!1;return}c=0}c=this.hasHorizontalScroll?c:0;d=this.hasVerticalScroll?d:0;a=this.x+c;b=this.y+d;if(0<a||
a<this.maxScrollX)a=this.options.bounce?this.x+c/3:0<a?0:this.maxScrollX;if(0<b||b<this.maxScrollY)b=this.options.bounce?this.y+d/3:0<b?0:this.maxScrollY;this.directionX=0<c?-1:0>c?1:0;this.directionY=0<d?-1:0>d?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(a,b);300<k-this.startTime&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&!e.preventDefaultException(a.target,
this.options.preventDefaultException)&&a.preventDefault();var b=a.changedTouches?a.changedTouches[0]:a,c,d;d=e.getTime()-this.startTime;var k=f.round(this.x),g=f.round(this.y),h=f.abs(k-this.startX),n=f.abs(g-this.startY);c=0;var l="";this.initiated=this.isInTransition=0;this.endTime=e.getTime();if(!this.resetPosition(this.options.bounceTime))if(this.scrollTo(k,g),this.moved)if(this._events.flick&&200>d&&100>h&&100>n)this._execEvent("flick");else if(this.options.momentum&&300>d&&(c=this.hasHorizontalScroll?
e.momentum(this.x,this.startX,d,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:k,duration:0},d=this.hasVerticalScroll?e.momentum(this.y,this.startY,d,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:g,duration:0},k=c.destination,g=d.destination,c=f.max(c.duration,d.duration),this.isInTransition=1),this.options.snap&&(this.currentPage=l=this._nearestSnap(k,g),c=this.options.snapSpeed||f.max(f.max(f.min(f.abs(k-
l.x),1E3),f.min(f.abs(g-l.y),1E3)),300),k=l.x,g=l.y,this.directionY=this.directionX=0,l=this.options.bounceEasing),k!=this.x||g!=this.y){if(0<k||k<this.maxScrollX||0<g||g<this.maxScrollY)l=e.ease.quadratic;this.scrollTo(k,g,c,l)}else this._execEvent("scrollEnd");else{if(this.doubleTapTimer&&this.options.zoom)clearTimeout(this.doubleTapTimer),this.doubleTapTimer=null,this.options.doubleTapZoom&&this.zoom(1<this.scale?1:this.options.doubleTapZoom,b.pageX,b.pageY);else{var m=this;this.doubleTapTimer=
setTimeout(function(){m.doubleTapTimer=null;m.options.tap&&e.tap(a,m.options.tap);m.options.click&&e.click(a)},this.options.zoom?250:0)}this._execEvent("scrollCancel")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;!this.hasHorizontalScroll||0<this.x?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX);!this.hasVerticalScroll||0<this.y?c=0:this.y<this.maxScrollY&&
(c=this.maxScrollY);if(b==this.x&&c==this.y)return!1;this.scrollTo(b,c,a||0,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=f.round(this.scroller.offsetWidth*this.scale);this.scrollerHeight=f.round(this.scroller.offsetHeight*this.scale);this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-
this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&0>this.maxScrollX;this.hasVerticalScroll=this.options.scrollY&&0>this.maxScrollY;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.directionY=this.directionX=this.endTime=0;this.wrapperOffset=e.offset(this.wrapper);this.options.slider&&(this.wrapperOffset=e.offset(this.options.slider));this._execEvent("refresh");
this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]);this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);-1<c&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a;b=this.y+b;this.scrollTo(a,b,c||0,d)},scrollTo:function(a,b,c,d){d=d||e.ease.circular;this.isInTransition=
this.options.useTransition&&0<c;!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,c,d,k){if(a=a.nodeType?a:this.scroller.querySelector(a)){var g=e.offset(a);g.left-=this.wrapperOffset.left;g.top-=this.wrapperOffset.top;!0===c&&(c=f.round(a.offsetWidth/2-this.wrapper.offsetWidth/2));!0===d&&(d=f.round(a.offsetHeight/2-this.wrapper.offsetHeight/2));g.left-=c||0;g.top-=
d||0;g.left=0<g.left?0:g.left<this.maxScrollX?this.maxScrollX:g.left;g.top=0<g.top?0:g.top<this.maxScrollY?this.maxScrollY:g.top;b=void 0===b||null===b||"auto"===b?f.max(f.abs(this.x-g.left),f.abs(this.y-g.top)):b;this.scrollTo(g.left,g.top,b,k)}},_transitionTime:function(a){a=a||0;this.scrollerStyle[e.style.transitionDuration]=a+"ms";!a&&e.isBadAndroid&&(this.scrollerStyle[e.style.transitionDuration]="0.001s");if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},
_transitionTimingFunction:function(a){this.scrollerStyle[e.style.transitionTimingFunction]=a;if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[e.style.transform]="translate("+a+"px,"+b+"px) scale("+this.scale+") "+this.translateZ:(a=f.round(a),b=f.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px");this.x=a;this.y=b;if(this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].updatePosition()},
_initEvents:function(a){a=a?e.removeEvent:e.addEvent;var b=this.options.bindToWrapper?this.wrapper:h;a(h,"orientationchange",this);a(h,"resize",this);this.options.disableMouse||(a(this.wrapper,"mousedown",this),a(b,"mousemove",this),a(b,"mousecancel",this),a(b,"mouseup",this));e.hasPointer&&!this.options.disablePointer&&(a(this.wrapper,"MSPointerDown",this),a(b,"MSPointerMove",this),a(b,"MSPointerCancel",this),a(b,"MSPointerUp",this));e.hasTouch&&!this.options.disableTouch&&(a(this.wrapper,"touchstart",
this),a(b,"touchmove",this),a(b,"touchcancel",this),a(b,"touchend",this));a(this.scroller,"transitionend",this);a(this.scroller,"webkitTransitionEnd",this);a(this.scroller,"oTransitionEnd",this);a(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a=h.getComputedStyle(this.scroller,null),b;this.options.useTransform?(a=a[e.style.transform].split(")")[0].split(", "),b=+(a[12]||a[4]),a=+(a[13]||a[5])):(b=+a.left.replace(/[^-\d.]/g,""),a=+a.top.replace(/[^-\d.]/g,""));return{x:b,
y:a}},_initIndicators:function(){function a(a){for(var b=e.indicators.length;b--;)a.call(e.indicators[b])}var b=this.options.interactiveScrollbars,c="string"!=typeof this.options.scrollbars,d=[],f,e=this;this.indicators=[];this.options.scrollbars&&(this.options.scrollY&&(f={el:u("v",b,this.options.scrollbars),interactive:b,defaultScrollbars:!0,customStyle:c,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(f.el),
d.push(f)),this.options.scrollX&&(f={el:u("h",b,this.options.scrollbars),interactive:b,defaultScrollbars:!0,customStyle:c,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(f.el),d.push(f)));this.options.indicators&&(d=d.concat(this.options.indicators));for(b=d.length;b--;)this.indicators.push(new v(this,d[b]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",
function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})}));this.on("refresh",function(){a(function(){this.refresh()})});this.on("destroy",function(){a(function(){this.destroy()});delete this.indicators})},_initZoom:function(){this.scrollerStyle[e.style.transformOrigin]="0 0"},_zoomStart:function(a){var b=f.abs(a.touches[0].pageX-a.touches[1].pageX),c=f.abs(a.touches[0].pageY-a.touches[1].pageY);
this.touchesDistanceStart=f.sqrt(b*b+c*c);this.startScale=this.scale;this.originX=f.abs(a.touches[0].pageX+a.touches[1].pageX)/2+this.wrapperOffset.left-this.x;this.originY=f.abs(a.touches[0].pageY+a.touches[1].pageY)/2+this.wrapperOffset.top-this.y;this._execEvent("zoomStart")},_zoom:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b=f.abs(a.touches[0].pageX-a.touches[1].pageX);a=f.abs(a.touches[0].pageY-a.touches[1].pageY);var b=
f.sqrt(b*b+a*a),b=1/this.touchesDistanceStart*b*this.startScale,c;this.scaled=!0;b<this.options.zoomMin?b=.5*this.options.zoomMin*f.pow(2,b/this.options.zoomMin):b>this.options.zoomMax&&(b=2*this.options.zoomMax*f.pow(.5,this.options.zoomMax/b));c=b/this.startScale;a=this.originX-this.originX*c+this.startX;c=this.originY-this.originY*c+this.startY;this.scale=b;this.scrollTo(a,c,0)}},_zoomEnd:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();
var b;this.initiated=this.isInTransition=0;this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.refresh();b=this.scale/this.startScale;a=this.originX-this.originX*b+this.startX;b=this.originY-this.originY*b+this.startY;0<a?a=0:a<this.maxScrollX&&(a=this.maxScrollX);0<b?b=0:b<this.maxScrollY&&(b=this.maxScrollY);this.x==a&&this.y==b||this.scrollTo(a,b,this.options.bounceTime);this.scaled=!1;this._execEvent("zoomEnd")}},
zoom:function(a,b,c,d){a<this.options.zoomMin?a=this.options.zoomMin:a>this.options.zoomMax&&(a=this.options.zoomMax);if(a!=this.scale){var f=a/this.scale;b=void 0===b?this.wrapperWidth/2:b;c=void 0===c?this.wrapperHeight/2:c;d=void 0===d?300:d;b=b+this.wrapperOffset.left-this.x;c=c+this.wrapperOffset.top-this.y;b=b-b*f+this.x;c=c-c*f+this.y;this.scale=a;this.refresh();0<b?b=0:b<this.maxScrollX&&(b=this.maxScrollX);0<c?c=0:c<this.maxScrollY&&(c=this.maxScrollY);this.scrollTo(b,c,d)}},_wheelZoom:function(a){var b,
c=this;clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){c._execEvent("zoomEnd")},400);if("deltaX"in a)b=-a.deltaY/f.abs(a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaY/f.abs(a.wheelDeltaY);else if("wheelDelta"in a)b=a.wheelDelta/f.abs(a.wheelDelta);else if("detail"in a)b=-a.detail/f.abs(a.wheelDelta);else return;this.zoom(this.scale+b/5,a.pageX,a.pageY,0)},_initWheel:function(){e.addEvent(this.wrapper,"wheel",this);e.addEvent(this.wrapper,"mousewheel",this);e.addEvent(this.wrapper,
"DOMMouseScroll",this);this.on("destroy",function(){e.removeEvent(this.wrapper,"wheel",this);e.removeEvent(this.wrapper,"mousewheel",this);e.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault();a.stopPropagation();var b,c,d,e=this;void 0===this.wheelTimeout&&e._execEvent("scrollStart");clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd");e.wheelTimeout=void 0},400);if("deltaX"in a)b=-a.deltaX,a=-a.deltaY;
else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,a=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=a=a.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in a)b=a=-a.detail/3*this.options.mouseWheelSpeed;else return;b*=this.options.invertWheelDirection;a*=this.options.invertWheelDirection;this.hasVerticalScroll||(b=a,a=0);this.options.snap?(c=this.currentPage.pageX,d=this.currentPage.pageY,0<b?c--:0>b&&c++,0<a?d--:0>a&&d++,this.goToPage(c,
d)):(c=this.x+f.round(this.hasHorizontalScroll?b:0),d=this.y+f.round(this.hasVerticalScroll?a:0),0<c?c=0:c<this.maxScrollX&&(c=this.maxScrollX),0<d?d=0:d<this.maxScrollY&&(d=this.maxScrollY),this.scrollTo(c,d,0))}},_initSnap:function(){this.currentPage={};"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var a=0,b,c=0,d,e,g,h=0,n;d=this.options.snapStepX||this.wrapperWidth;var l=this.options.snapStepY||this.wrapperHeight;
this.pages=[];if(this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(e=f.round(d/2),g=f.round(l/2);h>-this.scrollerWidth;){this.pages[a]=[];for(n=b=0;n>-this.scrollerHeight;)this.pages[a][b]={x:f.max(h,this.maxScrollX),y:f.max(n,this.maxScrollY),width:d,height:l,cx:h-e,cy:n-g},n-=l,b++;h-=d;a++}else for(l=this.options.snap,b=l.length,d=-1;a<b;a++){if(0===a||l[a].offsetLeft<=l[a-1].offsetLeft)c=0,d++;this.pages[c]||(this.pages[c]=[]);h=f.max(-l[a].offsetLeft,
this.maxScrollX);n=f.max(-l[a].offsetTop,this.maxScrollY);e=h-f.round(l[a].offsetWidth/2);g=n-f.round(l[a].offsetHeight/2);this.pages[c][d]={x:h,y:n,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:e,cy:g};h>this.maxScrollX&&c++}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);0===this.options.snapThreshold%1?this.snapThresholdY=this.snapThresholdX=this.options.snapThreshold:(this.snapThresholdX=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),
this.snapThresholdY=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var a=this.options.snapSpeed||f.max(f.max(f.min(f.abs(this.x-this.startX),1E3),f.min(f.abs(this.y-this.startY),1E3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,e=0;if(f.abs(a-this.absStartX)<
this.snapThresholdX&&f.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;0<a?a=0:a<this.maxScrollX&&(a=this.maxScrollX);0<b?b=0:b<this.maxScrollY&&(b=this.maxScrollY);for(;c<d;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;e<d;e++)if(b>=this.pages[0][e].cy){b=this.pages[0][e].y;break}c==this.currentPage.pageX&&(c+=this.directionX,0>c?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x);e==this.currentPage.pageY&&(e+=this.directionY,
0>e?e=0:e>=this.pages[0].length&&(e=this.pages[0].length-1),b=this.pages[0][e].y);return{x:a,y:b,pageX:c,pageY:e}},goToPage:function(a,b,c,d){d=d||this.options.bounceEasing;a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0);b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var e=this.pages[a][b].x,g=this.pages[a][b].y;c=void 0===c?this.options.snapSpeed||f.max(f.max(f.min(f.abs(e-this.x),1E3),f.min(f.abs(g-this.y),1E3)),300):c;this.currentPage={x:e,y:g,pageX:a,pageY:b};this.scrollTo(e,
g,c,d)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++;c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++);this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--;0>c&&this.hasVerticalScroll&&(c=0,d--);this.goToPage(c,d,a,b)},_initKeys:function(a){a={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var b;if("object"==typeof this.options.keyBindings)for(b in this.options.keyBindings)"string"==typeof this.options.keyBindings[b]&&
(this.options.keyBindings[b]=this.options.keyBindings[b].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(b in a)this.options.keyBindings[b]=this.options.keyBindings[b]||a[b];e.addEvent(h,"keydown",this);this.on("destroy",function(){e.removeEvent(h,"keydown",this)})},_key:function(a){if(this.enabled){var b=this.options.snap,c=b?this.currentPage.pageX:this.x,d=b?this.currentPage.pageY:this.y,h=e.getTime(),g=this.keyTime||0,m;this.options.useTransition&&this.isInTransition&&(m=this.getComputedPosition(),
this._translate(f.round(m.x),f.round(m.y)),this.isInTransition=!1);this.keyAcceleration=200>h-g?f.min(this.keyAcceleration+.25,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?c+=b?1:this.wrapperWidth:d+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?c-=b?1:this.wrapperWidth:d-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:c=b?this.pages.length-1:this.maxScrollX;
d=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=c=0;break;case this.options.keyBindings.left:c+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:d+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:c-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:d-=b?1:5+this.keyAcceleration>>0;break;default:return}b?this.goToPage(c,d):(0<c?this.keyAcceleration=c=0:c<this.maxScrollX&&(c=this.maxScrollX,this.keyAcceleration=
0),0<d?this.keyAcceleration=d=0:d<this.maxScrollY&&(d=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(c,d,0),this.keyTime=h)}},_animate:function(a,b,c,d){function f(){var q=e.getTime(),t;q>=p?(g.isAnimating=!1,g._translate(a,b),g.resetPosition(g.options.bounceTime)||g._execEvent("scrollEnd")):(q=(q-l)/c,t=d(q),q=(a-h)*t+h,t=(b-m)*t+m,g._translate(q,t),g.isAnimating&&w(f))}var g=this,h=this.x,m=this.y,l=e.getTime(),p=l+c;this.isAnimating=!0;f()},handleEvent:function(a){switch(a.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(a);
this.options.zoom&&a.touches&&1<a.touches.length&&this._zoomStart(a);break;case "touchmove":case "MSPointerMove":case "mousemove":if(this.options.zoom&&a.touches&&a.touches[1]){this._zoom(a);break}this._move(a);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":if(this.scaled){this._zoomEnd(a);break}this._end(a);break;case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(a);
break;case "wheel":case "DOMMouseScroll":case "mousewheel":if("zoom"==this.options.wheelAction){this._wheelZoom(a);break}this._wheel(a);break;case "keydown":this._key(a)}}};v.prototype={handleEvent:function(a){switch(a.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(a);break;case "touchmove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":this._end(a)}},
destroy:function(){this.options.interactive&&(e.removeEvent(this.indicator,"touchstart",this),e.removeEvent(this.indicator,"MSPointerDown",this),e.removeEvent(this.indicator,"mousedown",this),e.removeEvent(h,"touchmove",this),e.removeEvent(h,"MSPointerMove",this),e.removeEvent(h,"mousemove",this),e.removeEvent(h,"touchend",this),e.removeEvent(h,"MSPointerUp",this),e.removeEvent(h,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(a){var b=
a.touches?a.touches[0]:a;a.preventDefault();a.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=b.pageX;this.lastPointY=b.pageY;this.startTime=e.getTime();this.options.disableTouch||e.addEvent(h,"touchmove",this);this.options.disablePointer||e.addEvent(h,"MSPointerMove",this);this.options.disableMouse||e.addEvent(h,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b=a.touches?a.touches[0]:a,c,d;e.getTime();this.moved||this.scroller._execEvent("scrollStart");
this.moved=!0;c=b.pageX-this.lastPointX;this.lastPointX=b.pageX;d=b.pageY-this.lastPointY;this.lastPointY=b.pageY;this._pos(this.x+c,this.y+d);a.preventDefault();a.stopPropagation()},_end:function(a){if(this.initiated){this.initiated=!1;a.preventDefault();a.stopPropagation();e.removeEvent(h,"touchmove",this);e.removeEvent(h,"MSPointerMove",this);e.removeEvent(h,"mousemove",this);if(this.scroller.options.snap){a=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var b=this.options.snapSpeed||
f.max(f.max(f.min(f.abs(this.scroller.x-a.x),1E3),f.min(f.abs(this.scroller.y-a.y),1E3)),300);if(this.scroller.x!=a.x||this.scroller.y!=a.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=a,this.scroller.scrollTo(a.x,a.y,b,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0;this.indicatorStyle[e.style.transitionDuration]=a+"ms";!a&&e.isBadAndroid&&(this.indicatorStyle[e.style.transitionDuration]=
"0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[e.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime();this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?
(e.addClass(this.wrapper,"iScrollBothScrollbars"),e.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(e.removeClass(this.wrapper,"iScrollBothScrollbars"),e.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.options.listenX&&
(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=f.max(f.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),
this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=f.max(f.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?
(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&f.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&f.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||
(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=f.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=f.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+
"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=f.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=f.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=
this.height+"px"));this.x=a;this.y=b;this.scroller.options.useTransform?this.indicatorStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX);0>b?b=0:b>this.maxPosY&&(b=this.maxPosY);a=this.options.listenX?f.round(a/this.sizeRatioX):this.scroller.x;b=this.options.listenY?f.round(b/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(a,b)},fade:function(a,
b){if(!b||this.visible){clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var c=a?250:500,d=a?0:300;this.wrapperStyle[e.style.transitionDuration]=c+"ms";this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a;this.visible=+a}.bind(this,a?"1":"0"),d)}}};m.utils=e;"undefined"!=typeof module&&module.exports?module.exports=m:h.IScroll=m})(window,document,Math);